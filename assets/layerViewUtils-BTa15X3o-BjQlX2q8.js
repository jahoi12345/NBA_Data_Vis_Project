import{F as s}from"./Color-CERqXxxY-BuYn26eI.js";import{l as f,I as p}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{l as a}from"./screenUtils-BitdhK1O-L0FLPAMi.js";import{T as d,e as l}from"./vec4f64-DPb6J-GU-C7c2DqbZ.js";import{s as u}from"./mathUtils-PIGhLnI9-B1tKUlUb.js";function h(e){return e.type==="fill"}function m(e){return e.type==="extrude"}function A(e){return e&&e.enabled&&(m(e)||h(e))&&e.edges!=null}function y(e){return e&&e.enabled&&e.edges||null}function B(e,n){return g(y(e),n)}function g(e,n){if(e==null)return null;const t=e.color!=null?d(s.toUnitRGBA(e.color)):l(0,0,0,0),r=a(e.size),o=a(e.extensionLength);switch(e.type){case"solid":return x({color:t,size:r,extensionLength:o,...n});case"sketch":return b({color:t,size:r,extensionLength:o,...n});default:return}}function x(e){return{...w,...e,type:0}}function b(e){return{...S,...e,type:1}}const w={color:l(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1},S={color:l(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1};function I(e){switch(e){case"multiply":default:return 1;case"ignore":return 2;case"replace":return 3;case"tint":return 4}}function N(e,n,t){if(e==null||n===2)return t[0]=255,t[1]=255,t[2]=255,void(t[3]=255);const r=u(Math.round(e[3]*c),0,c),o=r===0||n===4?0:n===3?L:$;t[0]=u(Math.round(e[0]*i),0,i),t[1]=u(Math.round(e[1]*i),0,i),t[2]=u(Math.round(e[2]*i),0,i),t[3]=r+o}function O(e,n){for(let t=0;t<4;t++)e[t]=z(n[t]);return e}function z(e){return isNaN(e)?255:e*(254/255)}const i=255,c=85,L=c,$=2*c;function R(e){return e&&typeof e.highlight=="function"}function U(e){return e&&typeof e.maskOccludee=="function"}function k(e,n,t){return e==null||e>=t&&(n===0||e<=n)}function q(e,n){if(n&&e){const{minScale:t,maxScale:r}=e;if(v(t,r))return k(n,t,r)}return!0}function v(e,n){return e!=null&&e>0||n!=null&&n>0}function C(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale}const D=()=>!f("disable-feature:layer-based-scale-visibility");function E(e,n,t){return new p("layerview:spatial-reference-incompatible",`The spatial reference of this ${e} (wkid: ${n??"undefined"}) is incompatible with the spatial reference of the view (wkid: ${t??"undefined"}).`,{})}export{B as A,I as B,q as C,C as D,D as E,E as F,N as O,A as P,O as R,R as U,x as g,k,U as q,v,g as y};
