import{F as nt}from"./Polygon-D6wEPb3W-D2MPjRU4.js";import{L as ct}from"./vec32-CewSdTn3-VRto2OOh.js";import{z as ht,P as x}from"./vec42-B8VM4vXb-B6OGOEI9.js";import{o as yt}from"./vec2f64-rIxtbMRN-Kai9mK1i.js";import{o as lt}from"./vec4f64-DPb6J-GU-C7c2DqbZ.js";let b=globalThis.Float16Array;function Tt(...r){return new(b??Float32Array)(...r)}function E(){return b}let T=!!b,g=class{static{this.ElementCount=9}constructor(r,t,e=0,s,i){this.TypedArrayConstructor=r,this.elementCount=9;const f=this.TypedArrayConstructor;s===void 0&&(s=9*f.BYTES_PER_ELEMENT);const u=t.byteLength===0?0:e;this.typedBuffer=i==null?new f(t,u):new f(t,u,(i-e)/f.BYTES_PER_ELEMENT),this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(r,t,e=this.count-t){const s=this.typedBuffer.byteOffset+t*this.stride;return new r(this.buffer,s,this.stride,s+e*this.stride)}getMat(r,t){let e=r*this.typedBufferStride;for(let s=0;s<9;s++)t[s]=this.typedBuffer[e++];return t}setMat(r,t){let e=r*this.typedBufferStride;for(let s=0;s<9;s++)this.typedBuffer[e++]=t[s]}get(r,t){return this.typedBuffer[r*this.typedBufferStride+t]}set(r,t,e){this.typedBuffer[r*this.typedBufferStride+t]=e}copyFrom(r,t,e){const s=this.typedBuffer,i=t.typedBuffer;let f=r*this.typedBufferStride,u=e*t.typedBufferStride;for(let c=0;c<9;++c)s[f++]=i[u++]}get buffer(){return this.typedBuffer.buffer}},M=class{static{this.ElementCount=16}constructor(r,t,e=0,s,i){this.TypedArrayConstructor=r,this.elementCount=16;const f=this.TypedArrayConstructor;s===void 0&&(s=16*f.BYTES_PER_ELEMENT);const u=t.byteLength===0?0:e;this.typedBuffer=i==null?new f(t,u):new f(t,u,(i-e)/f.BYTES_PER_ELEMENT),this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(r,t,e=this.count-t){const s=this.typedBuffer.byteOffset+t*this.stride;return new r(this.buffer,s,this.stride,s+e*this.stride)}getMat(r,t){let e=r*this.typedBufferStride;for(let s=0;s<16;s++)t[s]=this.typedBuffer[e++];return t}setMat(r,t){let e=r*this.typedBufferStride;for(let s=0;s<16;s++)this.typedBuffer[e++]=t[s]}get(r,t){return this.typedBuffer[r*this.typedBufferStride+t]}set(r,t,e){this.typedBuffer[r*this.typedBufferStride+t]=e}copyFrom(r,t,e){this.copyFromTypedBuffer(r,t.typedBuffer,e*t.typedBufferStride)}copyFromTypedBuffer(r,t,e){const s=this.typedBuffer;let i=r*this.typedBufferStride;for(let f=0;f<16;++f)s[i++]=t[e++]}get buffer(){return this.typedBuffer.buffer}};class y{static{this.ElementCount=1}constructor(t,e,s=0,i,f){this.TypedArrayConstructor=t,this.elementCount=1;const u=this.TypedArrayConstructor;i===void 0&&(i=u.BYTES_PER_ELEMENT);const c=e.byteLength===0?0:s;this.typedBuffer=f==null?new u(e,c):new u(e,c,(f-s)/u.BYTES_PER_ELEMENT),this.stride=i,this.typedBufferStride=i/u.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,s=this.count-e){const i=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,i,this.stride,i+s*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}let l=class{static{this.ElementCount=2}constructor(r,t,e=0,s,i){this.TypedArrayConstructor=r,this.start=e,this.elementCount=2;const f=this.TypedArrayConstructor;s===void 0&&(s=2*f.BYTES_PER_ELEMENT);const u=t.byteLength===0?0:e;this.typedBuffer=i==null?new f(t,u):new f(t,u,(i-e)/f.BYTES_PER_ELEMENT),this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(r,t,e=this.count-t){const s=this.typedBuffer.byteOffset+t*this.stride;return new r(this.buffer,s,this.stride,s+e*this.stride)}getVec(r,t){return r*=this.typedBufferStride,nt(t,this.typedBuffer[r],this.typedBuffer[r+1])}setVec(r,t){r*=this.typedBufferStride,this.typedBuffer[r++]=t[0],this.typedBuffer[r]=t[1]}get(r,t){return this.typedBuffer[r*this.typedBufferStride+t]}set(r,t,e){this.typedBuffer[r*this.typedBufferStride+t]=e}setValues(r,t,e){r*=this.typedBufferStride,this.typedBuffer[r++]=t,this.typedBuffer[r]=e}copyFrom(r,t,e){const s=this.typedBuffer,i=t.typedBuffer;let f=r*this.typedBufferStride,u=e*t.typedBufferStride;s[f++]=i[u++],s[f]=i[u]}get buffer(){return this.typedBuffer.buffer}},p=class{static{this.ElementCount=3}constructor(r,t,e=0,s,i){this.TypedArrayConstructor=r,this.elementCount=3;const f=this.TypedArrayConstructor;s===void 0&&(s=3*f.BYTES_PER_ELEMENT);const u=t.byteLength===0?0:e;this.typedBuffer=i==null?new f(t,u):new f(t,u,(i-e)/f.BYTES_PER_ELEMENT),this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(r,t,e=this.count-t){const s=this.typedBuffer.byteOffset+t*this.stride;return new r(this.buffer,s,this.stride,s+e*this.stride)}getVec(r,t){return r*=this.typedBufferStride,ct(t,this.typedBuffer[r],this.typedBuffer[r+1],this.typedBuffer[r+2])}setVec(r,t){r*=this.typedBufferStride,this.typedBuffer[r++]=t[0],this.typedBuffer[r++]=t[1],this.typedBuffer[r]=t[2]}get(r,t){return this.typedBuffer[r*this.typedBufferStride+t]}set(r,t,e){this.typedBuffer[r*this.typedBufferStride+t]=e}setValues(r,t,e,s){r*=this.typedBufferStride,this.typedBuffer[r++]=t,this.typedBuffer[r++]=e,this.typedBuffer[r]=s}copyFrom(r,t,e){const s=this.typedBuffer,i=t.typedBuffer;let f=r*this.typedBufferStride,u=e*t.typedBufferStride;s[f++]=i[u++],s[f++]=i[u++],s[f]=i[u]}get buffer(){return this.typedBuffer.buffer}},d=class{static{this.ElementCount=4}constructor(r,t,e=0,s,i){this.TypedArrayConstructor=r,this.start=e,this.elementCount=4;const f=this.TypedArrayConstructor;s===void 0&&(s=4*f.BYTES_PER_ELEMENT);const u=t.byteLength===0?0:e;this.typedBuffer=i==null?new f(t,u):new f(t,u,(i-e)/f.BYTES_PER_ELEMENT),this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(r,t,e=this.count-t){const s=this.typedBuffer.byteOffset+t*this.stride;return new r(this.buffer,s,this.stride,s+e*this.stride)}getVec(r,t){return r*=this.typedBufferStride,ht(t,this.typedBuffer[r++],this.typedBuffer[r++],this.typedBuffer[r++],this.typedBuffer[r])}setVec(r,t){r*=this.typedBufferStride,this.typedBuffer[r++]=t[0],this.typedBuffer[r++]=t[1],this.typedBuffer[r++]=t[2],this.typedBuffer[r]=t[3]}get(r,t){return this.typedBuffer[r*this.typedBufferStride+t]}set(r,t,e){this.typedBuffer[r*this.typedBufferStride+t]=e}setValues(r,t,e,s,i){r*=this.typedBufferStride,this.typedBuffer[r++]=t,this.typedBuffer[r++]=e,this.typedBuffer[r++]=s,this.typedBuffer[r]=i}copyFrom(r,t,e){const s=this.typedBuffer,i=t.typedBuffer;let f=r*this.typedBufferStride,u=e*t.typedBufferStride;s[f++]=i[u++],s[f++]=i[u++],s[f++]=i[u++],s[f]=i[u]}get buffer(){return this.typedBuffer.buffer}};const n=lt();let pt=class{constructor(r){this.message=r}toString(){return`AssertException: ${this.message}`}};function a(r,t="Assertion"){if(!r){const e=new Error(t).stack;throw new pt(`${t} at ${e}`)}}function mt(r,t){r||(t=t||"",console.warn("Verify failed: "+t+`
`+new Error("verify").stack))}function St(r,t,e,s){let i,f=(e[0]-r[0])/t[0],u=(s[0]-r[0])/t[0];f>u&&(i=f,f=u,u=i);let c=(e[1]-r[1])/t[1],h=(s[1]-r[1])/t[1];if(c>h&&(i=c,c=h,h=i),f>h||c>u)return!1;c>f&&(f=c),h<u&&(u=h);let B=(e[2]-r[2])/t[2],o=(s[2]-r[2])/t[2];return B>o&&(i=B,B=o,o=i),!(f>o||B>u)&&(o<u&&(u=o),!(u<0))}function At(r,t,e,s,i,f=yt()){const u=(s[i]-e[i])*(t[0]-r[0])-(s[0]-e[0])*(t[i]-r[i]),c=(s[0]-e[0])*(r[i]-e[i])-(s[i]-e[i])*(r[0]-e[0]);if(u===0)return!1;const h=c/u;return f[0]=r[0]+h*(t[0]-r[0]),f[1]=r[i]+h*(t[i]-r[i]),!0}function bt(r,t,e,s,i){n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=1,x(n,n,t),i.length>2&&(i[2]=-n[2]),x(n,n,e),a(n[3]!==0),i[0]=n[0]/n[3],i[1]=n[1]/n[3],i[2]=n[2]/n[3],i[0]=(.5*i[0]+.5)*s[2]+s[0],i[1]=(.5*i[1]+.5)*s[3]+s[1]}function xt(r,t){return Math.log(r)/Math.log(t)}function gt(r){return r[0]===1&&r[1]===0&&r[2]===0&&r[3]===0&&r[4]===0&&r[5]===1&&r[6]===0&&r[7]===0&&r[8]===0&&r[9]===0&&r[10]===1&&r[11]===0&&r[15]===1}class Mt extends y{constructor(t,e=0,s,i){a(T),super(E(),t,e,s,i),this.elementType="f16"}static{this.ElementType="f16"}}class Lt extends y{constructor(t,e=0,s,i){super(Float32Array,t,e,s,i),this.elementType="f32"}static{this.ElementType="f32"}}class L extends l{constructor(t,e=0,s,i){a(T),super(E(),t,e,s,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="f16"}}class C extends l{constructor(t,e=0,s,i){super(Float32Array,t,e,s,i),this.elementType="f32"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="f32"}}class w extends p{constructor(t,e=0,s,i){a(T),super(E(),t,e,s,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="f16"}}class m extends p{constructor(t,e=0,s,i){super(Float32Array,t,e,s,i),this.elementType="f32"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class P extends d{constructor(t,e=0,s,i){a(T),super(E(),t,e,s,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(P,t,e)}static{this.ElementType="f16"}}let Ct=class N extends d{constructor(t,e=0,s,i){super(Float32Array,t,e,s,i),this.elementType="f32"}slice(t,e){return this.sliceBuffer(N,t,e)}static{this.ElementType="f32"}};class Y extends g{constructor(t,e=0,s,i){super(Float32Array,t,e,s,i),this.elementType="f32"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="f32"}}class F extends g{constructor(t,e=0,s,i){super(Float64Array,t,e,s,i),this.elementType="f64"}slice(t,e){return this.sliceBuffer(F,t,e)}static{this.ElementType="f64"}}class R extends M{constructor(t,e=0,s,i){super(Float32Array,t,e,s,i),this.elementType="f32"}slice(t,e){return this.sliceBuffer(R,t,e)}static{this.ElementType="f32"}}class I extends M{constructor(t,e=0,s,i){super(Float64Array,t,e,s,i),this.elementType="f64"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="f64"}}class O extends y{constructor(t,e=0,s,i){super(Float64Array,t,e,s,i),this.elementType="f64"}slice(t,e){return this.sliceBuffer(O,t,e)}static{this.ElementType="f64"}}class U extends l{constructor(t,e=0,s,i){super(Float64Array,t,e,s,i),this.elementType="f64"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="f64"}}class S extends p{constructor(t,e=0,s,i){super(Float64Array,t,e,s,i),this.elementType="f64"}slice(t,e){return this.sliceBuffer(S,t,e)}static fromTypedArray(t,e){return new S(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class V extends d{constructor(t,e=0,s,i){super(Float64Array,t,e,s,i),this.elementType="f64"}slice(t,e){return this.sliceBuffer(V,t,e)}static{this.ElementType="f64"}}class v extends y{constructor(t,e=0,s,i){super(Uint8Array,t,e,s,i),this.elementType="u8"}slice(t,e){return this.sliceBuffer(v,t,e)}static{this.ElementType="u8"}}class $ extends l{constructor(t,e=0,s,i){super(Uint8Array,t,e,s,i),this.elementType="u8"}slice(t,e){return this.sliceBuffer($,t,e)}static{this.ElementType="u8"}}class A extends p{constructor(t,e=0,s,i){super(Uint8Array,t,e,s,i),this.elementType="u8"}slice(t,e){return this.sliceBuffer(A,t,e)}static fromTypedArray(t,e){return new A(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class _ extends d{constructor(t,e=0,s,i){super(Uint8Array,t,e,s,i),this.elementType="u8"}slice(t,e){return this.sliceBuffer(_,t,e)}static{this.ElementType="u8"}}class k extends y{constructor(t,e=0,s,i){super(Uint16Array,t,e,s,i),this.elementType="u16"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="u16"}}class z extends l{constructor(t,e=0,s,i){super(Uint16Array,t,e,s,i),this.elementType="u16"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="u16"}}class j extends p{constructor(t,e=0,s,i){super(Uint16Array,t,e,s,i),this.elementType="u16"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="u16"}}class q extends d{constructor(t,e=0,s,i){super(Uint16Array,t,e,s,i),this.elementType="u16"}slice(t,e){return this.sliceBuffer(q,t,e)}static{this.ElementType="u16"}}class D extends y{constructor(t,e=0,s,i){super(Uint32Array,t,e,s,i),this.elementType="u32"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="u32"}}class G extends l{constructor(t,e=0,s,i){super(Uint32Array,t,e,s,i),this.elementType="u32"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="u32"}}class H extends p{constructor(t,e=0,s,i){super(Uint32Array,t,e,s,i),this.elementType="u32"}slice(t,e){return this.sliceBuffer(H,t,e)}static{this.ElementType="u32"}}class J extends d{constructor(t,e=0,s,i){super(Uint32Array,t,e,s,i),this.elementType="u32"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="u32"}}class K extends y{constructor(t,e=0,s,i){super(Int8Array,t,e,s,i),this.elementType="i8"}slice(t,e){return this.sliceBuffer(K,t,e)}static{this.ElementType="i8"}}class Q extends l{constructor(t,e=0,s,i){super(Int8Array,t,e,s,i),this.elementType="i8"}slice(t,e){return this.sliceBuffer(Q,t,e)}static{this.ElementType="i8"}}class W extends p{constructor(t,e=0,s,i){super(Int8Array,t,e,s,i),this.elementType="i8"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="i8"}}class X extends d{constructor(t,e=0,s,i){super(Int8Array,t,e,s,i),this.elementType="i8"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="i8"}}class Z extends y{constructor(t,e=0,s,i){super(Int16Array,t,e,s,i),this.elementType="i16"}slice(t,e){return this.sliceBuffer(Z,t,e)}static{this.ElementType="i16"}}class tt extends l{constructor(t,e=0,s,i){super(Int16Array,t,e,s,i),this.elementType="i16"}slice(t,e){return this.sliceBuffer(tt,t,e)}static{this.ElementType="i16"}}class et extends p{constructor(t,e=0,s,i){super(Int16Array,t,e,s,i),this.elementType="i16"}slice(t,e){return this.sliceBuffer(et,t,e)}static{this.ElementType="i16"}}class st extends d{constructor(t,e=0,s,i){super(Int16Array,t,e,s,i),this.elementType="i16"}slice(t,e){return this.sliceBuffer(st,t,e)}static{this.ElementType="i16"}}class rt extends y{constructor(t,e=0,s,i){super(Int32Array,t,e,s,i),this.elementType="i32"}slice(t,e){return this.sliceBuffer(rt,t,e)}static{this.ElementType="i32"}}class it extends l{constructor(t,e=0,s,i){super(Int32Array,t,e,s,i),this.elementType="i32"}slice(t,e){return this.sliceBuffer(it,t,e)}static{this.ElementType="i32"}}class ft extends p{constructor(t,e=0,s,i){super(Int32Array,t,e,s,i),this.elementType="i32"}slice(t,e){return this.sliceBuffer(ft,t,e)}static{this.ElementType="i32"}}class ut extends d{constructor(t,e=0,s,i){super(Int32Array,t,e,s,i),this.elementType="i32"}slice(t,e){return this.sliceBuffer(ut,t,e)}static{this.ElementType="i32"}}export{I as $,A,At as C,G as D,E,Ct as F,H as G,J as H,O as I,K as J,Q as K,L,mt as M,xt as N,U as O,gt as P,W as Q,Y as R,S,T,V as U,v as V,X as W,j as X,Lt as Y,Z,_,a,Tt as b,w as c,P as d,C as e,F as f,R as g,Mt as h,et as i,q as j,k,it as l,m,ft as n,St as o,D as q,rt as r,st as s,tt as t,ut as u,$ as v,bt as w,z};
