const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gif-DEXTwGXB-Tc-aIpE4.js","assets/jsonMap-Bs3hmeCU-Cusd0Fmz.js","assets/apng-tsmI8YD_-CsBELQQ3.js","assets/_commonjsHelpers-DCkdB7M8-DwXtFsJ3.js"])))=>i.map(i=>d[i]);
import{H as m,_ as u}from"./index-CTl7hdrJ.js";import{N as w,O as _,H as d}from"./Point-BfTTZoMu-BAT2Wq6O.js";import{I as g,w as y}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";const f=(a,e=f,t=e.f||(e.f=["assets/gif-DEXTwGXB.js","assets/jsonMap-Bs3hmeCU.js","assets/apng-tsmI8YD_.js","assets/_commonjsHelpers-DCkdB7M8.js"]))=>a.map(n=>t[n]);let r=null,s=!0;function v(a,e,t){if(!a||!e)throw new Error("Cannot construct image data without dimensions");if(s)try{return new ImageData(a,e)}catch{s=!1}return p(a,e,t)}function B(a,e,t,n){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(s)try{return new ImageData(a,e,t)}catch{s=!1}const i=p(e,t,n);return i.data.set(a,0),i}function h(){return r||(r=document.createElement("canvas"),r.width=1,r.height=1),r}function p(a,e,t){return t||(t=h()),t.getContext("2d").createImageData(a,e)}async function l(a,e){const t=window.URL.createObjectURL(a);try{const{data:n}=await d(t,{...e,responseType:"image"});return n}catch(n){throw y(n)?n:new g("invalid-image",`Could not fetch requested image at ${t}`)}finally{window.URL.revokeObjectURL(t)}}async function E(a,e){const{arrayBuffer:t,mediaType:n}=await I(a,e),i=n==="image/png";if(n==="image/gif"){const{isAnimatedGIF:o,parseGif:c}=await m(()=>u(()=>import("./gif-DEXTwGXB-Tc-aIpE4.js"),__vite__mapDeps([0,1])),f([0,1]));if(o(t))return c(t,e)}if(i){const{isAnimatedPNG:o,parseApng:c}=await m(()=>u(()=>import("./apng-tsmI8YD_-CsBELQQ3.js"),__vite__mapDeps([2,3,1])),f([2,3,1]));if(o(t))return c(t,e)}return l(new Blob([t],{type:n}),e)}async function I(a,e){const t=w(a);if(t?.isBase64)return{arrayBuffer:_(t.data),mediaType:t.mediaType};const n=await d(a,{responseType:"array-buffer",...e});return{arrayBuffer:n.data,mediaType:n.getHeader?.("Content-Type")??""}}export{B as I,E as L,v};
