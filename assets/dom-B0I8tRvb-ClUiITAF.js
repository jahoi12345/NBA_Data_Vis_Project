import"./modeUtils-BA-mAwuS-DSb1K26b.js";var L=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],m=L.join(","),N=typeof Element>"u",f=N?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,p=!N&&Element.prototype.getRootNode?function(t){var n;return t==null||(n=t.getRootNode)===null||n===void 0?void 0:n.call(t)}:function(t){return t?.ownerDocument},h=function t(n,e){var r;e===void 0&&(e=!0);var o=n==null||(r=n.getAttribute)===null||r===void 0?void 0:r.call(n,"inert"),u=o===""||o==="true",i=u||e&&n&&t(n.parentNode);return i},k=function(t){var n,e=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return e===""||e==="true"},T=function(t,n,e){if(h(t))return[];var r=Array.prototype.slice.apply(t.querySelectorAll(m));return n&&f.call(t,m)&&r.unshift(t),r=r.filter(e),r},R=function t(n,e,r){for(var o=[],u=Array.from(n);u.length;){var i=u.shift();if(!h(i,!1))if(i.tagName==="SLOT"){var a=i.assignedElements(),s=a.length?a:i.children,l=t(s,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:i,candidates:l})}else{var c=f.call(i,m);c&&r.filter(i)&&(e||!n.includes(i))&&o.push(i);var d=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),P=!h(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(d&&P){var y=t(d===!0?i.children:d.children,!0,r);r.flatten?o.push.apply(o,y):o.push({scopeParent:i,candidates:y})}else u.unshift.apply(u,i.children)}}return o},x=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},I=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||k(t))&&!x(t)?0:t.tabIndex},M=function(t,n){var e=I(t);return e<0&&n&&!x(t)?0:e},U=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},A=function(t){return t.tagName==="INPUT"},q=function(t){return A(t)&&t.type==="hidden"},W=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(e){return e.tagName==="SUMMARY"});return n},B=function(t,n){for(var e=0;e<t.length;e++)if(t[e].checked&&t[e].form===n)return t[e]},X=function(t){if(!t.name)return!0;var n=t.form||p(t),e=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=e(window.CSS.escape(t.name));else try{r=e(t.name)}catch(u){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",u.message),!1}var o=B(r,t.form);return!o||o===t},_=function(t){return A(t)&&t.type==="radio"},j=function(t){return _(t)&&!X(t)},$=function(t){var n,e=t&&p(t),r=(n=e)===null||n===void 0?void 0:n.host,o=!1;if(e&&e!==t){var u,i,a;for(o=!!((u=r)!==null&&u!==void 0&&(i=u.ownerDocument)!==null&&i!==void 0&&i.contains(r)||t!=null&&(a=t.ownerDocument)!==null&&a!==void 0&&a.contains(t));!o&&r;){var s,l,c;e=p(r),r=(s=e)===null||s===void 0?void 0:s.host,o=!!((l=r)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(r))}}return o},w=function(t){var n=t.getBoundingClientRect(),e=n.width,r=n.height;return e===0&&r===0},z=function(t,n){var e=n.displayCheck,r=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var o=f.call(t,"details>summary:first-of-type"),u=o?t.parentElement:t;if(f.call(u,"details:not([open]) *"))return!0;if(!e||e==="full"||e==="legacy-full"){if(typeof r=="function"){for(var i=t;t;){var a=t.parentElement,s=p(t);if(a&&!a.shadowRoot&&r(a)===!0)return w(t);t.assignedSlot?t=t.assignedSlot:!a&&s!==t.ownerDocument?t=s.host:t=a}t=i}if($(t))return!t.getClientRects().length;if(e!=="legacy-full")return!0}else if(e==="non-zero-area")return w(t);return!1},G=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var e=0;e<n.children.length;e++){var r=n.children.item(e);if(r.tagName==="LEGEND")return f.call(n,"fieldset[disabled] *")?!0:!r.contains(t)}return!0}n=n.parentElement}return!1},v=function(t,n){return!(n.disabled||h(n)||q(n)||z(n,t)||W(n)||G(n))},b=function(t,n){return!(j(n)||I(n)<0||!v(t,n))},H=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},V=function t(n){var e=[],r=[];return n.forEach(function(o,u){var i=!!o.scopeParent,a=i?o.scopeParent:o,s=M(a,i),l=i?t(o.candidates):a;s===0?i?e.push.apply(e,l):e.push(a):r.push({documentOrder:u,tabIndex:s,item:o,isScope:i,content:l})}),r.sort(U).reduce(function(o,u){return u.isScope?o.push.apply(o,u.content):o.push(u.content),o},[]).concat(e)},Y=function(t,n){n=n||{};var e;return n.getShadowRoot?e=R([t],n.includeContainer,{filter:b.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:H}):e=T(t,n.includeContainer,b.bind(null,n)),V(e)},J=function(t,n){n=n||{};var e;return n.getShadowRoot?e=R([t],n.includeContainer,{filter:v.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):e=T(t,n.includeContainer,v.bind(null,n)),e};const C={getShadowRoot:!0};function pt(t){const n=O(t,"[dir]");return n?n.getAttribute("dir"):"ltr"}function g(t){return t.getRootNode()}function ht(t){const n=g(t);return"host"in n?n:null}function D(t){return t.host||null}function K(t,{selector:n,id:e}){if(!t)return null;t.assignedSlot&&(t=t.assignedSlot);const r=g(t);return(e?"getElementById"in r?r.getElementById(e):null:n?r.querySelector(n):null)||K(D(r),{selector:n,id:e})}function O(t,n){return t?t.closest(n)||O(D(g(t)),n):null}function Q(t){return typeof t?.setFocus=="function"}async function Z(t,n=!1,e="tabbable",r,o){return t?Q(t)&&r!==t?t.setFocus(o):(e==="tabbable"?nt:rt)(t,n,o):void 0}function tt(t,n){if(t)return Y(t,{...C,includeContainer:n})[0]??t}function nt(t,n,e){tt(t,n)?.focus(e)}function et(t,n){if(t)return J(t,{...C,includeContainer:n})[0]??t}function rt(t,n,e){et(t,n)?.focus(e)}function ot(t,n){return t.filter(e=>e.matches(n))}function mt(t,n,e){if(typeof n=="string"&&n!=="")return n;if(n===""||n===!0)return t[e]}function vt(t){return(!!t).toString()}function gt(t){return lt(t)||ut(t)}function it(t){return at(t).filter(n=>n.nodeType===Node.TEXT_NODE).map(n=>n.textContent).join("").trim()}function yt(t){for(const n of t.childNodes)if(n.nodeType===Node.TEXT_NODE&&n.textContent?.trim()!==""||n.nodeType===Node.ELEMENT_NODE)return!0;return!1}function ut(t){return!!it(t)}function at(t){return t.currentTarget.assignedNodes({flatten:!0})}function lt(t){return!!st(t).length}function st(t,n){return ct(t.currentTarget,n)}function ct(t,n){const e=t.assignedElements({flatten:!0});return n?ot(e,n):e}function wt(t){return!!(t.isPrimary&&t.button===0)}function bt(t){return t.detail===0}const St=(t,n,e,r=!0,o=!0,u=!1)=>{const i=t.indexOf(n),a=i===0,s=i===t.length-1;r&&(e=e==="previous"&&a?"last":e==="next"&&s?"first":e);let l;return e==="previous"?l=t[i-1]||t[r?t.length-1:i]:e==="next"?l=t[i+1]||t[r?0:i]:e==="last"?l=t[t.length-1]:l=t[0],Z(l,o,"tabbable",u?l:void 0),l};function Et(t,n){if(t.parentNode!==n.parentNode)return!1;const e=Array.from(t.parentNode.children);return e.indexOf(t)<e.indexOf(n)}async function Nt(t,n){return F(t,n,"animation")}async function Tt(t,n){return F(t,n,"transition")}function S(t,n,e){const r=n==="transition"?"transitionProperty":"animationName";return t.getAnimations().find(o=>o[r]===e)}async function F(t,n,e){let r=S(t,e,n);if(r||(await ft(),r=S(t,e,n)),!!r)try{await r.finished}catch{}}async function ft(){await new Promise(t=>requestAnimationFrame(()=>t()))}function Rt(t){return t.endsWith("px")?parseFloat(t):t.endsWith("vw")?E(parseFloat(t),window.innerWidth):t.endsWith("vh")?E(parseFloat(t),window.innerHeight):0}function E(t,n){return t*n/100}export{Nt as E,Rt as I,K as J,Tt as N,O,C as R,wt as S,bt as T,Z as _,gt as a,ht as b,ft as f,vt as g,pt as h,st as l,St as m,yt as p,lt as s,tt as t,mt as v,Et as w,g as y};
