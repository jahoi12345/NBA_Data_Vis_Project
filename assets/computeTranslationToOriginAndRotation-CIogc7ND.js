import{s as R}from"./mathUtils-PIGhLnI9.js";import{s as I,q as $,o as x}from"./mat4-DD840M-x.js";import{n as h}from"./collectionUtils-DO-P7c3V.js";import{I as q,w as f}from"./projectionUtils-DfTR--qY.js";import{R as w}from"./Point-fJINO2ru.js";function M(o,e,n){const l=Math.sin(o),c=Math.cos(o),s=Math.sin(e),r=Math.cos(e),t=n;return t[0]=-l,t[4]=-s*c,t[8]=r*c,t[12]=0,t[1]=c,t[5]=-s*l,t[9]=r*l,t[13]=0,t[2]=0,t[6]=r,t[10]=s,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,t}function T(o,e,n){return M(o,e,n),I(n,n),n}function y(o,e,n,l){const c=q(o,l);if(c==null)return!1;const s=c.source.spatialReferenceId,r=c.dest.spatialReferenceId;if(s===r&&!d(r)&&(s!==0||w(o,l)))return $(n,e),!0;if(d(r)){const a=f[s][10],m=f[10][r];return a!=null&&m!=null&&(a(e,0,u,0),m(u,0,i,0),M(p*u[0],p*u[1],n),n[12]=i[0],n[13]=i[1],n[14]=i[2],!0)}const t=d(s);if((r===3||r===11||r===2||r===5)&&(s===2||t||s===3||s===5)){const a=f[s][10],m=f[10][r];return a!=null&&m!=null&&(a(e,0,u,0),m(u,0,i,0),t?T(p*u[0],p*u[1],n):x(n),n[12]=i[0],n[13]=i[1],n[14]=i[2],!0)}return!1}function d(o){return o===1||o===6||o===8||o===4}const p=R(1),u=h(),i=h();export{y as f,M as n};
