const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/webStyleSymbolUtils-BPZtEnNN-B2Y4JGat.js","assets/devEnvironmentUtils-8WtPGj6h-8bFtASy7.js","assets/jsonMap-Bs3hmeCU-Cusd0Fmz.js","assets/Point-BfTTZoMu-DeJwQYfh.js","assets/index-B0z_nLWi.js","assets/index-Cv2ko1Ob.css","assets/reader-DcGs6kKN-DHJfK-tm.js","assets/collectionUtils-jDyktm0P-BDP2Oq99.js","assets/reactiveUtils-SO2Ko3sy-BCLX8Jdy.js","assets/Extent-CgDMOSRD-Bod5LY6s.js","assets/SimpleObservable-CvFyr0NA-DXpoMYph.js","assets/jsonUtils-C9q_FK4K-GRCbm_Pe.js","assets/layerUtils-DZGhvm-W-CfyHx1TZ.js","assets/Layer-DZvC7bne-D3VLDrab.js","assets/date-IqUzANpt-bLKO9IDT.js","assets/PictureMarkerSymbol-CaSh-vZk-xhjZ61bb.js","assets/screenUtils-BitdhK1O-L0FLPAMi.js","assets/Color-CERqXxxY-BuYn26eI.js","assets/mathUtils-PIGhLnI9-B1tKUlUb.js","assets/SimpleMarkerSymbol-BGAFRS9_-CVQ5NLIA.js","assets/lineMarkers-CDwLe3J6-CNUjJvs3.js","assets/PolygonSymbol3D-BXRHZiCQ-BjPAY2LA.js","assets/ExtrudeSymbol3DLayer-DSc1ou2x-CsVYZCeG.js","assets/opacityUtils-DuFH0EC9-DWspTgn2.js","assets/aaBoundingBox-Cn49X7ge-BcYPaJ58.js","assets/aaBoundingRect-CjwcS2F3-ri8bmh30.js","assets/DoubleArray-DExKNiTh-CvVpHySW.js","assets/mat4f64-q_b6UJoq-Dh6sWB_w.js","assets/Font-BwmnW7d2-Dwh3xjKw.js","assets/SimpleFillSymbol-CDawtd9z-CWD2KI2D.js","assets/TextSymbol-hRGhyDHs-CoS7dSjf.js","assets/defaults3D-C2hXSee1-CTj29-Ly.js","assets/defaults-BDN9qxeN-C-EfxQM4.js","assets/defaultsJSON-GKolV7NZ-GKolV7NZ.js","assets/styleUtils-DWvicjTN-DL6_BIk4.js","assets/lengthUtils-Dt1_RvOO-j3MEdmHu.js"])))=>i.map(i=>d[i]);
import{H as ye,_ as pe}from"./index-B0z_nLWi.js";import{a1 as me,bm as ue,v as H,I as ce,o as he,a2 as o,bn as be,a7 as E,bk as de,Y as t,H as s,K as fe,G as p}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{F as z,B as v}from"./Color-CERqXxxY-BuYn26eI.js";import{u as we}from"./reader-DcGs6kKN-DHJfK-tm.js";import{u as ve}from"./lengthUtils-Dt1_RvOO-j3MEdmHu.js";import{r as m}from"./lineMarkers-CDwLe3J6-CNUjJvs3.js";import{l as X,R as n}from"./collectionUtils-jDyktm0P-BDP2Oq99.js";import{g as N,T as _,e as C,b as R,d as J,a as G,f as Se,n as Y,p as je}from"./PolygonSymbol3D-BXRHZiCQ-BjPAY2LA.js";import{x as g,f as ge}from"./screenUtils-BitdhK1O-L0FLPAMi.js";import{a as Q,b as ee}from"./ExtrudeSymbol3DLayer-DSc1ou2x-CsVYZCeG.js";import{o as V,l as xe}from"./SimpleFillSymbol-CDawtd9z-CWD2KI2D.js";import{a as U,b as Le,x as Ce}from"./PictureMarkerSymbol-CaSh-vZk-xhjZ61bb.js";import{u as W,m as Z}from"./SimpleMarkerSymbol-BGAFRS9_-CVQ5NLIA.js";import{t as P}from"./TextSymbol-hRGhyDHs-CoS7dSjf.js";import{av as Oe,j as De}from"./Point-BfTTZoMu-DeJwQYfh.js";const te=(e,r=te,y=r.f||(r.f=["assets/webStyleSymbolUtils-BPZtEnNN.js","assets/devEnvironmentUtils-8WtPGj6h.js","assets/jsonMap-Bs3hmeCU.js","assets/Point-BfTTZoMu.js","assets/reader-DcGs6kKN.js","assets/index-BzxsWNRw.js","assets/index-Cv2ko1Ob.css","assets/collectionUtils-jDyktm0P.js","assets/reactiveUtils-SO2Ko3sy.js","assets/Extent-CgDMOSRD.js","assets/SimpleObservable-CvFyr0NA.js","assets/jsonUtils-C9q_FK4K.js","assets/layerUtils-DZGhvm-W.js","assets/Layer-DZvC7bne.js","assets/date-IqUzANpt.js","assets/PictureMarkerSymbol-CaSh-vZk.js","assets/screenUtils-BitdhK1O.js","assets/Color-CERqXxxY.js","assets/mathUtils-PIGhLnI9.js","assets/SimpleMarkerSymbol-BGAFRS9_.js","assets/lineMarkers-CDwLe3J6.js","assets/PolygonSymbol3D-BXRHZiCQ.js","assets/ExtrudeSymbol3DLayer-DSc1ou2x.js","assets/opacityUtils-DuFH0EC9.js","assets/aaBoundingBox-Cn49X7ge.js","assets/aaBoundingRect-CjwcS2F3.js","assets/DoubleArray-DExKNiTh.js","assets/mat4f64-q_b6UJoq.js","assets/Font-BwmnW7d2.js","assets/SimpleFillSymbol-CDawtd9z.js","assets/TextSymbol-hRGhyDHs.js","assets/defaults3D-C2hXSee1.js","assets/defaults-BDN9qxeN.js","assets/defaultsJSON-GKolV7NZ.js","assets/styleUtils-DWvicjTN.js","assets/lengthUtils-Dt1_RvOO.js"]))=>e.map(d=>y[d]);var F;let a=F=class extends m{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,r){return r}writeData(e,r){Object.assign(r,e)}async collectRequiredFields(e,r){if(this.data?.type==="CIMSymbolReference"){const y=this.data.primitiveOverrides;if(y){const d=y.map(u=>{const L=u.valueExpressionInfo;return L?ve(e,r,null,L.expression):null});await Promise.all(d)}}}clone(){return new F({data:o(this.data)})}hash(){return be(JSON.stringify(this.data)).toString()}};t([s({json:{write:!1}})],a.prototype,"color",void 0),t([s({json:{write:!0}})],a.prototype,"data",void 0),t([we("data",["symbol"])],a.prototype,"readData",null),t([fe("data",{})],a.prototype,"writeData",null),t([v({CIMSymbolReference:"cim"},{readOnly:!0})],a.prototype,"type",void 0),a=F=t([p("esri.symbols.CIMSymbol")],a);let x=class extends E{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};t([s({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],x.prototype,"type",void 0),t([s({readOnly:!0})],x.prototype,"visible",void 0),x=t([p("esri.symbols.callouts.Callout3D")],x);var I;let D=I=class extends E{constructor(e){super(e),this.color=new z("white")}clone(){return new I({color:o(this.color)})}};t([s(Q({colorRequiredOnWrite:!0}))],D.prototype,"color",void 0),D=I=t([p("esri.symbols.callouts.LineCallout3DBorder")],D);const Me=D;var T;let b=T=class extends x{constructor(e){super(e),this.type="line",this.color=new z([0,0,0,1]),this.size=ge(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new T({color:o(this.color),size:this.size,border:o(this.border)})}};t([v({line:"line"})],b.prototype,"type",void 0),t([s(Q({colorRequiredOnWrite:!0}))],b.prototype,"color",void 0),t([s({...ee,json:{write:{isRequired:!0}}})],b.prototype,"size",void 0),t([s({type:Me,json:{write:!0}})],b.prototype,"border",void 0),t([s({readOnly:!0})],b.prototype,"visible",null),b=T=t([p("esri.symbols.callouts.LineCallout3D")],b);function A(e){if(!e)return!1;const r=e.verticalOffset;return!(!r||r.screenLength<=0||r.maxWorldLength!=null&&r.maxWorldLength<=0)}function se(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!A(e)}function Ge(e){return e.type==="point-3d"||e.type==="label-3d"}function Ve(e){return e.horizontalAlignment==="center"}const re={types:{key:"type",base:x,typeMap:{line:b}},json:{write:!0}};var B;let f=B=class extends E{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new B({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};t([s({...ee,json:{write:{isRequired:!0}}})],f.prototype,"screenLength",void 0),t([s({type:Number,nonNullable:!0,json:{write:!0,default:0}})],f.prototype,"minWorldLength",void 0),t([s({type:Number,json:{write:!0}})],f.prototype,"maxWorldLength",void 0),f=B=t([p("esri.symbols.support.Symbol3DVerticalOffset")],f);var M;const oe=n.ofType({base:null,key:"type",typeMap:{text:R}});let c=M=class extends _{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new oe,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return se(this)}hasVisibleVerticalOffset(){return A(this)}clone(){return new M({styleOrigin:o(this.styleOrigin),symbolLayers:o(this.symbolLayers),thumbnail:o(this.thumbnail),callout:o(this.callout),verticalOffset:o(this.verticalOffset)})}static fromTextSymbol(e){return new M({symbolLayers:new n([R.fromTextSymbol(e)])})}};t([s({type:f,json:{write:!0}})],c.prototype,"verticalOffset",void 0),t([s(re)],c.prototype,"callout",void 0),t([s({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",void 0),t([s({type:oe})],c.prototype,"symbolLayers",void 0),t([v({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0),c=M=t([p("esri.symbols.LabelSymbol3D")],c);var k;const le=n.ofType({base:null,key:"type",typeMap:{line:G,path:Y}}),ke=n.ofType({base:null,key:"type",typeMap:{line:G,path:Y}});let w=k=class extends _{constructor(e){super(e),this.symbolLayers=new le,this.type="line-3d"}clone(){return new k({styleOrigin:o(this.styleOrigin),symbolLayers:o(this.symbolLayers),thumbnail:o(this.thumbnail)})}static fromSimpleLineSymbol(e){return new k({symbolLayers:new n([G.fromSimpleLineSymbol(e)])})}};t([s({type:le,json:{type:ke}})],w.prototype,"symbolLayers",void 0),t([v({LineSymbol3D:"line-3d"},{readOnly:!0})],w.prototype,"type",void 0),w=k=t([p("esri.symbols.LineSymbol3D")],w);var $;const ie=n.ofType({base:null,key:"type",typeMap:{fill:J}});let j=$=class extends _{constructor(e){super(e),this.symbolLayers=new ie,this.type="mesh-3d"}clone(){return new $({styleOrigin:o(this.styleOrigin),symbolLayers:o(this.symbolLayers),thumbnail:o(this.thumbnail)})}static fromSimpleFillSymbol(e){return new $({symbolLayers:new n([J.fromSimpleFillSymbol(e)])})}};t([s({type:ie})],j.prototype,"symbolLayers",void 0),t([v({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],j.prototype,"type",void 0),j=$=t([p("esri.symbols.MeshSymbol3D")],j);var K;let l=K=class extends xe{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,r,y,d){if(e&&typeof e!="string"&&e.imageData==null)return e;const u={};return e&&(u.url=e),r&&(u.outline=r),y!=null&&(u.width=g(y)),d!=null&&(u.height=g(d)),u}clone(){const e=new K({color:o(this.color),height:this.height,outline:o(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",o(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};t([v({esriPFS:"picture-fill"},{readOnly:!0})],l.prototype,"type",void 0),t([s(Le)],l.prototype,"url",void 0),t([s({type:Number,json:{write:!0}})],l.prototype,"xscale",void 0),t([s({type:Number,json:{write:!0}})],l.prototype,"yscale",void 0),t([s({type:Number,cast:g,json:{write:!0}})],l.prototype,"width",void 0),t([s({type:Number,cast:g,json:{write:!0}})],l.prototype,"height",void 0),t([s({type:Number,cast:g,json:{write:!0}})],l.prototype,"xoffset",void 0),t([s({type:Number,cast:g,json:{write:!0}})],l.prototype,"yoffset",void 0),t([s(Ce)],l.prototype,"source",void 0),l=K=t([p("esri.symbols.PictureFillSymbol")],l);var S;const ae=n.ofType({base:null,key:"type",typeMap:{icon:C,object:Se,text:R}});let h=S=class extends _{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new ae,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return se(this)}hasVisibleVerticalOffset(){return A(this)}clone(){return new S({verticalOffset:o(this.verticalOffset),callout:o(this.callout),styleOrigin:o(this.styleOrigin),symbolLayers:o(this.symbolLayers),thumbnail:o(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new S({symbolLayers:new n([C.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new S({symbolLayers:new n([C.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const r=e.data.symbol;return new S(r?.callout?{symbolLayers:new n([C.fromCIMSymbol(e)]),callout:new b({size:.5,color:new z([0,0,0])}),verticalOffset:new f({screenLength:40})}:{symbolLayers:new n([C.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new S({symbolLayers:new n([R.fromTextSymbol(e)])})}};t([s({type:f,json:{write:!0}})],h.prototype,"verticalOffset",void 0),t([s(re)],h.prototype,"callout",void 0),t([s({type:ae,json:{origins:{"web-scene":{write:!0}}}})],h.prototype,"symbolLayers",void 0),t([v({PointSymbol3D:"point-3d"},{readOnly:!0})],h.prototype,"type",void 0),h=S=t([p("esri.symbols.PointSymbol3D")],h);var q;let i=q=class extends m{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:X.getDefault(),r=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${r}:${e.url}`}read(e,r){this.portal=r?.portal,super.read(e,r)}clone(){return new q({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol(e)}async fetchCIMSymbol(e){ue(H.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const r=await this._fetchSymbol({...e,acceptedFormats:["cim"]});if(r?.type!=="cim")throw new ce("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return r}async _fetchSymbol(e){const r=e!=null?e.cache:null,y=r?this._fetchCacheKey:null;if(r!=null){const O=y&&r.get(y);if(O)return O.clone()}const{resolveWebStyleSymbol:d}=await ye(()=>pe(()=>import("./webStyleSymbolUtils-BPZtEnNN-B2Y4JGat.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35])),te([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));he(e);const u=d(this,{portal:this.portal},e);u.catch(O=>{H.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",O)});const L=await u;return r?.set(y,L.clone()),L}};t([s({json:{write:!1}})],i.prototype,"color",void 0),t([s({type:String,json:{write:!0}})],i.prototype,"styleName",void 0),t([s({type:X,json:{write:!1}})],i.prototype,"portal",void 0),t([s({type:String,json:{read:De,write:Oe}})],i.prototype,"styleUrl",void 0),t([s({type:je,json:{read:!1}})],i.prototype,"thumbnail",void 0),t([s({type:String,json:{write:!0}})],i.prototype,"name",void 0),t([v({styleSymbolReference:"web-style"},{readOnly:!0})],i.prototype,"type",void 0),t([s()],i.prototype,"_fetchCacheKey",null),i=q=t([p("esri.symbols.WebStyleSymbol")],i);function Ze(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Ae(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const ne={base:m,key:"type",typeMap:{"simple-fill":V,"picture-fill":l,"picture-marker":U,"simple-line":Z,"simple-marker":W,text:P,"label-3d":c,"line-3d":w,"mesh-3d":j,"point-3d":h,"polygon-3d":N,"web-style":i,cim:a},errorContext:"symbol"},He={base:m,key:"type",typeMap:{"picture-marker":U,"simple-marker":W,"point-3d":h,cim:a},errorContext:"symbol"},Xe={base:m,key:"type",typeMap:{"simple-line":Z,"line-3d":w,cim:a},errorContext:"symbol"},Je={base:m,key:"type",typeMap:{"simple-fill":V,"picture-fill":l,"polygon-3d":N,cim:a},errorContext:"symbol"},Ye={base:m,key:"type",typeMap:{"picture-marker":U,"simple-marker":W,text:P,"web-style":i,cim:a},errorContext:"symbol"},Qe=de({types:ne}),et={base:m,key:"type",typeMap:{"simple-fill":V,"picture-fill":l,"picture-marker":U,"simple-line":Z,"simple-marker":W,text:P,"line-3d":w,"mesh-3d":j,"point-3d":h,"polygon-3d":N,"web-style":i,cim:a},errorContext:"symbol"},tt={base:m,key:"type",typeMap:{text:P,"label-3d":c},errorContext:"symbol"},st={base:m,key:"type",typeMap:{"line-3d":w,"mesh-3d":j,"point-3d":h,"polygon-3d":N,"web-style":i,cim:a},errorContext:"symbol"},rt={base:m,key:"type",typeMap:{"label-3d":c},errorContext:"symbol"},ot=me(ne);export{Ve as A,Ae as B,Me as C,Je as G,Ye as H,He as J,Ze as K,Qe as Q,Ge as U,Xe as X,et as Y,tt as Z,a,b,c,f as d,st as e,w as f,j as g,h,i,ne as n,ot as s,rt as t};
