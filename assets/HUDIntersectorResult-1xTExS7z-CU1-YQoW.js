import{X as f,t as m,o as g}from"./collectionUtils-jDyktm0P-ArdXNs6F.js";import{k as h}from"./mat4-C96X-Nn0-Do6fKsNS.js";import{n as x,s as I}from"./mat4f64-q_b6UJoq-Dh6sWB_w.js";import{x as $,k as c,O,l as P,I as s}from"./vec32-CewSdTn3-DHOFKD0R.js";import{P as k}from"./vec42-B8VM4vXb-BnA9MysM.js";import{o as L}from"./vec4f64-DPb6J-GU-C7c2DqbZ.js";import{x as _,f as d}from"./sphere-DLQ6p7mp-DmnRpHXV.js";class j{get ray(){return this._ray}get distanceInRenderSpace(){return this.distance==null?null:(c(n,this.ray.direction,this.distance),$(n))}withinDistance(t){return!!o(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!o(this)&&(c(n,this.ray.direction,this.distance),O(t,this.ray.origin,n),!0)}getTransformedNormal(t){return s(e,this.normal),e[3]=0,k(e,e,this.transformation),s(t,e),P(t,t)}constructor(t){this.intersector=4,this.normal=m(),this.transformation=x(),this._ray=_(),this.init(t)}init(t){this.distance=this.target=this.drapedLayerOrder=this.renderPriority=null,this.intersector=4,d(t,this._ray)}set(t,i,a,u,l,y,p){this.intersector=t,this.distance=a,s(this.normal,u??g),h(this.transformation,l??I),this.target=i,this.drapedLayerOrder=y,this.renderPriority=p}copy(t){d(t.ray,this._ray),this.intersector=t.intersector,this.distance=t.distance,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.renderPriority=t.renderPriority,s(this.normal,t.normal),h(this.transformation,t.transformation)}}function o(r){return r?.distance!=null}const n=m(),e=L();class v{constructor(t,i,a){this.object=t,this.geometryId=i,this.primitiveIndex=a}}class D extends j{constructor(){super(...arguments),this.intersector=1}}class N extends v{constructor(t,i){super(t.object,t.geometryId,t.primitiveIndex),this.center=f(i)}}function z(r){return o(r)&&r.intersector===1&&!!r.target&&"center"in r.target}export{D as T,N as k,o,z as q,j as v};
