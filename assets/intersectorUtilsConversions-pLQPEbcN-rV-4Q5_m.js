import{f as V}from"./mat4-C96X-Nn0-Do6fKsNS.js";import{t as w}from"./collectionUtils-jDyktm0P-ArdXNs6F.js";import{K as x}from"./aaBoundingBox-Cn49X7ge-DORLZxoS.js";import{S as U}from"./sphere-DLQ6p7mp-DmnRpHXV.js";import{q as c,o as a}from"./HUDIntersectorResult-1xTExS7z-CU1-YQoW.js";import{o,l as f,n as m}from"./Intersector-DS9YtyQY-CuzM48xl.js";let S=class extends o{constructor(e,r){super(r,null),this.point=e}},v=class extends o{constructor(e,r,n,t){super(r,n),this.point=e,this.createGraphic=t}};function b(e){return a(e)&&e.intersector===6&&!!e.target}class M extends m{constructor(r,n,t,i,l){super(r),this.layerViewUid=r,this.sublayerId=n,this.nodeIndex=t,this.componentIndex=i,this.triangleNr=l}}class N extends o{constructor(r,n,t){super(n,null),this.point=r,this.createVoxelGraphic=t}}class W extends m{}function d(e){return a(e)&&e.intersector===2&&!!e.target}function I(e){return a(e)&&e.intersector===9&&!!e.target}function L(e){return a(e)&&e.intersector===7&&!!e.target}function z(e,r){if(!a(r)||!r.target||!("layerViewUid"in r.target))return!1;const n=r.target.layerViewUid;switch(e.allLayerViews.find(t=>t.uid===n)?.layer.type){case"integrated-mesh":case"integrated-mesh-3dtiles":return!0}return!1}class C extends o{constructor(r,n,t){super(r,n),this.triangleNr=t}}function G(e){return a(e)&&e.intersector===5&&!!e.target}function g(e){return a(e)&&e.intersector===4&&!!e.target}function D(e,r){return g(e)||c(e)?u(e.target?.object,r):L(e)?r.map?.ground:e.target&&"layerViewUid"in e.target?u(e.target,r):null}function E(e,r){const n=B(e,r);return n?.type==="graphic"?n.graphic:null}function B(e,r,n={}){if(e==null)return null;if(g(e)||c(e))return h(e.target?.object,r,n);if(b(e)){const t=e.target.createGraphic();return{type:"graphic",graphic:t,layer:t.layer}}if(I(e)){const t=e.target.createVoxelGraphic();return{type:"graphic",graphic:t,layer:t.layer}}return G(e)||f(e)?h(e.target,r,n):d(e)?F(e.target,r,n):null}function h(e,r,n){if(e?.graphicUid==null)return null;const t=u(e,r);if(t==null)return null;if(t===r.graphics)return r.graphicsView==null||typeof e.graphicUid!="number"?null:r.graphicsView.getHit(e.graphicUid,n);const i=r.allLayerViews.find(l=>l.layer===t);return!i||i.suspended||e.graphicUid==null?null:"getHit"in i?i.getHit(e.graphicUid,n):null}function F(e,r,n){const t=u(e,r);if(t==null)return null;const i=r.allLayerViews.find(p=>p.layer===t);if(!i||i.suspended||!("getGraphicFromIntersectorTarget"in i))return null;const l=n.defer;return y(i.getGraphicFromIntersectorTarget(e,{defer:l?p=>l(async()=>y(await p())):void 0}))}function j(e,r){const n=u(e,r);if(n==null)return null;const t=r.allLayerViews.find(i=>i.layer===n);return t&&!t.suspended&&"getAABBFromIntersectorTarget"in t?t.getAABBFromIntersectorTarget(e):null}function y(e){return e!=null?{type:"graphic",graphic:e,layer:e.layer}:null}function u(e,r){return e?.layerViewUid==null?null:r.graphicsView!=null&&e.layerViewUid===r.graphicsView.uid?r.graphics:r.allLayerViews.find(n=>n.uid===e.layerViewUid)?.layer}function J(e,r){if(g(e)||c(e))return U(e.target.object.boundingVolumeWorldSpace.bounds);if(f(e)){V(s,e.transformation);const n=Math.max(s[0],s[1],s[2]);return e.target.baseBoundingSphere.radius*n}if(d(e)){const n=j(e.target,r);return n?.5*x(n):null}return null}function P(e){return!g(e)&&!c(e)&&(f(e)?e.target.numLodLevels>1:!!d(e))}const s=w();export{B,W as C,z as D,C as E,L as I,D as J,E as K,S as M,J as P,P as Q,v as W,M as q,N as z};
