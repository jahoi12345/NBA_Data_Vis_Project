import{v,_ as o,m as r,a as l,q as vt,r as gt,l as Z,y,i as G,E as Dt,P as xt,av as Lt}from"./jsonMap-Bs3hmeCU.js";import{r as It,l as ft,M as Pt,O as tt,c as Vt,e as Wt}from"./collectionUtils-DoXnmzlX.js";import{a as Bt,U as Et}from"./reactiveUtils-SO2Ko3sy.js";import{r as h,u as $}from"./Color-CERqXxxY.js";import{p as z,a as et,b as q,c as j,t as Jt,l as kt}from"./ExtrudeSymbol3DLayer-DSc1ou2x.js";import{e as Q}from"./screenUtils-BitdhK1O.js";import{a as St}from"./aaBoundingBox-CrbHdtRB.js";import{aq as _t,M as Kt,m as qt,Y as Rt,K as Mt,au as Yt,av as Gt,j as Qt,D as Xt,s as Zt}from"./Point-vWR8_ZMt.js";import{o as X}from"./reader-DcGs6kKN.js";import{e as te,n as ee,c as oe}from"./lineMarkers-CDwLe3J6.js";import{l as Ut,m as re,n as ie,p as se}from"./Font-C_NUqpB1.js";let H=class extends v{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};o([r({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],H.prototype,"type",void 0),H=o([l("esri.symbols.patterns.LinePattern3D")],H);const le=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var ot;const ne=vt()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let N=ot=class extends H{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new ot(t)}};o([r({type:["style"],json:{write:{isRequired:!0}}})],N.prototype,"type",void 0),o([h(ne),r({type:le,json:{write:{isRequired:!0}}})],N.prototype,"style",void 0),N=ot=o([l("esri.symbols.patterns.LineStylePattern3D")],N);let T=class extends v{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};o([r({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],T.prototype,"type",void 0),T=o([l("esri.symbols.patterns.Pattern3D")],T);const ae=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var rt;let P=rt=class extends T{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new rt({style:this.style})}};o([r({type:["style"],json:{write:{isRequired:!0}}})],P.prototype,"type",void 0),o([r({type:ae,json:{read:!0,write:{isRequired:!0}}})],P.prototype,"style",void 0),P=rt=o([l("esri.symbols.patterns.StylePattern3D")],P);const pe={types:{key:"type",base:T,typeMap:{style:P}},json:{write:!0}},At={types:{key:"type",base:H,typeMap:{style:N}},json:{write:!0}},F=new $("white"),ue=new $([255,255,255,0]);function ye(t){return t.r===0&&t.g===0&&t.b===0}var it;let I=it=class extends z{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new it(t)}};o([h({multiply:"multiply",replace:"replace",tint:"tint"})],I.prototype,"colorMixMode",void 0),I=it=o([l("esri.symbols.support.Symbol3DFillMaterial")],I);function Me(t,{isPrimitive:e,width:i,depth:s,height:u}){const R=e?10:1;if(i==null&&u==null&&s==null)return[R*t[0],R*t[1],R*t[2]];const W=It(i,s,u);let $t;for(let b=0;b<3;b++){const zt=W[b];if(zt!=null){$t=zt/t[b];break}}for(let b=0;b<3;b++)W[b]==null&&(W[b]=t[b]*$t);return W}const he=St(-.5,-.5,-.5,.5,.5,.5),ce=St(-.5,-.5,0,.5,.5,1),de=St(-.5,-.5,0,.5,.5,.5);function Ue(t){switch(t){case"sphere":case"cube":case"diamond":return he;case"cylinder":case"cone":case"inverted-cone":return ce;case"tetrahedron":return de;default:return}}const jt=["butt","square","round"],me=[...jt,"none"],Ct=["miter","bevel","round"];var st;let x=st=class extends v{constructor(t){super(t),this.color=new $([0,0,0,1]),this.size=Q(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new st(t)}};o([r(et({colorRequiredOnWrite:!0}))],x.prototype,"color",void 0),o([r({...q,json:{write:{isRequired:!0}}})],x.prototype,"size",void 0),o([r(At)],x.prototype,"pattern",void 0),o([r({type:jt,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],x.prototype,"patternCap",void 0),x=st=o([l("esri.symbols.support.Symbol3DOutline")],x);var B;let m=class extends j{static{B=this}constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new B(e)}static fromSimpleFillSymbol(e){const i=e.outline&&e.outline.style&&e.outline.style!=="solid"?new N({style:e.outline.style}):null,s={size:e.outline?.width??0,color:(e.outline?.color??F).clone(),pattern:i};return i&&e.outline?.cap&&(s.patternCap=e.outline.cap),new B({material:new I({color:(e.color??ue).clone()}),pattern:e.style&&e.style!=="solid"?new P({style:e.style}):null,outline:s})}};o([h({Fill:"fill"},{readOnly:!0})],m.prototype,"type",void 0),o([r({type:I,json:{write:!0}})],m.prototype,"material",void 0),o([r(pe)],m.prototype,"pattern",void 0),o([r({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],m.prototype,"castShadows",void 0),o([r({type:x,json:{write:!0}})],m.prototype,"outline",void 0),o([r(Jt)],m.prototype,"edges",void 0),m=B=o([l("esri.symbols.FillSymbol3DLayer")],m);var lt;const be=vt()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let L=lt=class extends v{constructor(t){super(t)}readHref(t,e,i){return t?_t(t,i):e.dataURI}writeHref(t,e,i,s){t&&(Kt(t)?e.dataURI=t:(e.href=qt(t,s),Rt(e.href)&&(e.href=Mt(e.href))))}clone(){return new lt({href:this.href,primitive:this.primitive})}equals(t){return t.primitive===this.primitive&&t.href===this.href}};o([r({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],L.prototype,"href",void 0),o([X("href")],L.prototype,"readHref",null),o([gt("href",{href:{type:String},dataURI:{type:String}})],L.prototype,"writeHref",null),o([h(be)],L.prototype,"primitive",void 0),L=lt=o([l("esri.symbols.support.IconSymbol3DLayerResource")],L);const Ce="circle";let E=class extends ft(v){constructor(t){super(t),this.mode="hidden"}equals(t){return this.mode===t.mode}};o([r({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],E.prototype,"mode",void 0),E=o([l("esri.symbols.support.OccludedVisibility")],E);const Ht=E;var nt;let k=nt=class extends Z{constructor(t){super(t),this.x=0,this.y=0}clone(){return new nt({x:this.x,y:this.y})}equals(t){return t.x===this.x&&t.y===this.y}};o([r({type:Number})],k.prototype,"x",void 0),o([r({type:Number})],k.prototype,"y",void 0),k=nt=o([l("esri.symbols.support.Symbol3DAnchorPosition2D")],k);var at;let M=at=class extends v{constructor(t){super(t),this.color=new $([0,0,0,1]),this.size=Q(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new at(t)}equals(t){return t.size===this.size&&(this.color==null?t.color==null:this.color.equals(t.color))}};o([r(et({colorRequiredOnWrite:!0}))],M.prototype,"color",void 0),o([r({...q,json:{write:{isRequired:!0}}})],M.prototype,"size",void 0),M=at=o([l("esri.symbols.support.Symbol3DIconOutline")],M);var D;let c=class extends j{static{D=this}constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new D({anchor:this.anchor,anchorPosition:y(this.anchorPosition),enabled:this.enabled,material:y(this.material),outline:y(this.outline),resource:y(this.resource),angle:this.angle,size:this.size,occludedVisibility:y(this.occludedVisibility)})}static fromSimpleMarkerSymbol(e){const i=e.color||F,s=Ot(e),u=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||F).clone()}:null;return new D({size:e.size,angle:e.angle,resource:{primitive:ve(()=>G.getLogger(this.prototype),e.style)},material:{color:i},outline:u,anchor:s?"relative":void 0,anchorPosition:s})}static fromPictureMarkerSymbol(e){const i=!e.color||ye(e.color)?F:e.color,s=Ot(e);return new D({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:i.clone()},anchor:s?"relative":void 0,anchorPosition:s})}static fromCIMSymbol(e){return new D({resource:{href:Yt({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function Ot(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,s=Nt(t.xoffset),u=Nt(t.yoffset);return(s||u)&&e&&i?{x:-s/e,y:u/i}:null}function Nt(t){return isFinite(t)?t:0}o([r({type:z,json:{write:!0}})],c.prototype,"material",void 0),o([r({type:L,json:{write:!0}})],c.prototype,"resource",void 0),o([h({Icon:"icon"},{readOnly:!0})],c.prototype,"type",void 0),o([r({...q,json:{write:{isRequired:!0}}})],c.prototype,"size",void 0),o([h({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],c.prototype,"anchor",void 0),o([r({type:k,json:{type:[Number],read:{reader:t=>new k({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],c.prototype,"anchorPosition",void 0),o([r({type:M,json:{write:!0}})],c.prototype,"outline",void 0),o([r({type:Number,json:{write:!0,default:0}})],c.prototype,"angle",void 0),o([r({type:Ht})],c.prototype,"occludedVisibility",void 0),c=D=o([l("esri.symbols.IconSymbol3DLayer")],c);const we={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function ve(t,e){return we[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}let f=class extends ft(v){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};o([r({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],f.prototype,"type",void 0),o([r({type:te,json:{default:"begin-end",write:!0}})],f.prototype,"placement",void 0),o([r({type:ee,json:{default:"arrow",write:!0}})],f.prototype,"style",void 0),o([r({type:$,json:{type:[Dt],default:null,write:!0}})],f.prototype,"color",void 0),f=o([l("esri.symbols.LineStyleMarker3D")],f);var J;let d=class extends j{static{J=this}constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Q(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new J(e)}static fromSimpleLineSymbol(e){const i={enabled:!0,size:e.width??Q(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new N({style:e.style}):null,material:new z({color:(e.color||F).clone()}),marker:e.marker?new f({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new J(i)}};o([r({type:z,json:{write:!0}})],d.prototype,"material",void 0),o([h({Line:"line"},{readOnly:!0})],d.prototype,"type",void 0),o([r({type:Ct,json:{write:!0,default:"miter"}})],d.prototype,"join",void 0),o([r({type:jt,json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0),o([r({...q,json:{write:{isRequired:!0}}})],d.prototype,"size",void 0),o([r(At)],d.prototype,"pattern",void 0),o([r({types:{key:"type",base:f,typeMap:{style:f}},json:{write:!0}})],d.prototype,"marker",void 0),d=J=o([l("esri.symbols.LineSymbol3DLayer")],d);var pt;const ge=vt()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let U=pt=class extends v{clone(){return new pt({href:this.href,primitive:this.primitive})}};o([r({type:String,json:{read:Qt,write:Gt}})],U.prototype,"href",void 0),o([h(ge)],U.prototype,"primitive",void 0),U=pt=o([l("esri.symbols.support.ObjectSymbol3DLayerResource")],U);const Ie="sphere";var ut;let O=ut=class extends Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new ut({x:this.x,y:this.y,z:this.z})}};o([r({type:Number})],O.prototype,"x",void 0),o([r({type:Number})],O.prototype,"y",void 0),o([r({type:Number})],O.prototype,"z",void 0),O=ut=o([l("esri.symbols.support.Symbol3DAnchorPosition3D")],O);var yt;let n=class extends j{static{yt=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new yt({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};o([r({type:z,json:{write:!0}})],n.prototype,"material",void 0),o([r({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],n.prototype,"castShadows",void 0),o([r({type:U,json:{write:!0}})],n.prototype,"resource",void 0),o([h({Object:"object"},{readOnly:!0})],n.prototype,"type",void 0),o([r({type:Number,json:{write:!0}})],n.prototype,"width",void 0),o([r({type:Number,json:{write:!0}})],n.prototype,"height",void 0),o([r({type:Number,json:{write:!0}})],n.prototype,"depth",void 0),o([h({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],n.prototype,"anchor",void 0),o([r({type:O,json:{type:[Number],read:{reader:t=>new O({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],n.prototype,"anchorPosition",void 0),o([r({type:Number,json:{write:!0}})],n.prototype,"heading",void 0),o([r({type:Number,json:{write:!0}})],n.prototype,"tilt",void 0),o([r({type:Number,json:{write:!0}})],n.prototype,"roll",void 0),o([r({readOnly:!0})],n.prototype,"isPrimitive",null),n=yt=o([l("esri.symbols.ObjectSymbol3DLayer")],n);var ht;let p=class extends j{static{ht=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return t??(e.height==null&&e.size!=null?e.size:void 0)}readHeight(t,e){return t??(e.width==null&&e.size!=null?e.size:void 0)}clone(){return new ht({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};o([r({type:z,json:{write:!0}})],p.prototype,"material",void 0),o([r({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],p.prototype,"castShadows",void 0),o([h({Path:"path"},{readOnly:!0})],p.prototype,"type",void 0),o([r({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],p.prototype,"profile",void 0),o([r({type:Ct,nonNullable:!0,json:{write:!0,default:"miter"}})],p.prototype,"join",void 0),o([r({type:me,nonNullable:!0,json:{write:!0,default:"butt"}})],p.prototype,"cap",void 0),o([r({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],p.prototype,"width",void 0),o([X("width",["width","size","height"])],p.prototype,"readWidth",null),o([r({type:Number,json:{write:!0}})],p.prototype,"height",void 0),o([X("height",["height","size","width"])],p.prototype,"readHeight",null),o([r({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],p.prototype,"anchor",void 0),o([r({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],p.prototype,"profileRotation",void 0),p=ht=o([l("esri.symbols.PathSymbol3DLayer")],p);var ct;let _=ct=class extends v{constructor(){super(...arguments),this.color=new $([0,0,0,1]),this.size=0}clone(){const t={color:y(this.color),size:this.size};return new ct(t)}};o([r(et())],_.prototype,"color",void 0),o([r(q)],_.prototype,"size",void 0),_=ct=o([l("esri.symbols.support.Symbol3DHalo")],_);let V=class extends ft(v){constructor(e){super(e),this.color=null}};o([r(et())],V.prototype,"color",void 0),V=o([l("esri.symbols.support.Symbol3DTextBackground")],V);var K;let a=class extends j{static{K=this}constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,i,s,u){const R={...u,textSymbol3D:!0};i.font=e.write({},R),delete i.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new K({enabled:this.enabled,font:y(this.font),halo:y(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:y(this.background),occludedVisibility:y(this.occludedVisibility)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new K({font:e.font!=null?e.font.clone():new Ut,halo:fe(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new z({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new V({color:e.backgroundColor.clone()}):null})}};function fe(t,e){return t&&e!=null&&e>0?new _({color:y(t),size:e}):null}o([r({type:Ut,json:{write:!0}})],a.prototype,"font",null),o([gt("font")],a.prototype,"writeFont",null),o([r({type:_,json:{write:!0}})],a.prototype,"halo",void 0),o([r({...re,json:{default:"center",write:!0}})],a.prototype,"horizontalAlignment",void 0),o([r({...ie,json:{default:1,write:!0}})],a.prototype,"lineHeight",void 0),o([r({type:z,json:{write:!0}})],a.prototype,"material",void 0),o([r({type:V,json:{write:!0}})],a.prototype,"background",void 0),o([r(q)],a.prototype,"size",null),o([r({type:String,json:{write:!0}})],a.prototype,"text",void 0),o([h({Text:"text"},{readOnly:!0})],a.prototype,"type",void 0),o([r({...se,json:{default:"baseline",write:!0}})],a.prototype,"verticalAlignment",void 0),o([r({type:Ht})],a.prototype,"occludedVisibility",void 0),a=K=o([l("esri.symbols.TextSymbol3DLayer")],a);var dt;let g=class extends j{static{dt=this}constructor(e){super(e),this.color=mt.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new dt({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};o([r({type:$,nonNullable:!0,json:{type:[Dt],write:(t,e,i)=>e[i]=t.toArray(1),default:()=>mt.clone(),defaultEquals:t=>t.toCss(!0)===mt.toCss(!0)}})],g.prototype,"color",void 0),o([h({Water:"water"},{readOnly:!0})],g.prototype,"type",void 0),o([r({type:["small","medium","large"],json:{write:!0,default:"medium"}})],g.prototype,"waterbodySize",void 0),o([r({type:Number,json:{write:!0,default:null}})],g.prototype,"waveDirection",void 0),o([r({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],g.prototype,"waveStrength",void 0),g=dt=o([l("esri.symbols.WaterSymbol3DLayer")],g);const mt=new $([0,119,190]);var bt;let S=bt=class extends Z{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new bt({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};o([r({type:String})],S.prototype,"name",void 0),o([r({type:String})],S.prototype,"styleUrl",void 0),o([r({type:String})],S.prototype,"styleName",void 0),o([r({type:Pt})],S.prototype,"portal",void 0),S=bt=o([l("esri.symbols.support.StyleOrigin")],S);var wt;let Y=wt=class extends Z{constructor(){super(...arguments),this.url=""}clone(){return new wt({url:this.url})}};o([r({type:String})],Y.prototype,"url",void 0),Y=wt=o([l("esri.symbols.support.Thumbnail")],Y);const Tt={icon:c,object:n,line:d,path:p,fill:m,extrude:kt,text:a,water:g},Se=tt.ofType({base:j,key:"type",typeMap:Tt,errorContext:"symbol-layer"});let w=class extends oe{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const e=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=e?.type,s=i||tt;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&G.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Vt(t,this._get("symbolLayers"))}readStyleOrigin(t,e,i){if(t.styleUrl&&t.name){const s=_t(t.styleUrl,i);return new S({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new S({portal:i?.portal||Pt.getDefault(),styleName:t.styleName,name:t.name});i?.messages&&i.messages.push(new xt("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,e,i,s){if(t.styleUrl&&t.name){let u=qt(t.styleUrl,s);Rt(u)&&(u=Mt(u)),e.styleOrigin={styleUrl:u,name:t.name}}else t.styleName&&t.name&&(t.portal&&s?.portal&&!Xt(t.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new xt("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):e.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof j||t&&Tt[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};o([r({json:{read:!1,write:!1}})],w.prototype,"color",null),o([r({type:Se,nonNullable:!0,json:{write:!0}}),Zt(Wt)],w.prototype,"symbolLayers",null),o([r({type:S})],w.prototype,"styleOrigin",void 0),o([X("styleOrigin")],w.prototype,"readStyleOrigin",null),o([gt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],w.prototype,"writeStyleOrigin",null),o([r({type:Y,json:{read:!1}})],w.prototype,"thumbnail",void 0),o([r({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],w.prototype,"type",void 0),w=o([l("esri.symbols.Symbol3D")],w);var A;const Ft=tt.ofType({base:null,key:"type",typeMap:{extrude:kt,fill:m,icon:c,line:d,object:n,text:a,water:g}});let C=A=class extends w{constructor(t){super(t),this.symbolLayers=new Ft,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Lt(G.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Lt(G.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(Bt(()=>this.symbolLayers,"after-add",({item:e})=>t(e),Et))}clone(){return new A({styleOrigin:y(this.styleOrigin),symbolLayers:y(this.symbolLayers),thumbnail:y(this.thumbnail)})}static fromJSON(t){const e=new A;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const i=e.symbolLayers.at(0),s=e.symbolLayers.at(1);!s.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(i.outline={size:s.size,color:s.material!=null?s.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new A({symbolLayers:new tt([m.fromSimpleFillSymbol(t)])})}};o([r({type:Ft,json:{write:!0}})],C.prototype,"symbolLayers",void 0),o([h({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],C.prototype,"type",void 0),C=A=o([l("esri.symbols.PolygonSymbol3D")],C);const Je=Object.freeze(Object.defineProperty({__proto__:null,get default(){return C}},Symbol.toStringTag,{value:"Module"}));export{Je as P,w as T,d as a,a as b,Ue as c,m as d,c as e,n as f,C as g,Ie as h,k as i,Ce as j,S as l,p as n,Y as p,Me as t};
