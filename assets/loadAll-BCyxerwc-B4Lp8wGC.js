import{w as f,C as s}from"./asyncUtils-w6KfWU41-HenJ0UOu.js";import{R as e,_ as u}from"./collectionUtils-jDyktm0P-BDP2Oq99.js";async function w(n,l){return await n.load(),y(n,l)}async function y(n,l){const i=[],r=(...t)=>{for(const o of t)o!=null&&(Array.isArray(o)?r(...o):e.isCollection(o)?o.forEach(c=>r(c)):u(o)&&i.push(o))};l(r);let a=null;if(await f(i,async t=>{const o=await s(p(t)?t.loadAll():t.load());o.ok!==!1||a||(a=o)}),a)throw a.error;return n}function p(n){return"loadAll"in n&&typeof n.loadAll=="function"}export{w as A,y as p};
