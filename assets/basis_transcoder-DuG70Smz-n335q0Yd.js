var Wr,hn=(Wr=typeof document<"u"?document.currentScript?.src:void 0,function(pe={}){var _r,Z,c=Object.assign({},pe),fe=new Promise((r,e)=>{_r=r,Z=e}),de=!0,Fr=Object.assign({},c),F="";function ve(r){return c.locateFile?c.locateFile(r,F):F+r}typeof document<"u"&&document.currentScript&&(F=document.currentScript.src),Wr&&(F=Wr),F=F.startsWith("blob:")?"":F.substr(0,F.replace(/[?#].*/,"").lastIndexOf("/")+1);var N,X,ye=c.print||console.log.bind(console),D=c.printErr||console.error.bind(console);Object.assign(c,Fr),Fr=null,c.arguments&&c.arguments,c.thisProgram&&c.thisProgram,c.quit&&c.quit,c.wasmBinary&&(N=c.wasmBinary);var j,g,x,M,I,d,jr,Or,Sr=!1;function kr(){var r=X.buffer;c.HEAP8=j=new Int8Array(r),c.HEAP16=x=new Int16Array(r),c.HEAPU8=g=new Uint8Array(r),c.HEAPU16=M=new Uint16Array(r),c.HEAP32=I=new Int32Array(r),c.HEAPU32=d=new Uint32Array(r),c.HEAPF32=jr=new Float32Array(r),c.HEAPF64=Or=new Float64Array(r)}var Er=[],Rr=[],Dr=[];function me(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)we(c.preRun.shift());hr(Er)}function ge(){hr(Rr)}function $e(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)be(c.postRun.shift());hr(Dr)}function we(r){Er.unshift(r)}function Te(r){Rr.unshift(r)}function be(r){Dr.unshift(r)}var E=0,z=null;function Ce(r){E++,c.monitorRunDependencies?.(E)}function Pe(r){if(E--,c.monitorRunDependencies?.(E),E==0&&z){var e=z;z=null,e()}}function xr(r){c.onAbort?.(r),D(r="Aborted("+r+")"),Sr=!0,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw Z(e),e}var Y,Ae="data:application/octet-stream;base64,",Ir=r=>r.startsWith(Ae);function We(){var r="basis_transcoder.wasm";return Ir(r)?r:ve(r)}function Vr(r){if(r==Y&&N)return new Uint8Array(N);throw"both async and sync fetching of the wasm failed"}function _e(r){return!N&&de&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw`failed to load wasm binary file at '${r}'`;return e.arrayBuffer()}).catch(()=>Vr(r)):Promise.resolve().then(()=>Vr(r))}function Hr(r,e,t){return _e(r).then(n=>WebAssembly.instantiate(n,e)).then(t,n=>{D(`failed to asynchronously prepare wasm: ${n}`),xr(n)})}function Fe(r,e,t,n){return r||typeof WebAssembly.instantiateStreaming!="function"||Ir(e)||typeof fetch!="function"?Hr(e,t,n):fetch(e,{credentials:"same-origin"}).then(a=>WebAssembly.instantiateStreaming(a,t).then(n,function(o){return D(`wasm streaming compile failed: ${o}`),D("falling back to ArrayBuffer instantiation"),Hr(e,t,n)}))}function je(){return{a:cn}}function Oe(){var r=je();function e(n,a){return A=n.exports,X=A.L,kr(),Lr=A.Q,Te(A.M),Pe(),A}function t(n){e(n.instance)}if(Ce(),c.instantiateWasm)try{return c.instantiateWasm(r,e)}catch(n){D(`Module.instantiateWasm callback failed with error: ${n}`),Z(n)}return Y||(Y=We()),Fe(N,Y,r,t).catch(Z),{}}var hr=r=>{for(;r.length>0;)r.shift()(c)};c.noExitRuntime;class Se{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){d[this.ptr+4>>2]=e}get_type(){return d[this.ptr+4>>2]}set_destructor(e){d[this.ptr+8>>2]=e}get_destructor(){return d[this.ptr+8>>2]}set_caught(e){e=e?1:0,j[this.ptr+12]=e}get_caught(){return j[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,j[this.ptr+13]=e}get_rethrown(){return j[this.ptr+13]!=0}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){d[this.ptr+16>>2]=e}get_adjusted_ptr(){return d[this.ptr+16>>2]}get_exception_ptr(){if(ie(this.get_type()))return d[this.excPtr>>2];var e=this.get_adjusted_ptr();return e!==0?e:this.excPtr}}var ke=(r,e,t)=>{throw new Se(r).init(e,t),r},Ee=()=>{xr("")},rr={},pr=r=>{for(;r.length;){var e=r.pop();r.pop()(e)}};function q(r){return this.fromWireType(d[r>>2])}var Ur,Br,V,H={},R={},er={},tr=r=>{throw new Ur(r)},O=(r,e,t)=>{function n(s){var i=t(s);i.length!==r.length&&tr("Mismatched type converter count");for(var l=0;l<r.length;++l)C(r[l],i[l])}r.forEach(function(s){er[s]=e});var a=new Array(e.length),o=[],u=0;e.forEach((s,i)=>{R.hasOwnProperty(s)?a[i]=R[s]:(o.push(s),H.hasOwnProperty(s)||(H[s]=[]),H[s].push(()=>{a[i]=R[s],++u===o.length&&n(a)}))}),o.length===0&&n(a)},Re=r=>{var e=rr[r];delete rr[r];var t=e.rawConstructor,n=e.rawDestructor,a=e.fields,o=a.map(u=>u.getterReturnType).concat(a.map(u=>u.setterArgumentType));O([r],o,u=>{var s={};return a.forEach((i,l)=>{var h=i.fieldName,p=u[l],v=i.getter,y=i.getterContext,T=u[l+a.length],B=i.setter,S=i.setterContext;s[h]={read:k=>p.fromWireType(v(y,k)),write:(k,Q)=>{var w=[];B(S,k,T.toWireType(w,Q)),pr(w)}}}),[{name:e.name,fromWireType:i=>{var l={};for(var h in s)l[h]=s[h].read(i);return n(i),l},toWireType:(i,l)=>{for(var h in s)if(!(h in l))throw new TypeError(`Missing field: "${h}"`);var p=t();for(h in s)s[h].write(p,l[h]);return i!==null&&i.push(n,p),p},argPackAdvance:P,readValueFromPointer:q,destructorFunction:n}]})},De=(r,e,t,n,a)=>{},xe=()=>{for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);Br=r},m=r=>{for(var e="",t=r;g[t];)e+=Br[g[t++]];return e},f=r=>{throw new V(r)};function Ie(r,e,t={}){var n=e.name;if(r||f(`type "${n}" must have a positive integer typeid pointer`),R.hasOwnProperty(r)){if(t.ignoreDuplicateRegistrations)return;f(`Cannot register type '${n}' twice`)}if(R[r]=e,delete er[r],H.hasOwnProperty(r)){var a=H[r];delete H[r],a.forEach(o=>o())}}function C(r,e,t={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ie(r,e,t)}var G,P=8,Ve=(r,e,t,n)=>{C(r,{name:e=m(e),fromWireType:function(a){return!!a},toWireType:function(a,o){return o?t:n},argPackAdvance:P,readValueFromPointer:function(a){return this.fromWireType(g[a])},destructorFunction:null})},He=r=>({count:r.count,deleteScheduled:r.deleteScheduled,preservePointerOnDelete:r.preservePointerOnDelete,ptr:r.ptr,ptrType:r.ptrType,smartPtr:r.smartPtr,smartPtrType:r.smartPtrType}),fr=r=>{function e(t){return t.$$.ptrType.registeredClass.name}f(e(r)+" instance already deleted")},dr=!1,Nr=r=>{},Ue=r=>{r.smartPtr?r.smartPtrType.rawDestructor(r.smartPtr):r.ptrType.registeredClass.rawDestructor(r.ptr)},Mr=r=>{r.count.value-=1,r.count.value===0&&Ue(r)},zr=(r,e,t)=>{if(e===t)return r;if(t.baseClass===void 0)return null;var n=zr(r,e,t.baseClass);return n===null?null:t.downcast(n)},qr={},Be=()=>Object.keys(J).length,Ne=()=>{var r=[];for(var e in J)J.hasOwnProperty(e)&&r.push(J[e]);return r},L=[],vr=()=>{for(;L.length;){var r=L.pop();r.$$.deleteScheduled=!1,r.delete()}},Me=r=>{G=r,L.length&&G&&G(vr)},ze=()=>{c.getInheritedInstanceCount=Be,c.getLiveInheritedInstances=Ne,c.flushPendingDeletes=vr,c.setDelayFunction=Me},J={},qe=(r,e)=>{for(e===void 0&&f("ptr should not be undefined");r.baseClass;)e=r.upcast(e),r=r.baseClass;return e},Ge=(r,e)=>(e=qe(r,e),J[e]),nr=(r,e)=>(e.ptrType&&e.ptr||tr("makeClassHandle requires ptr and ptrType"),!!e.smartPtrType!=!!e.smartPtr&&tr("Both smartPtrType and smartPtr must be specified"),e.count={value:1},K(Object.create(r,{$$:{value:e,writable:!0}})));function Le(r){var e=this.getPointee(r);if(!e)return this.destructor(r),null;var t=Ge(this.registeredClass,e);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=e,t.$$.smartPtr=r,t.clone();var n=t.clone();return this.destructor(r),n}function a(){return this.isSmartPointer?nr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:r}):nr(this.registeredClass.instancePrototype,{ptrType:this,ptr:r})}var o,u=this.registeredClass.getActualType(e),s=qr[u];if(!s)return a.call(this);o=this.isConst?s.constPointerType:s.pointerType;var i=zr(e,this.registeredClass,o.registeredClass);return i===null?a.call(this):this.isSmartPointer?nr(o.registeredClass.instancePrototype,{ptrType:o,ptr:i,smartPtrType:this,smartPtr:r}):nr(o.registeredClass.instancePrototype,{ptrType:o,ptr:i})}var K=r=>typeof FinalizationRegistry>"u"?(K=e=>e,r):(dr=new FinalizationRegistry(e=>{Mr(e.$$)}),K=e=>{var t=e.$$;if(t.smartPtr){var n={$$:t};dr.register(e,n,e)}return e},Nr=e=>dr.unregister(e),K(r)),Je=()=>{Object.assign(ar.prototype,{isAliasOf(r){if(!(this instanceof ar)||!(r instanceof ar))return!1;var e=this.$$.ptrType.registeredClass,t=this.$$.ptr;r.$$=r.$$;for(var n=r.$$.ptrType.registeredClass,a=r.$$.ptr;e.baseClass;)t=e.upcast(t),e=e.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return e===n&&t===a},clone(){if(this.$$.ptr||fr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var r=K(Object.create(Object.getPrototypeOf(this),{$$:{value:He(this.$$)}}));return r.$$.count.value+=1,r.$$.deleteScheduled=!1,r},delete(){this.$$.ptr||fr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&f("Object already scheduled for deletion"),Nr(this),Mr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||fr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&f("Object already scheduled for deletion"),L.push(this),L.length===1&&G&&G(vr),this.$$.deleteScheduled=!0,this}})};function ar(){}var U=(r,e)=>Object.defineProperty(e,"name",{value:r}),Gr=(r,e,t)=>{if(r[e].overloadTable===void 0){var n=r[e];r[e]=function(...a){return r[e].overloadTable.hasOwnProperty(a.length)||f(`Function '${t}' called with an invalid number of arguments (${a.length}) - expects one of (${r[e].overloadTable})!`),r[e].overloadTable[a.length].apply(this,a)},r[e].overloadTable=[],r[e].overloadTable[n.argCount]=n}},yr=(r,e,t)=>{c.hasOwnProperty(r)?((t===void 0||c[r].overloadTable!==void 0&&c[r].overloadTable[t]!==void 0)&&f(`Cannot register public name '${r}' twice`),Gr(c,r,r),c.hasOwnProperty(t)&&f(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),c[r].overloadTable[t]=e):(c[r]=e,t!==void 0&&(c[r].numArguments=t))},Ke=48,Qe=57,Ze=r=>{if(r===void 0)return"_unknown";var e=(r=r.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=Ke&&e<=Qe?`_${r}`:r};function Xe(r,e,t,n,a,o,u,s){this.name=r,this.constructor=e,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=u,this.downcast=s,this.pureVirtualFunctions=[]}var mr=(r,e,t)=>{for(;e!==t;)e.upcast||f(`Expected null or instance of ${t.name}, got an instance of ${e.name}`),r=e.upcast(r),e=e.baseClass;return r};function Ye(r,e){if(e===null)return this.isReference&&f(`null is not a valid ${this.name}`),0;e.$$||f(`Cannot pass "${Cr(e)}" as a ${this.name}`),e.$$.ptr||f(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=e.$$.ptrType.registeredClass;return mr(e.$$.ptr,t,this.registeredClass)}function rt(r,e){var t;if(e===null)return this.isReference&&f(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),r!==null&&r.push(this.rawDestructor,t),t):0;e&&e.$$||f(`Cannot pass "${Cr(e)}" as a ${this.name}`),e.$$.ptr||f(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&f(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(t=mr(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(e.$$.smartPtr===void 0&&f("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?t=e.$$.smartPtr:f(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)t=e.$$.smartPtr;else{var a=e.clone();t=this.rawShare(t,$.toHandle(()=>a.delete())),r!==null&&r.push(this.rawDestructor,t)}break;default:f("Unsupporting sharing policy")}return t}function et(r,e){if(e===null)return this.isReference&&f(`null is not a valid ${this.name}`),0;e.$$||f(`Cannot pass "${Cr(e)}" as a ${this.name}`),e.$$.ptr||f(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&f(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var t=e.$$.ptrType.registeredClass;return mr(e.$$.ptr,t,this.registeredClass)}var tt=()=>{Object.assign(or.prototype,{getPointee(r){return this.rawGetPointee&&(r=this.rawGetPointee(r)),r},destructor(r){this.rawDestructor?.(r)},argPackAdvance:P,readValueFromPointer:q,fromWireType:Le})};function or(r,e,t,n,a,o,u,s,i,l,h){this.name=r,this.registeredClass=e,this.isReference=t,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=u,this.rawGetPointee=s,this.rawConstructor=i,this.rawShare=l,this.rawDestructor=h,a||e.baseClass!==void 0?this.toWireType=rt:n?(this.toWireType=Ye,this.destructorFunction=null):(this.toWireType=et,this.destructorFunction=null)}var Lr,Jr,Kr=(r,e,t)=>{c.hasOwnProperty(r)||tr("Replacing nonexistent public symbol"),c[r].overloadTable!==void 0&&t!==void 0?c[r].overloadTable[t]=e:(c[r]=e,c[r].argCount=t)},nt=(r,e,t)=>(r=r.replace(/p/g,"i"),(0,c["dynCall_"+r])(e,...t)),sr=[],Qr=r=>{var e=sr[r];return e||(r>=sr.length&&(sr.length=r+1),sr[r]=e=Lr.get(r)),e},at=(r,e,t=[])=>r.includes("j")?nt(r,e,t):Qr(e)(...t),ot=(r,e)=>(...t)=>at(r,e,t),b=(r,e)=>{function t(){return r.includes("j")?ot(r,e):Qr(e)}r=m(r);var n=t();return typeof n!="function"&&f(`unknown function pointer with signature ${r}: ${e}`),n},st=(r,e)=>{var t=U(e,function(n){this.name=e,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Zr=r=>{var e=se(r),t=m(e);return _(e),t},ir=(r,e)=>{var t=[],n={};function a(o){n[o]||R[o]||(er[o]?er[o].forEach(a):(t.push(o),n[o]=!0))}throw e.forEach(a),new Jr(`${r}: `+t.map(Zr).join([", "]))},it=(r,e,t,n,a,o,u,s,i,l,h,p,v)=>{h=m(h),o=b(a,o),s&&=b(u,s),l&&=b(i,l),v=b(p,v);var y=Ze(h);yr(y,function(){ir(`Cannot construct ${h} due to unbound types`,[n])}),O([r,e,t],n?[n]:[],T=>{var B,S;T=T[0],S=n?(B=T.registeredClass).instancePrototype:ar.prototype;var k=U(h,function(...Ar){if(Object.getPrototypeOf(this)!==Q)throw new V("Use 'new' to construct "+h);if(w.constructor_body===void 0)throw new V(h+" has no accessible constructor");var he=w.constructor_body[Ar.length];if(he===void 0)throw new V(`Tried to invoke ctor of ${h} with invalid number of parameters (${Ar.length}) - expected (${Object.keys(w.constructor_body).toString()}) parameters instead!`);return he.apply(this,Ar)}),Q=Object.create(S,{constructor:{value:k}});k.prototype=Q;var w=new Xe(h,k,Q,v,B,o,s,l);w.baseClass&&(w.baseClass.__derivedClasses??=[],w.baseClass.__derivedClasses.push(w));var ln=new or(h,w,!0,!1,!1),ce=new or(h+"*",w,!1,!1,!1),le=new or(h+" const*",w,!1,!0,!1);return qr[r]={pointerType:ce,constPointerType:le},Kr(y,k),[ln,ce,le]})},gr=(r,e)=>{for(var t=[],n=0;n<r;n++)t.push(d[e+4*n>>2]);return t};function Xr(r){for(var e=1;e<r.length;++e)if(r[e]!==null&&r[e].destructorFunction===void 0)return!0;return!1}function Yr(r,e){if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var t=U(r.name||"unknownFunctionName",function(){});t.prototype=r.prototype;var n=new t,a=r.apply(n,e);return a instanceof Object?a:n}function ut(r,e,t,n){for(var a=Xr(r),o=r.length,u="",s="",i=0;i<o-2;++i)u+=(i!==0?", ":"")+"arg"+i,s+=(i!==0?", ":"")+"arg"+i+"Wired";var l=`
        return function (${u}) {
        if (arguments.length !== ${o-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${o-2}');
        }`;a&&(l+=`var destructors = [];
`);var h=a?"destructors":"null",p=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];for(e&&(l+="var thisWired = classParam['toWireType']("+h+`, this);
`),i=0;i<o-2;++i)l+="var arg"+i+"Wired = argType"+i+"['toWireType']("+h+", arg"+i+`);
`,p.push("argType"+i);if(e&&(s="thisWired"+(s.length>0?", ":"")+s),l+=(t||n?"var rv = ":"")+"invoker(fn"+(s.length>0?", ":"")+s+`);
`,a)l+=`runDestructors(destructors);
`;else for(i=e?1:2;i<r.length;++i){var v=i===1?"thisWired":"arg"+(i-2)+"Wired";r[i].destructorFunction!==null&&(l+=`${v}_dtor(${v});
`,p.push(`${v}_dtor`))}return t&&(l+=`var ret = retType['fromWireType'](rv);
return ret;
`),[p,l+=`}
`]}function $r(r,e,t,n,a,o){var u=e.length;u<2&&f("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=e[1]!==null&&t!==null,i=Xr(e),l=e[0].name!=="void",h=[r,f,n,a,pr,e[0],e[1]],p=0;p<u-2;++p)h.push(e[p+2]);if(!i)for(p=s?1:2;p<e.length;++p)e[p].destructorFunction!==null&&h.push(e[p].destructorFunction);let[v,y]=ut(e,s,l,o);v.push(y);var T=Yr(Function,v)(...h);return U(r,T)}var ct=(r,e,t,n,a,o)=>{var u=gr(e,t);a=b(n,a),O([],[r],s=>{var i=`constructor ${(s=s[0]).name}`;if(s.registeredClass.constructor_body===void 0&&(s.registeredClass.constructor_body=[]),s.registeredClass.constructor_body[e-1]!==void 0)throw new V(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${s.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return s.registeredClass.constructor_body[e-1]=()=>{ir(`Cannot construct ${s.name} due to unbound types`,u)},O([],u,l=>(l.splice(1,0,null),s.registeredClass.constructor_body[e-1]=$r(i,l,null,a,o),[])),[]})},re=r=>{const e=(r=r.trim()).indexOf("(");return e!==-1?r.substr(0,e):r},lt=(r,e,t,n,a,o,u,s,i)=>{var l=gr(t,n);e=m(e),e=re(e),o=b(a,o),O([],[r],h=>{var p=`${(h=h[0]).name}.${e}`;function v(){ir(`Cannot call ${p} due to unbound types`,l)}e.startsWith("@@")&&(e=Symbol[e.substring(2)]),s&&h.registeredClass.pureVirtualFunctions.push(e);var y=h.registeredClass.instancePrototype,T=y[e];return T===void 0||T.overloadTable===void 0&&T.className!==h.name&&T.argCount===t-2?(v.argCount=t-2,v.className=h.name,y[e]=v):(Gr(y,e,p),y[e].overloadTable[t-2]=v),O([],l,B=>{var S=$r(p,B,h,o,u,i);return y[e].overloadTable===void 0?(S.argCount=t-2,y[e]=S):y[e].overloadTable[t-2]=S,[]}),[]})},ht=(r,e,t)=>{r=m(r),O([],[e],n=>(n=n[0],c[r]=n.fromWireType(t),[]))},wr=[],W=[],Tr=r=>{r>9&&--W[r+1]===0&&(W[r]=void 0,wr.push(r))},pt=()=>W.length/2-5-wr.length,ft=()=>{W.push(0,1,void 0,1,null,1,!0,1,!1,1),c.count_emval_handles=pt},$={toValue:r=>(r||f("Cannot use deleted val. handle = "+r),W[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=wr.pop()||W.length;return W[e]=r,W[e+1]=1,e}}}},dt={name:"emscripten::val",fromWireType:r=>{var e=$.toValue(r);return Tr(r),e},toWireType:(r,e)=>$.toHandle(e),argPackAdvance:P,readValueFromPointer:q,destructorFunction:null},vt=r=>C(r,dt),yt=(r,e,t)=>{switch(e){case 1:return t?function(n){return this.fromWireType(j[n])}:function(n){return this.fromWireType(g[n])};case 2:return t?function(n){return this.fromWireType(x[n>>1])}:function(n){return this.fromWireType(M[n>>1])};case 4:return t?function(n){return this.fromWireType(I[n>>2])}:function(n){return this.fromWireType(d[n>>2])};default:throw new TypeError(`invalid integer width (${e}): ${r}`)}},mt=(r,e,t,n)=>{function a(){}e=m(e),a.values={},C(r,{name:e,constructor:a,fromWireType:function(o){return this.constructor.values[o]},toWireType:(o,u)=>u.value,argPackAdvance:P,readValueFromPointer:yt(e,t,n),destructorFunction:null}),yr(e,a)},br=(r,e)=>{var t=R[r];return t===void 0&&f(`${e} has unknown type ${Zr(r)}`),t},gt=(r,e,t)=>{var n=br(r,"enum");e=m(e);var a=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:t},constructor:{value:U(`${n.name}_${e}`,function(){})}});a.values[t]=o,a[e]=o},Cr=r=>{if(r===null)return"null";var e=typeof r;return e==="object"||e==="array"||e==="function"?r.toString():""+r},$t=(r,e)=>{switch(e){case 4:return function(t){return this.fromWireType(jr[t>>2])};case 8:return function(t){return this.fromWireType(Or[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${r}`)}},wt=(r,e,t)=>{C(r,{name:e=m(e),fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:P,readValueFromPointer:$t(e,t),destructorFunction:null})},Tt=(r,e,t,n,a,o,u)=>{var s=gr(e,t);r=m(r),r=re(r),a=b(n,a),yr(r,function(){ir(`Cannot call ${r} due to unbound types`,s)},e-1),O([],s,i=>{var l=[i[0],null].concat(i.slice(1));return Kr(r,$r(r,l,null,a,o,u),e-1),[]})},bt=(r,e,t)=>{switch(e){case 1:return t?n=>j[n]:n=>g[n];case 2:return t?n=>x[n>>1]:n=>M[n>>1];case 4:return t?n=>I[n>>2]:n=>d[n>>2];default:throw new TypeError(`invalid integer width (${e}): ${r}`)}},Ct=(r,e,t,n,a)=>{e=m(e);var o=l=>l;if(n===0){var u=32-8*t;o=l=>l<<u>>>u}var s=e.includes("unsigned"),i=(l,h)=>{};C(r,{name:e,fromWireType:o,toWireType:s?function(l,h){return i(h,this.name),h>>>0}:function(l,h){return i(h,this.name),h},argPackAdvance:P,readValueFromPointer:bt(e,t,n!==0),destructorFunction:null})},Pt=(r,e,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function a(o){var u=d[o>>2],s=d[o+4>>2];return new n(j.buffer,s,u)}C(r,{name:t=m(t),fromWireType:a,argPackAdvance:P,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},At=(r,e,t,n)=>{if(!(n>0))return 0;for(var a=t,o=t+n-1,u=0;u<r.length;++u){var s=r.charCodeAt(u);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&r.charCodeAt(++u)),s<=127){if(t>=o)break;e[t++]=s}else if(s<=2047){if(t+1>=o)break;e[t++]=192|s>>6,e[t++]=128|63&s}else if(s<=65535){if(t+2>=o)break;e[t++]=224|s>>12,e[t++]=128|s>>6&63,e[t++]=128|63&s}else{if(t+3>=o)break;e[t++]=240|s>>18,e[t++]=128|s>>12&63,e[t++]=128|s>>6&63,e[t++]=128|63&s}}return e[t]=0,t-a},Wt=(r,e,t)=>At(r,g,e,t),_t=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++t):e+=3}return e},ee=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,te=(r,e,t)=>{for(var n=e+t,a=e;r[a]&&!(a>=n);)++a;if(a-e>16&&r.buffer&&ee)return ee.decode(r.subarray(e,a));for(var o="";e<a;){var u=r[e++];if(128&u){var s=63&r[e++];if((224&u)!=192){var i=63&r[e++];if((u=(240&u)==224?(15&u)<<12|s<<6|i:(7&u)<<18|s<<12|i<<6|63&r[e++])<65536)o+=String.fromCharCode(u);else{var l=u-65536;o+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else o+=String.fromCharCode((31&u)<<6|s)}else o+=String.fromCharCode(u)}return o},Ft=(r,e)=>r?te(g,r,e):"",jt=(r,e)=>{var t=(e=m(e))==="std::string";C(r,{name:e,fromWireType(n){var a,o=d[n>>2],u=n+4;if(t)for(var s=u,i=0;i<=o;++i){var l=u+i;if(i==o||g[l]==0){var h=Ft(s,l-s);a===void 0?a=h:(a+="\0",a+=h),s=l+1}}else{var p=new Array(o);for(i=0;i<o;++i)p[i]=String.fromCharCode(g[u+i]);a=p.join("")}return _(n),a},toWireType(n,a){var o;a instanceof ArrayBuffer&&(a=new Uint8Array(a));var u=typeof a=="string";u||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||f("Cannot pass non-string to std::string"),o=t&&u?_t(a):a.length;var s=Pr(4+o+1),i=s+4;if(d[s>>2]=o,t&&u)Wt(a,i,o+1);else if(u)for(var l=0;l<o;++l){var h=a.charCodeAt(l);h>255&&(_(i),f("String has UTF-16 code units that do not fit in 8 bits")),g[i+l]=h}else for(l=0;l<o;++l)g[i+l]=a[l];return n!==null&&n.push(_,s),s},argPackAdvance:P,readValueFromPointer:q,destructorFunction(n){_(n)}})},ne=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ot=(r,e)=>{for(var t=r,n=t>>1,a=n+e/2;!(n>=a)&&M[n];)++n;if((t=n<<1)-r>32&&ne)return ne.decode(g.subarray(r,t));for(var o="",u=0;!(u>=e/2);++u){var s=x[r+2*u>>1];if(s==0)break;o+=String.fromCharCode(s)}return o},St=(r,e,t)=>{if(t??=2147483647,t<2)return 0;for(var n=e,a=(t-=2)<2*r.length?t/2:r.length,o=0;o<a;++o){var u=r.charCodeAt(o);x[e>>1]=u,e+=2}return x[e>>1]=0,e-n},kt=r=>2*r.length,Et=(r,e)=>{for(var t=0,n="";!(t>=e/4);){var a=I[r+4*t>>2];if(a==0)break;if(++t,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n},Rt=(r,e,t)=>{if(t??=2147483647,t<4)return 0;for(var n=e,a=n+t-4,o=0;o<r.length;++o){var u=r.charCodeAt(o);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&r.charCodeAt(++o)),I[e>>2]=u,(e+=4)+4>a)break}return I[e>>2]=0,e-n},Dt=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n>=55296&&n<=57343&&++t,e+=4}return e},xt=(r,e,t)=>{var n,a,o,u;t=m(t),e===2?(n=Ot,a=St,u=kt,o=s=>M[s>>1]):e===4&&(n=Et,a=Rt,u=Dt,o=s=>d[s>>2]),C(r,{name:t,fromWireType:s=>{for(var i,l=d[s>>2],h=s+4,p=0;p<=l;++p){var v=s+4+p*e;if(p==l||o(v)==0){var y=n(h,v-h);i===void 0?i=y:(i+="\0",i+=y),h=v+e}}return _(s),i},toWireType:(s,i)=>{typeof i!="string"&&f(`Cannot pass non-string to C++ string type ${t}`);var l=u(i),h=Pr(4+l+e);return d[h>>2]=l/e,a(i,h+4,l+e),s!==null&&s.push(_,h),h},argPackAdvance:P,readValueFromPointer:q,destructorFunction(s){_(s)}})},It=(r,e,t,n,a,o)=>{rr[r]={name:m(e),rawConstructor:b(t,n),rawDestructor:b(a,o),fields:[]}},Vt=(r,e,t,n,a,o,u,s,i,l)=>{rr[r].fields.push({fieldName:m(e),getterReturnType:t,getter:b(n,a),getterContext:o,setterArgumentType:u,setter:b(s,i),setterContext:l})},Ht=(r,e)=>{C(r,{isVoid:!0,name:e=m(e),argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})},Ut=(r,e,t)=>g.copyWithin(r,e,e+t),ae=(r,e,t)=>{var n=[],a=r.toWireType(n,t);return n.length&&(d[e>>2]=$.toHandle(n)),a},Bt=(r,e,t)=>(r=$.toValue(r),e=br(e,"emval::as"),ae(e,t,r)),ur=[],Nt=(r,e,t,n)=>(r=ur[r])(null,e=$.toValue(e),t,n),Mt={},cr=r=>{var e=Mt[r];return e===void 0?m(r):e},zt=(r,e,t,n,a)=>(r=ur[r])(e=$.toValue(e),e[t=cr(t)],n,a),oe=()=>typeof globalThis=="object"?globalThis:Function("return this")(),qt=r=>r===0?$.toHandle(oe()):(r=cr(r),$.toHandle(oe()[r])),Gt=r=>{var e=ur.length;return ur.push(r),e},Lt=(r,e)=>{for(var t=new Array(r),n=0;n<r;++n)t[n]=br(d[e+4*n>>2],"parameter "+n);return t},Jt=(r,e,t)=>{var n=Lt(r,e),a=n.shift();r--;var o=`return function (obj, func, destructorsRef, args) {
`,u=0,s=[];t===0&&s.push("obj");for(var i=["retType"],l=[a],h=0;h<r;++h)s.push("arg"+h),i.push("argType"+h),l.push(n[h]),o+=`  var arg${h} = argType${h}.readValueFromPointer(args${u?"+"+u:""});
`,u+=n[h].argPackAdvance;o+=`  var rv = ${t===1?"new func":"func.call"}(${s.join(", ")});
`,a.isVoid||(i.push("emval_returnValue"),l.push(ae),o+=`  return emval_returnValue(retType, destructorsRef, rv);
`),o+=`};
`,i.push(o);var p=Yr(Function,i)(...l),v=`methodCaller<(${n.map(y=>y.name).join(", ")}) => ${a.name}>`;return Gt(U(v,p))},Kt=r=>(r=cr(r),$.toHandle(c[r])),Qt=(r,e)=>(r=$.toValue(r),e=$.toValue(e),$.toHandle(r[e])),Zt=r=>{r>9&&(W[r+1]+=1)},Xt=r=>$.toHandle(cr(r)),Yt=r=>{var e=$.toValue(r);pr(e),Tr(r)},rn=()=>2147483648,en=r=>{var e=(r-X.buffer.byteLength+65535)/65536;try{return X.grow(e),kr(),1}catch{}},tn=r=>{var e=g.length;r>>>=0;var t=rn();if(r>t)return!1;for(var n=(s,i)=>s+(i-s%i)%i,a=1;a<=4;a*=2){var o=e*(1+.2/a);o=Math.min(o,r+100663296);var u=Math.min(t,n(Math.max(r,o),65536));if(en(u))return!0}return!1},nn=r=>52;function an(r,e,t,n,a){return 70}var on=[null,[],[]],sn=(r,e)=>{var t=on[r];e===0||e===10?((r===1?ye:D)(te(t,0)),t.length=0):t.push(e)},un=(r,e,t,n)=>{for(var a=0,o=0;o<t;o++){var u=d[e>>2],s=d[e+4>>2];e+=8;for(var i=0;i<s;i++)sn(r,g[u+i]);a+=s}return d[n>>2]=a,0};Ur=c.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},xe(),V=c.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},Je(),ze(),tt(),Jr=c.UnboundTypeError=st(Error,"UnboundTypeError"),ft();var lr,cn={K:ke,G:Ee,s:Re,C:De,I:Ve,w:it,v:ct,d:lt,m:ht,H:vt,o:mt,a:gt,A:wt,k:Tt,l:Ct,f:Pt,z:jt,u:xt,t:It,c:Vt,J:Ht,F:Ut,n:Bt,q:Nt,p:zt,b:Tr,x:qt,i:Jt,r:Kt,g:Qt,j:Zt,h:Xt,e:Yt,D:tn,E:nn,B:an,y:un},A=Oe(),se=r=>(se=A.N)(r),Pr=r=>(Pr=A.O)(r),_=r=>(_=A.P)(r),ie=r=>(ie=A.R)(r);function ue(){function r(){lr||(lr=!0,c.calledRun=!0,Sr||(ge(),_r(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),$e()))}E>0||(me(),E>0||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),r()},1)):r()))}if(c.dynCall_jiji=(r,e,t,n,a)=>(c.dynCall_jiji=A.S)(r,e,t,n,a),z=function r(){lr||ue(),lr||(z=r)},c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return ue(),fe});export{hn as default};
