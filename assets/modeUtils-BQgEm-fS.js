import{V as Y,bQ as qt,bA as Wt,bC as Me,aC as Kt,ah as Vt,y as Jt,i as xe,bS as Gt,bT as Qt,ba as De,u as He,aY as Zt,aZ as Yt,_ as $,m as b,a as Xt}from"./jsonMap-Bs3hmeCU.js";import{f as es}from"./intl-sjEXBsFq.js";import{l as me,w as lt,m as ts,c as ss,e as rs,f as os}from"./reactiveUtils-SO2Ko3sy.js";import{n as is}from"./uuid-Oe6SV2kF.js";import{_ as ns,an as as,s as ls}from"./Point-Byf20bUE.js";import{t as ct}from"./sanitizerUtils-BT_8V5US.js";function cs(t){return typeof t=="string"?document.getElementById(t):t??null}function ho(t,e){for(;;){const s=t.firstChild;if(!s)break;e.appendChild(s)}}const dt="http://www.w3.org/",re=`${dt}2000/svg`,ht=`${dt}1999/xlink`;let je=[],Ee=(t,e)=>{let s={};return Object.keys(t).forEach(r=>{s[r]=t[r]}),e&&Object.keys(e).forEach(r=>{s[r]=e[r]}),s},we=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),ut=t=>{if(typeof t!="string")throw new Error("Style values must be strings")},ds=(t,e,s)=>{if(e.vnodeSelector!==""){for(let r=s;r<t.length;r++)if(we(t[r],e))return r}return-1},de=(t,e,s,r)=>{let o=t[e];if(o.vnodeSelector==="")return;let i=o.properties;if(!(i&&(i.key===void 0?i.bind:i.key))){for(let n=0;n<t.length;n++)if(n!==e){let l=t[n];if(we(l,o))throw new Error(`${s.vnodeSelector} had a ${o.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},hs=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},ge=[],ye=!1,pt=t=>{(t.children||[]).forEach(pt),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},Ie=()=>{ye=!1,ge.forEach(pt),ge.length=0},ze=t=>{ge.push(t),ye||(ye=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(Ie,{timeout:16}):setTimeout(Ie,16))},Be=t=>{let e=t.domNode;if(t.properties){let s=t.properties.exitAnimation;if(s)return e.style.pointerEvents="none",void s(e,()=>{e.parentNode&&(e.parentNode.removeChild(e),ze(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),ze(t))},us=(t,e,s)=>{if(!e)return;let r=s.eventHandlerInterceptor,o=Object.keys(e),i=o.length;for(let n=0;n<i;n++){let l=o[n],a=e[l];if(l==="className")throw new Error('Property "className" is not supported, use "class".');if(l==="class")$e(t,a,!0);else if(l==="classes"){let c=Object.keys(a),u=c.length;for(let d=0;d<u;d++){let h=c[d];a[h]&&t.classList.add(h)}}else if(l==="styles"){let c=Object.keys(a),u=c.length;for(let d=0;d<u;d++){let h=c[d],p=a[h];p&&(ut(p),s.styleApplyer(t,h,p))}}else if(l!=="key"&&a!=null){let c=typeof a;c==="function"?(l.lastIndexOf("on",0)===0&&(r&&(a=r(l,a,t,e)),l==="oninput"&&(function(){let u=a;a=function(d){u.apply(this,[d]),d.target["oninput-value"]=d.target.value}})()),t[l]=a):s.namespace===re?l==="href"?t.setAttributeNS(ht,l,a):t.setAttribute(l,a):c==="string"&&l!=="value"?l==="innerHTML"?t[l]=ct.sanitize(a):ve(t)&&l in t?t[l]=a:t.setAttribute(l,a):t[l]=a}}};function ve(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;const e=window.customElements.get(t.tagName.toLowerCase());return!!e&&t instanceof e}let X,ps=(t,e,s)=>{if(e)for(let r of e)I(r,t,void 0,s)},ft=(t,e,s)=>{ps(t,e.children,s),e.text&&(t.textContent=e.text),us(t,e.properties,s),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,s,e.vnodeSelector,e.properties,e.children])},I=(t,e,s,r)=>{let o,i=0,n=t.vnodeSelector,l=e.ownerDocument;if(n==="")o=t.domNode=l.createTextNode(t.text),s!==void 0?e.insertBefore(o,s):e.appendChild(o);else{for(let a=0;a<=n.length;++a){let c=n.charAt(a);if(a===n.length||c==="."||c==="#"){let u=n.charAt(i-1),d=n.slice(i,a);u==="."?o.classList.add(d):u==="#"?o.id=d:(d==="svg"&&(r=Ee(r,{namespace:re})),r.namespace!==void 0?o=t.domNode=l.createElementNS(r.namespace,d):(o=t.domNode=t.domNode||l.createElement(d),d==="input"&&t.properties&&t.properties.type!==void 0&&o.setAttribute("type",t.properties.type)),s!==void 0?e.insertBefore(o,s):o.parentNode!==e&&e.appendChild(o)),i=a+1}}ft(o,t,r)}},$e=(t,e,s)=>{e&&e.split(" ").forEach(r=>{r&&t.classList.toggle(r,s)})},fs=(t,e,s,r)=>{if(!s)return;let o=!1,i=Object.keys(s),n=i.length;for(let l=0;l<n;l++){let a=i[l],c=s[a],u=e[a];if(a==="class")u!==c&&($e(t,u,!1),$e(t,c,!0));else if(a==="classes"){let d=t.classList,h=Object.keys(c),p=h.length;for(let m=0;m<p;m++){let y=h[m],O=!!c[y];O!==!!u[y]&&(o=!0,O?d.add(y):d.remove(y))}}else if(a==="styles"){let d=Object.keys(c),h=d.length;for(let p=0;p<h;p++){let m=d[p],y=c[m];y!==u[m]&&(o=!0,y?(ut(y),r.styleApplyer(t,m,y)):r.styleApplyer(t,m,""))}}else if(c||typeof u!="string"||(c=""),a!=="value"||ve(t)){if(c!==u){let d=typeof c;d==="function"&&r.eventHandlerInterceptor||(r.namespace===re?a==="href"?t.setAttributeNS(ht,a,c):t.setAttribute(a,c):d==="string"?a==="innerHTML"?t[a]=ct.sanitize(c):a==="role"&&c===""?t.removeAttribute(a):ve(t)&&a in t?t[a]=c:t.setAttribute(a,c):t[a]!==c&&(t[a]=c),o=!0)}}else{let d=t[a];d!==c&&(t["oninput-value"]?d===t["oninput-value"]:c!==u)&&(t[a]=c,t["oninput-value"]=void 0),c!==u&&(o=!0)}}return o},ms=(t,e,s,r,o)=>{if(s===r)return!1;r=r||je;let i,n=(s=s||je).length,l=r.length,a=0,c=0,u=!1;for(;c<l;){let d=a<n?s[a]:void 0,h=r[c];if(d!==void 0&&we(d,h))u=X(d,h,o)||u,a++;else{let p=ds(s,h,a+1);if(p>=0){for(i=a;i<p;i++)Be(s[i]),de(s,i,t,"removed");u=X(s[p],h,o)||u,a=p+1}else I(h,e,a<n?s[a].domNode:void 0,o),hs(h),de(r,c,t,"added")}c++}if(n>a)for(i=a;i<n;i++)Be(s[i]),de(s,i,t,"removed");return u};X=(t,e,s)=>{let r=t.domNode,o=!1;if(t===e)return!1;let i=!1;if(e.vnodeSelector===""){if(e.text!==t.text){let n=r.ownerDocument.createTextNode(e.text);return r.parentNode.replaceChild(n,r),e.domNode=n,o=!0,o}e.domNode=r}else e.vnodeSelector.lastIndexOf("svg",0)===0&&(s=Ee(s,{namespace:re})),t.text!==e.text&&(i=!0,e.text===void 0?r.removeChild(r.firstChild):r.textContent=e.text),e.domNode=r,i=ms(e,r,t.children,e.children,s)||i,i=fs(r,t.properties,e.properties,s)||i,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[r,s,e.vnodeSelector,e.properties,e.children]);return i&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(r,e.properties,t.properties),o};let G=(t,e)=>({getLastRender:()=>t,update:s=>{if(t.vnodeSelector!==s.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=t;t=s,X(r,s,e)},domNode:t.domNode});const gs={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,s)=>{e.charAt(0)==="-"?t.style.setProperty(e,s):t.style[e]=s}};let D=t=>Ee(gs,t),A={append:(t,e,s)=>(s=D(s),I(e,t,void 0,s),G(e,s)),insertBefore:(t,e,s)=>(s=D(s),I(e,t.parentNode,t,s),G(e,s)),merge:(t,e,s)=>(s=D(s),e.domNode=t,ft(t,e,s),G(e,s)),replace:(t,e,s)=>(s=D(s),I(e,t.parentNode,t,s),t.parentNode.removeChild(t),G(e,s))},mt,ys=(t,e)=>{let s=[];for(;t&&t!==e;)s.push(t),t=t.parentNode;return s};mt=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let vs=(t,e)=>{let s=t;return e.forEach(r=>{s=s&&s.children?mt(s.children,o=>o.domNode===r):void 0}),s},$s=(t,e,s)=>{let r=function(o){s("domEvent",o);let i=e(),n=ys(o.currentTarget,i.domNode);n.reverse();let l,a=vs(i.getLastRender(),n);return t.scheduleRender(),a&&(l=a.properties[`on${o.type}`].apply(a.properties.bind||this,arguments)),s("domEventProcessed",o),l};return(o,i,n,l)=>r},uo=t=>{let e,s,r=D(t),o=r.performanceLogger,i=!0,n=!1,l=[],a=[],c=(d,h,p)=>{let m,y=()=>m;r.eventHandlerInterceptor=$s(e,y,o),m=d(h,p(),r),l.push(m),a.push(p)},u=()=>{if(s=void 0,i){i=!1,o("renderStart",void 0);for(let d=0;d<l.length;d++){let h=a[d]();o("rendered",void 0),l[d].update(h),o("patched",void 0)}o("renderDone",void 0),i=!0}};return e={renderNow:u,scheduleRender:()=>{s||n||(s=requestAnimationFrame(u))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),n=!0},resume:()=>{n=!1,i=!0,e.scheduleRender()},append:(d,h)=>{c(A.append,d,h)},insertBefore:(d,h)=>{c(A.insertBefore,d,h)},merge:(d,h)=>{c(A.merge,d,h)},replace:(d,h)=>{c(A.replace,d,h)},detach:d=>{for(let h=0;h<a.length;h++)if(a[h]===d)return a.splice(h,1),l.splice(h,1)[0];throw new Error("renderFunction was not found")}},e};const bs={handleInterceptedEvent:(t,e,s,r)=>(t.scheduleRender(),e.properties[`on${r.type}`].apply(e.properties.bind||s,[r]))},_s={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,s)=>{e.startsWith("-")?t.style.setProperty(e,s):t.style[e]=s}},As=t=>({..._s,...t}),Cs=(t,e)=>{const s=[];for(;t&&t!==e;)s.push(t),t=t.parentNode;return s},Es=(t,e)=>t.find(e),Fe=(t,e,s=!1)=>{let r=t;return e.forEach((o,i)=>{const n=r?.children?Es(r.children,l=>l.domNode===o):void 0;s&&!n&&i!==e.length-1||(r=n)}),r},ws=t=>{let e;const s={...bs,...t},r=As(s),o=r.performanceLogger;let i,n=!0,l=!1;const a=[],c=[],u=(h,p,m)=>{let y;r.eventHandlerInterceptor=(eo,to,so,ro)=>function(E){let J;o("domEvent",E);const ce=Cs(E.currentTarget,y.domNode),Bt=ce.some(M=>customElements.get(M?.tagName?.toLowerCase()));if(E.eventPhase===Event.CAPTURING_PHASE||!Bt)ce.reverse(),J=Fe(y.getLastRender(),ce);else{const M=E.composedPath(),Ft=M.slice(M.indexOf(E.currentTarget),M.indexOf(y.domNode)).reverse();J=Fe(y.getLastRender(),Ft,!0)}let Oe;return J&&(Oe=s.handleInterceptedEvent(e,J,this,E)),o("domEventProcessed",E),Oe},s.postProcessProjectionOptions?.(r);const O=m();y=h(p,O,r),r.eventHandlerInterceptor=void 0,a.push(y),c.push(m),s.afterFirstVNodeRendered&&s.afterFirstVNodeRendered(y,O)};let d=()=>{if(i=void 0,n){n=!1,o("renderStart",void 0);for(let h=0;h<a.length;h++){const p=c[h]();o("rendered",void 0);try{a[h].update(p)}catch(m){console.error(m)}o("patched",void 0)}o("renderDone",void 0),n=!0}};return s.modifyDoRenderImplementation&&(d=s.modifyDoRenderImplementation(d,a,c)),e={renderNow:d,scheduleRender:()=>{i||l||(i=requestAnimationFrame(d))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),l=!0},resume:()=>{l=!1,n=!0,e.scheduleRender()},append:(h,p)=>{u(A.append,h,p)},insertBefore:(h,p)=>{u(A.insertBefore,h,p)},merge:(h,p)=>{u(A.merge,h,p)},replace:(h,p)=>{u(A.replace,h,p)},detach:h=>{for(let p=0;p<c.length;p++)if(c[p]===h)return c.splice(p,1),a.splice(p,1)[0];throw new Error("renderFunction was not found")}},e},f=(t,e,...s)=>{try{return t?.call(e,...s)}catch(r){console.error(r,t)}},be=async(t,e,...s)=>{try{return await t?.call(e,...s)}catch(r){console.error(r,t)}},Se=Symbol.for("controller"),Ss=t=>typeof t=="object"&&t!==null&&(Se in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),po=t=>typeof t?.then=="function";let H;const j=t=>{H!==t&&(H=t,queueMicrotask(()=>H===t?H=void 0:0))},oe=t=>H;let S=[];const Ps=t=>{if(t===void 0){S=[];return}const e=S.indexOf(t);S=e===-1?[...S,t]:S.slice(0,e+1),queueMicrotask(()=>S=[])},ks=()=>S;let R;const fo=t=>{R!==t&&(R=t,queueMicrotask(()=>R===t?R=void 0:0))},Ls=()=>{const t=R;return R=void 0,t},Rs=async(t,e)=>{const s=Pe(t);if(s===void 0)return t;if(await s.ready,typeof e=="function"){const r=s.watchExports(o=>e(o,r))}return s.exports},Ts=async t=>{const e=Pe(t);return await e.ready,e},Pe=t=>{const s=oe().manager.X(t);if(s!==void 0)return s;if(Ss(t))return t;const r=Ls();if(r!==void 0)return r};let _e=!1;const mo=t=>{_e=!0;try{return t()}finally{_e=!1}};const Q=globalThis,ke=Q.ShadowRoot&&(Q.ShadyCSS===void 0||Q.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Le=Symbol(),qe=new WeakMap;let gt=class{constructor(e,s,r){if(this._$cssResult$=!0,r!==Le)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=s}get styleSheet(){let e=this.o;const s=this.t;if(ke&&e===void 0){const r=s!==void 0&&s.length===1;r&&(e=qe.get(s)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&qe.set(s,e))}return e}toString(){return this.cssText}};const Ns=t=>new gt(typeof t=="string"?t:t+"",void 0,Le),yo=(t,...e)=>{const s=t.length===1?t[0]:e.reduce((r,o,i)=>r+(n=>{if(n._$cssResult$===!0)return n.cssText;if(typeof n=="number")return n;throw Error("Value passed to 'css' function must be a 'css' function result: "+n+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+t[i+1],t[0]);return new gt(s,t,Le)},Us=(t,e)=>{if(ke)t.adoptedStyleSheets=e.map(s=>s instanceof CSSStyleSheet?s:s.styleSheet);else for(const s of e){const r=document.createElement("style"),o=Q.litNonce;o!==void 0&&r.setAttribute("nonce",o),r.textContent=s.cssText,t.appendChild(r)}},We=ke?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let s="";for(const r of e.cssRules)s+=r.cssText;return Ns(s)})(t):t;const{is:Os,defineProperty:Ms,getOwnPropertyDescriptor:xs,getOwnPropertyNames:Ds,getOwnPropertySymbols:Hs,getPrototypeOf:js}=Object,ie=globalThis,Ke=ie.trustedTypes,Is=Ke?Ke.emptyScript:"",zs=ie.reactiveElementPolyfillSupport,z=(t,e)=>t,Ae={toAttribute(t,e){switch(e){case Boolean:t=t?Is:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let s=t;switch(e){case Boolean:s=t!==null;break;case Number:s=t===null?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch{s=null}}return s}},Re=(t,e)=>!Os(t,e),Ve={attribute:!0,type:String,converter:Ae,reflect:!1,useDefault:!1,hasChanged:Re};Symbol.metadata??=Symbol("metadata"),ie.litPropertyMetadata??=new WeakMap;let L=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,s=Ve){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(e,s),!s.noAccessor){const r=Symbol(),o=this.getPropertyDescriptor(e,r,s);o!==void 0&&Ms(this.prototype,e,o)}}static getPropertyDescriptor(e,s,r){const{get:o,set:i}=xs(this.prototype,e)??{get(){return this[s]},set(n){this[s]=n}};return{get:o,set(n){const l=o?.call(this);i?.call(this,n),this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Ve}static _$Ei(){if(this.hasOwnProperty(z("elementProperties")))return;const e=js(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(z("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(z("properties"))){const s=this.properties,r=[...Ds(s),...Hs(s)];for(const o of r)this.createProperty(o,s[o])}const e=this[Symbol.metadata];if(e!==null){const s=litPropertyMetadata.get(e);if(s!==void 0)for(const[r,o]of s)this.elementProperties.set(r,o)}this._$Eh=new Map;for(const[s,r]of this.elementProperties){const o=this._$Eu(s,r);o!==void 0&&this._$Eh.set(o,s)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const s=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const o of r)s.unshift(We(o))}else e!==void 0&&s.push(We(e));return s}static _$Eu(e,s){const r=s.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,s=this.constructor.elementProperties;for(const r of s.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Us(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,s,r){this._$AK(e,r)}_$ET(e,s){const r=this.constructor.elementProperties.get(e),o=this.constructor._$Eu(e,r);if(o!==void 0&&r.reflect===!0){const i=(r.converter?.toAttribute!==void 0?r.converter:Ae).toAttribute(s,r.type);this._$Em=e,i==null?this.removeAttribute(o):this.setAttribute(o,i),this._$Em=null}}_$AK(e,s){const r=this.constructor,o=r._$Eh.get(e);if(o!==void 0&&this._$Em!==o){const i=r.getPropertyOptions(o),n=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:Ae;this._$Em=o;const l=n.fromAttribute(s,i.type);this[o]=l??this._$Ej?.get(o)??l,this._$Em=null}}requestUpdate(e,s,r,o=!1,i){if(e!==void 0){const n=this.constructor;if(o===!1&&(i=this[e]),r??=n.getPropertyOptions(e),!((r.hasChanged??Re)(i,s)||r.useDefault&&r.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(n._$Eu(e,r))))return;this.C(e,s,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,s,{useDefault:r,reflect:o,wrapped:i},n){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,n??s??this[e]),i!==!0||n!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(s=void 0),this._$AL.set(e,s)),o===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(s){Promise.reject(s)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[o,i]of this._$Ep)this[o]=i;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[o,i]of r){const{wrapped:n}=i,l=this[o];n!==!0||this._$AL.has(o)||l===void 0||this.C(o,void 0,i,l)}}let e=!1;const s=this._$AL;try{e=this.shouldUpdate(s),e?(this.willUpdate(s),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(s)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(s)}willUpdate(e){}_$AE(e){this._$EO?.forEach(s=>s.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(s=>this._$ET(s,this[s])),this._$EM()}updated(e){}firstUpdated(e){}};L.elementStyles=[],L.shadowRootOptions={mode:"open"},L[z("elementProperties")]=new Map,L[z("finalized")]=new Map,zs?.({ReactiveElement:L}),(ie.reactiveElementVersions??=[]).push("2.1.2");const Te=globalThis,Je=t=>t,ee=Te.trustedTypes,Ge=ee?ee.createPolicy("lit-html",{createHTML:t=>t}):void 0,yt="$lit$",_=`lit$${Math.random().toFixed(9).slice(2)}$`,vt="?"+_,Bs=`<${vt}>`,k=document,F=()=>k.createComment(""),q=t=>t===null||typeof t!="object"&&typeof t!="function",Ne=Array.isArray,Fs=t=>Ne(t)||typeof t?.[Symbol.iterator]=="function",he=`[ 	
\f\r]`,x=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Qe=/-->/g,Ze=/>/g,w=RegExp(`>|${he}(?:([^\\s"'>=/]+)(${he}*=${he}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ye=/'/g,Xe=/"/g,$t=/^(?:script|style|textarea|title)$/i,bt=t=>(e,...s)=>({_$litType$:t,strings:e,values:s}),$o=bt(1),bo=bt(2),C=Symbol.for("lit-noChange"),g=Symbol.for("lit-nothing"),et=new WeakMap,P=k.createTreeWalker(k,129);function _t(t,e){if(!Ne(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ge!==void 0?Ge.createHTML(e):e}const qs=(t,e)=>{const s=t.length-1,r=[];let o,i=e===2?"<svg>":e===3?"<math>":"",n=x;for(let l=0;l<s;l++){const a=t[l];let c,u,d=-1,h=0;for(;h<a.length&&(n.lastIndex=h,u=n.exec(a),u!==null);)h=n.lastIndex,n===x?u[1]==="!--"?n=Qe:u[1]!==void 0?n=Ze:u[2]!==void 0?($t.test(u[2])&&(o=RegExp("</"+u[2],"g")),n=w):u[3]!==void 0&&(n=w):n===w?u[0]===">"?(n=o??x,d=-1):u[1]===void 0?d=-2:(d=n.lastIndex-u[2].length,c=u[1],n=u[3]===void 0?w:u[3]==='"'?Xe:Ye):n===Xe||n===Ye?n=w:n===Qe||n===Ze?n=x:(n=w,o=void 0);const p=n===w&&t[l+1].startsWith("/>")?" ":"";i+=n===x?a+Bs:d>=0?(r.push(c),a.slice(0,d)+yt+a.slice(d)+_+p):a+_+(d===-2?l:p)}return[_t(t,i+(t[s]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class W{constructor({strings:e,_$litType$:s},r){let o;this.parts=[];let i=0,n=0;const l=e.length-1,a=this.parts,[c,u]=qs(e,s);if(this.el=W.createElement(c,r),P.currentNode=this.el.content,s===2||s===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(o=P.nextNode())!==null&&a.length<l;){if(o.nodeType===1){if(o.hasAttributes())for(const d of o.getAttributeNames())if(d.endsWith(yt)){const h=u[n++],p=o.getAttribute(d).split(_),m=/([.?@])?(.*)/.exec(h);a.push({type:1,index:i,name:m[2],strings:p,ctor:m[1]==="."?Ks:m[1]==="?"?Vs:m[1]==="@"?Js:ne}),o.removeAttribute(d)}else d.startsWith(_)&&(a.push({type:6,index:i}),o.removeAttribute(d));if($t.test(o.tagName)){const d=o.textContent.split(_),h=d.length-1;if(h>0){o.textContent=ee?ee.emptyScript:"";for(let p=0;p<h;p++)o.append(d[p],F()),P.nextNode(),a.push({type:2,index:++i});o.append(d[h],F())}}}else if(o.nodeType===8)if(o.data===vt)a.push({type:2,index:i});else{let d=-1;for(;(d=o.data.indexOf(_,d+1))!==-1;)a.push({type:7,index:i}),d+=_.length-1}i++}}static createElement(e,s){const r=k.createElement("template");return r.innerHTML=e,r}}function U(t,e,s=t,r){if(e===C)return e;let o=r!==void 0?s._$Co?.[r]:s._$Cl;const i=q(e)?void 0:e._$litDirective$;return o?.constructor!==i&&(o?._$AO?.(!1),i===void 0?o=void 0:(o=new i(t),o._$AT(t,s,r)),r!==void 0?(s._$Co??=[])[r]=o:s._$Cl=o),o!==void 0&&(e=U(t,o._$AS(t,e.values),o,r)),e}class Ws{constructor(e,s){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=s}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:s},parts:r}=this._$AD,o=(e?.creationScope??k).importNode(s,!0);P.currentNode=o;let i=P.nextNode(),n=0,l=0,a=r[0];for(;a!==void 0;){if(n===a.index){let c;a.type===2?c=new V(i,i.nextSibling,this,e):a.type===1?c=new a.ctor(i,a.name,a.strings,this,e):a.type===6&&(c=new Gs(i,this,e)),this._$AV.push(c),a=r[++l]}n!==a?.index&&(i=P.nextNode(),n++)}return P.currentNode=k,o}p(e){let s=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,s),s+=r.strings.length-2):r._$AI(e[s])),s++}}class V{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,s,r,o){this.type=2,this._$AH=g,this._$AN=void 0,this._$AA=e,this._$AB=s,this._$AM=r,this.options=o,this._$Cv=o?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const s=this._$AM;return s!==void 0&&e?.nodeType===11&&(e=s.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,s=this){e=U(this,e,s),q(e)?e===g||e==null||e===""?(this._$AH!==g&&this._$AR(),this._$AH=g):e!==this._$AH&&e!==C&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Fs(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==g&&q(this._$AH)?this._$AA.nextSibling.data=e:this.T(k.createTextNode(e)),this._$AH=e}$(e){const{values:s,_$litType$:r}=e,o=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=W.createElement(_t(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===o)this._$AH.p(s);else{const i=new Ws(o,this),n=i.u(this.options);i.p(s),this.T(n),this._$AH=i}}_$AC(e){let s=et.get(e.strings);return s===void 0&&et.set(e.strings,s=new W(e)),s}k(e){Ne(this._$AH)||(this._$AH=[],this._$AR());const s=this._$AH;let r,o=0;for(const i of e)o===s.length?s.push(r=new V(this.O(F()),this.O(F()),this,this.options)):r=s[o],r._$AI(i),o++;o<s.length&&(this._$AR(r&&r._$AB.nextSibling,o),s.length=o)}_$AR(e=this._$AA.nextSibling,s){for(this._$AP?.(!1,!0,s);e!==this._$AB;){const r=Je(e).nextSibling;Je(e).remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class ne{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,s,r,o,i){this.type=1,this._$AH=g,this._$AN=void 0,this.element=e,this.name=s,this._$AM=o,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=g}_$AI(e,s=this,r,o){const i=this.strings;let n=!1;if(i===void 0)e=U(this,e,s,0),n=!q(e)||e!==this._$AH&&e!==C,n&&(this._$AH=e);else{const l=e;let a,c;for(e=i[0],a=0;a<i.length-1;a++)c=U(this,l[r+a],s,a),c===C&&(c=this._$AH[a]),n||=!q(c)||c!==this._$AH[a],c===g?e=g:e!==g&&(e+=(c??"")+i[a+1]),this._$AH[a]=c}n&&!o&&this.j(e)}j(e){e===g?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Ks extends ne{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===g?void 0:e}}class Vs extends ne{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==g)}}let Js=class extends ne{constructor(e,s,r,o,i){super(e,s,r,o,i),this.type=5}_$AI(e,s=this){if((e=U(this,e,s,0)??g)===C)return;const r=this._$AH,o=e===g&&r!==g||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==g&&(r===g||o);o&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}};class Gs{constructor(e,s,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=s,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){U(this,e)}}const Qs=Te.litHtmlPolyfillSupport;Qs?.(W,V),(Te.litHtmlVersions??=[]).push("3.3.2");const Zs=(t,e,s)=>{const r=s?.renderBefore??e;let o=r._$litPart$;if(o===void 0){const i=s?.renderBefore??null;r._$litPart$=o=new V(e.insertBefore(F(),i),i,void 0,s??{})}return o._$AI(t),o};const Ue=globalThis;let N=class extends L{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Zs(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return C}};N._$litElement$=!0,N.finalized=!0,Ue.litElementHydrateSupport?.({LitElement:N});const Ys=Ue.litElementPolyfillSupport;Ys?.({LitElement:N});(Ue.litElementVersions??=[]).push("4.2.2");class K{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}const Xs=(t,e)=>{const s=e/er;let r=0;const o=setInterval(()=>{r+=s,r>=e&&(clearInterval(o),t())},s);return o},er=4,tr=(t,e,s)=>{const r=Object.keys(t),o=r.length;T===void 0&&queueMicrotask(ae),T??=new Map;let i=T.get(t);return i===void 0&&(i={callbacks:[],keyCount:o},T.set(t,i)),i.keyCount!==o&&(i.callbacks.forEach(n=>n(r)),i.callbacks=[],i.keyCount=o),i.callbacks.push(n=>{const l=c=>f(e,null,c),a=n[o];a===void 0?l(void 0):t[a]===s?l(a):l(void 0)}),s};let T;const ae=()=>{T?.forEach(({callbacks:t},e)=>{const s=Object.keys(e);t.forEach(r=>r(s))}),T=void 0},sr=(t,e,s)=>{const r=t.manager;return r.V!==g&&r.V!==s&&r.S(void 0,void 0),r.T.length===0&&queueMicrotask(()=>r.S(void 0,void 0)),r.V=s,r.T.push((o,i)=>f(e,void 0,s===i?o:void 0)),s},rr=(t=[oe(),...ks()],e,s)=>{const r=Array.isArray(t)?t:[t];let o=r.length+1;const i=n=>{o-=1,n!==void 0&&(o=Math.min(o,0)),o===0&&e(n)};r.forEach(n=>tr(n,l=>i(l===void 0?void 0:{key:l,host:n,isReactive:!1}),s));for(const n of r)if("manager"in n&&n.manager.component===n){sr(n,l=>i(l===void 0?void 0:{key:l,host:n,isReactive:!0}),s);break}return s},or=(t="",e={},s=oe())=>{const r={emit:o=>{t===""&&ae();const i=new CustomEvent(t,{detail:o,cancelable:!0,bubbles:!0,composed:!0,...e});return s.el.dispatchEvent(i),i}};return t===""&&rr(void 0,o=>t=o.key,r),r},Co=or.bind(null,"");var At;At=Se;class ir{constructor(e){this.#e=[],this.#t=[],this.#s=[],this.#r=[],this.#o=[],this.#l=[],this.#c=[],this.#u=[],this.#d=[],this.#h=!1,this.P=new K,this.connectedCalled=!1,this.loadedCalled=!1,this[At]=!0,this.#a=[];const s=this,r=e??oe();s.#i=r,s.ready=s.P.promise,s.#n=st(s),s.component=r,s.#i.addController(s),s.#i.manager===void 0||(Ps(s),queueMicrotask(()=>s.catchUpLifecycle()))}#e;#t;#s;#r;#o;#l;#c;#u;#d;#h;#i;catchUpLifecycle(){const{manager:e}=this.#i;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#h&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#n;get exports(){return this.#n}set exports(e){const s=this.#n;s!==e&&(this.#n=e,this.#a.forEach(f),this.connectedCalled&&this.O!==!1&&this.#i.requestUpdate(this.O,s)),this.P.resolve(e)}setProvisionalExports(e,s=!0){this.#n=s?st(e):e,this.#a.forEach(f)}#a;watchExports(e){const s=()=>e(this.#n);return this.#a.push(s),()=>{this.#a.splice(this.#a.indexOf(s),1)}}get use(){return j(this.#i),Rs}get useRef(){return j(this.#i),Ts}get useRefSync(){return j(this.#i),Pe}controllerRemoved(){this.#i.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#e.push(e)}onDisconnected(e){this.#t.push(e)}onLoad(e){this.#s.push(e)}onLoaded(e){this.#r.push(e)}onUpdate(e){this.#o.push(e)}onUpdated(e){this.#l.push(e)}onDestroy(e){this.#c.push(e)}onLifecycle(e){this.#u.push(e),this.connectedCalled&&this.#i.el.isConnected&&this.#p(e)}triggerConnected(){const e=this;e.hostConnected&&f(e.hostConnected,e),e.#e.forEach(f),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&f(e.hostDisconnected,e),e.#t.forEach(f),e.#d.forEach(f),e.#d=[]}async triggerLoad(){if(this.#h)return;this.#h=!0;const e=this;e.hostLoad&&await be(e.hostLoad,e),this.#s.length>0&&await Promise.allSettled(this.#s.map(be)),this.P.resolve(this.#n)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&f(this.hostLoaded,this),this.#r.forEach(f),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&f(this.hostUpdate,this,e),this.#o.forEach(tt,e)}triggerUpdated(e){this.hostUpdated&&f(this.hostUpdated,this,e),this.#l.forEach(tt,e)}triggerDestroy(){this.hostDestroy&&f(this.hostDestroy,this),this.#c.forEach(f)}triggerLifecycle(){this.hostLifecycle&&this.#p(()=>this.hostLifecycle()),this.#u.forEach(this.#p,this)}#p(e){j(this.#i);const s=f(e);(Array.isArray(s)?s:[s]).forEach(o=>{typeof o=="function"?this.#d.push(o):typeof o=="object"&&typeof o.remove=="function"&&this.#d.push(o.remove)})}}function tt(t){f(t,void 0,this)}const nr=ir,st=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(r,o,i){if(!((o==="exports"||o==="_exports")&&o in r&&r[o]===s)&&(o in r||o in Promise.prototype||typeof o=="symbol"))return typeof r=="function"?r[o]:Reflect.get(r,o,i)}},s=new Proxy(t,e);return s},ar=t=>t.replace(lr,(e,s)=>`${s===0?"":"-"}${e.toLowerCase()}`),lr=/[A-Z]+(?![a-z])|[A-Z]/gu,cr=1,dr=2,hr=4,ur=8,pr=16,fr=32,mr=64,Ct=t=>{let e=t;for(;e=e.parentNode??e.host;)if(e?.constructor?.lumina){const s=e;return s.manager?.loadedCalled||(s.J??s._offspring).push(t),(s.I??s._postLoad).promise}return!1},rt={};function Et(){}const Z=Object.defineProperty,gr=globalThis.HTMLElement??Et;class Eo extends gr{constructor(){super(),this.#t={},this.#s=[],this.I=new K,this.H=new K,this.J=[];const e=this,s=e.constructor;e._offspring=e.J,e._postLoad=e.I,s.C?.forEach(r=>{Object.hasOwn(e,r)&&(e.#t[r]=e[r],delete e[r])}),s.A?e.#r({a:s.A}):s.B.then(async r=>{await s.K.p,e.#r(await(r.default?.then(o=>typeof o=="function"?{a:o}:o)??r))}).catch(r=>{e.H.reject(r),setTimeout(()=>{throw r})})}static{this.lumina=!0}static F(){for(const e of this.C??[])Z(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#t[e]},set(s){this.#t[e]=s}});for(const e of this.E??[])Z(this.prototype,e,{async value(...s){return this.#e||await this.H.promise,await this.#e[e](...s)},configurable:!0});for(const e of this.D??[])Z(this.prototype,e,{value(...s){return this.#e[e](...s)},configurable:!0})}#e;#t;#s;get manager(){return this.#e?.manager}attributeChangedCallback(e,s,r){this.#e?.attributeChangedCallback(e,s,r),this.#e||this.#s.push(e)}connectedCallback(){this.#e?this.#e.connectedCallback?.():queueMicrotask(()=>this.G=Ct(this))}disconnectedCallback(){this.#e?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#r(e){const s=this.constructor,r=s.L,o=this.#t,i=Object.values(e).find(d=>d.L===r),n=`${r}--lazy`;let l=i;for(;l&&!Object.hasOwn(l,"lumina");)l=Object.getPrototypeOf(l);vr(l),!s.A&&(s.A=i,customElements.define(n,i)),i.N=this;const c=document.createElement(n);i.N=void 0,this.#e=c,this.#t=c,this.#s.forEach(d=>c.attributeChangedCallback(d,null,this.getAttribute(d))),Object.entries(o).forEach(yr,c);const u=this.isConnected;(u||this.G)&&(c.connectedCallback?.(),u||c.disconnectedCallback())}addController(){}requestUpdate(){this.#e?.requestUpdate()}}function yr([t,e]){this[t]=e}const vr=t=>{const e=t.prototype,s=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(o,i){s.setAttribute.call(this.el,o,i)},e.removeAttribute=function(o){s.removeAttribute.call(this.el,o)},Z(e,"isConnected",{get(){return Reflect.get(s,"isConnected",this.el)}}))};const wt={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},St=t=>(...e)=>({_$litDirective$:t,values:e});let Pt=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,s,r){this._$Ct=e,this._$AM=s,this._$Ci=r}_$AS(e,s){return this.update(e,s)}update(e,s){return this.render(...s)}};const $r=St(class extends Pt{constructor(t){if(super(t),t.type!==wt.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in e)e[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(e)}const s=t.element.classList;for(const r of this.st)r in e||(s.remove(r),this.st.delete(r));for(const r in e){const o=!!e[r];o===this.st.has(r)||this.nt?.has(r)||(o?(s.add(r),this.st.add(r)):(s.remove(r),this.st.delete(r)))}return C}});const kt="important",br=" !"+kt,_r=St(class extends Pt{constructor(t){if(super(t),t.type!==wt.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,s)=>{const r=t[s];return r==null?e:e+`${s=s.includes("-")?s:s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:s}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?s.removeProperty(r):s[r]=null);for(const r in e){const o=e[r];if(o!=null){this.ft.add(r);const i=typeof o=="string"&&o.endsWith(br);r.includes("-")||i?s.setProperty(r,i?o.slice(0,-11):o,i?kt:""):s[r]=o}}return C}});class Ar extends nr{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=g,this.T=[],this.#s=new WeakMap,this.#t=e,this.exports=void 0,this.hasDestroy=Ce in e&&typeof e.destroy=="function",N.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const s=e.el.localName;throw e.el.remove(),new Error(`The ${s} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${Ce} prop.`)}this.#e!==void 0&&clearTimeout(this.#e),ae();for(const s of e.M)"triggerConnected"in s?s.triggerConnected():f(s.hostConnected,s)},hostDisconnected:()=>{for(const s of e.M)"triggerDisconnected"in s?s.triggerDisconnected():f(s.hostDisconnected,s);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const s of e.M)"triggerUpdate"in s?s.triggerUpdate(this.Q):f(s.hostUpdate,s,this.Q)},hostUpdated:()=>{for(const s of e.M)"triggerUpdated"in s?s.triggerUpdated(this.Q):f(s.hostUpdated,s,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),j(e)}#e;#t;async destroy(){if(!this.destroyed){this.#t.el.isConnected&&(this.hasDestroy=!1,this.#t.el.remove()),this.#e=void 0,this.destroyed=!0;for(const e of this.#t.M)"triggerDestroy"in e?e.triggerDestroy():f(e.hostDestroy,e);this.#t.M.splice(0)}}U(){if(this.#e!==void 0&&clearTimeout(this.#e),!this.#t.el.isConnected&&!this.#t.autoDestroyDisabled){const e=()=>{this.#t.destroy()};this.#e=Xs(e,Cr)}}S(e,s){const r=this.T;this.V=g,this.T=[],r.forEach(o=>o(e,s))}#s;W(e,s){(typeof s=="object"&&s!==null||typeof s=="function")&&this.#s.set(s,e)}X(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this.#s.get(e)}}let Cr=1e3;const Ce="autoDestroyDisabled";class Lt extends N{constructor(){super(),this.M=[],this.manager=new Ar(this);const e=this,s=e.constructor,r=s.N,o=s.K.o,i=Lt.prototype.shouldUpdate;e.#r=r?.H??new K,e.I=r?.I??new K,e.J=r?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=r??e,e.#s=e.enableUpdating,e.enableUpdating=Et,e.shouldUpdate!==i&&(e.#t=e.shouldUpdate,e.shouldUpdate=i),o&&(e.#e=new Map,s.elementProperties.forEach((n,l)=>e.#e.set(l,o())))}static finalizeStyles(e){const s=super.finalizeStyles(e),r=this.shadowRootOptions===rt;return this.K?.commonStyles===void 0||r?s:[this.K.commonStyles,...s]}static createProperty(e,s){const r=typeof s=="number"?s:Array.isArray(s)?s[0]:0,o=Array.isArray(s)?s[1]:void 0,i=o?.hasChanged??Re,n={attribute:r&cr&&typeof e=="string"?ar(e):!1,reflect:!!(r&dr),type:r&hr?Boolean:r&ur?Number:void 0,state:!!(r&pr),readOnly:!!(r&fr),noAccessor:!!(r&mr),c:!1,...o,hasChanged(l,a){const c=i(l,a);return n.c=c,c}};super.createProperty(e,n)}static getPropertyDescriptor(e,s,r){const o=this.K,i=super.getPropertyDescriptor(e,s,r);return r.d=i,{...i,get(){return o.t?.(this.#e.get(e)),i.get?.call(this)},set(n){const l=this.manager;if(r.readOnly&&!_e&&(l.R||l.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${n}"`);i.set.call(this,n??void 0),r.c&&this.#e?.get(e)?.notify(),l.T.length>0&&(ae(),l?.S(e,n))}}}static{this.lumina=!0}#e;#t;#s;#r;#o;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.(()=>this.requestUpdate());this.#o=e;const s=!this.manager.connectedCalled;super.connectedCallback(),s?queueMicrotask(()=>this.#c().catch(r=>{this.#r.reject(r),setTimeout(()=>{throw r})})):e&&this.requestUpdate()}#l(e){try{this.#o.clear(),this.constructor.K.r(this.#o,()=>super.update(e))}catch(s){throw this.#o.clear(),s}}disconnectedCallback(){super.disconnectedCallback(),this.#o?.destroy(),this.#o=void 0}createRenderRoot(){const e=this.el.shadowRoot,s=this.constructor,r=s.shadowRootOptions,i=e??(r===rt?this.el:this.el.attachShadow(r));if(this.isConnected){const n=i.getRootNode();n.adoptedStyleSheets=[...n.adoptedStyleSheets,...s.elementStyles.map(l=>"styleSheet"in l?l.styleSheet:l)]}return i}async#c(){const e=this.el.G??Ct(this.el);e&&await e;const s=[];for(const o of this.M)"triggerLoad"in o?s.push(o.triggerLoad()):s.push(be(o.hostLoad,o));await Promise.all(s),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(o=>o.has(Ce)&&this.manager.U()),this.#s(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const r=this.J.filter(o=>!o.manager?.loadedCalled);r.length&&await Promise.allSettled(r.map(async o=>await o.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const o of this.M)"triggerLoaded"in o?o.triggerLoaded():f(o.hostLoaded,o);this.loaded?.(),this.#r.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#t?.(e)??!0}update(e){this.#o?this.#l(e):super.update(e)}listen(e,s,r){const o=s?.bind(this)??s;this.manager.onLifecycle(()=>(this.el.addEventListener(e,o,r),()=>this.el.removeEventListener(e,o,r)))}listenOn(e,s,r,o){const i=r?.bind(this)??r;this.manager.onLifecycle(()=>(e.addEventListener(s,i,o),()=>e.removeEventListener(s,i,o)))}async componentOnReady(){return await this.#r.promise,this}addController(e){this.M.push(e),!(Se in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const Er=t=>{let e;const s=o=>{e=new URL(o,globalThis.location?.href||void 0).href},r={...t,getAssetPath(o){const i=new URL(o,e);return i.origin!==globalThis.location?.origin?i.href:i.pathname},setAssetPath:s,customElement(o,i){i.K=r,i.L=o,customElements.get(o)||customElements.define(o,i)}};return s(t.defaultAssetPath),r},So=t=>typeof t=="object"&&t!=null?$r(t):t,Po=t=>typeof t=="object"&&t!=null?_r(t):t,ko=g;function Lo(t,e,s){s==null?t.removeAttribute(e):t.setAttribute(e,s)}const Ro={toAttribute:t=>t===!0?"":t===!1?null:t},wr="calcite-mode-auto",Sr="calcite-mode-dark",To={rtl:"calcite--rtl"},No={filter:250,nextTick:0,resize:150,reposition:100},Uo=25;function ot(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,s=()=>t.contains(Sr)||t.contains(wr)&&e?"dark":"light",r=n=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:n}})),o=n=>{i!==n&&r(n),i=n};let i=s();r(i),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",n=>o(n.matches?"dark":"light")),new MutationObserver(()=>o(s())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const B=globalThis.calciteConfig,Oo=B?.focusTrapStack||[],Mo=B?.logLevel||"info",it="3.3.3",Pr="2025-10-08",kr="7391af08e";function Lr(){if(B&&B.version)return;console.info(`Using Calcite Components ${it} [Date: ${Pr}, Revision: ${kr}]`);const t=B||globalThis.calciteConfig||{};Object.defineProperty(t,"version",{value:it,writable:!1}),globalThis.calciteConfig=t}document.readyState==="interactive"?ot():document.addEventListener("DOMContentLoaded",ot,{once:!0});queueMicrotask(Lr);const Rr=Er({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.3.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:xo,getAssetPath:Do,setAssetPath:Tr}=Rr;let Rt=!1;const Nr=t=>{Rt=!0,Tr(t)};let Tt;function Ur(){Rt||Nr(ns(as(Tt)))}function Ho(t){const e=[];for(const s of Object.keys(t))customElements.get(`calcite-${s}`)||e.push(t[s]?.());return e.length>0?Promise.all(e):null}Tt="components/assets";const Nt=Symbol("widget"),Ut=Symbol("widget-test-data"),Or=[],Mr={},te=new WeakMap;function Ot(t,e){let s=e.children;if(s?.length)for(let o=0;o<s.length;++o)s[o]=Ot(t,s[o]);else s=Or;const r=e.vnodeSelector;if(se(r)){const o=e.properties||Mr,i=o.key||r,n={key:i,afterCreate:xr,afterUpdate:Dr,afterRemoved:Mt,parentWidget:t,widgetConstructor:r,widgetProperties:{...o,key:i,children:s}};return{vnodeSelector:r.vnodeSelector,properties:n,children:void 0,text:void 0,domNode:null}}return e}function xr(t,e,s,{parentWidget:r,widgetConstructor:o,widgetProperties:i}){const n=new o(i);n.container=t,te.set(t,n),n.afterCreate?.(n,t),r.addHandles(Y(()=>Mt(t))),queueMicrotask(()=>{n[Ut].projector?.renderNow()})}function Dr(t,e,s,{widgetProperties:r}){const o=te.get(t);o&&(o.set(r),o.afterUpdate?.(o,t))}function Mt(t){const e=te.get(t);e&&(e.afterRemoved?.(e,t),e.destroy(),te.delete(t))}function se(t){return typeof t=="function"&&t[Nt]}const nt=new Set;function Hr(t){nt.add(t),t.finally(()=>nt.delete(t))}function jr(t){return Y()}const le=new Map;function xt(){le.clear()}function Ir(t){return le.get(t)}function zr(t,e){le.set(t,e)}function ue(t){le.delete(t)}function Br(...t){const e=Me.acquire();for(let r=0;r<t.length;r++){const o=t[r],i=typeof o;if(i==="string")e.push(o);else if(Array.isArray(o))e.push.apply(e,o);else if(i==="object")for(const n in o)o[n]&&e.push(n)}const s=e.join(" ");return Me.release(e),s}(()=>{const t=new Map,e=new ResizeObserver(r=>{xt();for(const o of r)t.get(o.target)?.(o)}),s=(r,o,i)=>(t.set(r,o),e.observe(r,i),Y(()=>{e.unobserve(r),t.delete(r)}));return(r,o,i)=>{let n=null;return Kt([me(()=>typeof r=="function"?r():r,l=>{n?.remove(),l&&(n=s(l,o,i))},lt),Y(()=>n?.remove())])}})();function jo(t){const e=t?.closest("[dir]");return e!==null&&e instanceof HTMLElement&&e.dir==="rtl"||document.dir==="rtl"}function Io(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function zo(t){const e="data-node-ref";this[t.getAttribute(e)]=t}function Bo(t){return t==="Enter"||t===" "}async function Fo(t,e){await qt(Wt(e));const s=typeof t=="function"?t():t;s&&("setFocus"in s&&typeof s.setFocus=="function"?await s.setFocus():s instanceof HTMLElement&&s.focus())}const Fr=(t,e)=>{let s=t;for(;s;){if(s===e)return!0;if(!s.parentNode)return!1;s.parentNode instanceof ShadowRoot?s=s.parentNode.host:s=s.parentNode}return!1},qo=(t,e,s)=>{const r=qr(e).subscribe;return r(o=>{o.some(n=>Fr(t,n.target))&&s()})},pe={},qr=t=>{const e=t.join(","),s=pe[e];if(s!==void 0)return s;const r=new Set,o=new MutationObserver(n=>r.forEach(l=>l(n)));globalThis.document&&o.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const i={subscribe:n=>(r.add(n),()=>{r.delete(n),r.size===0&&(o.disconnect(),pe[e]=void 0)})};return pe[e]=i,i},Dt=(t,e)=>{let s=t;for(;s;){const r=s.closest?.(e);if(r)return r;const o=s.getRootNode?.();if(o===globalThis.document)return;s=o.host}};function Wr(t){const e=Dt(t,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return e?.classList.contains("calcite-mode-dark")||e?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const Wo=(t,e,s)=>Dt(t,`[${e}]`)?.getAttribute(e)??s;var at;let Kr=0;function Ht(t,e){const s=Object.prototype.hasOwnProperty;for(const r in e)s.call(e,r)&&s.call(t,r)&&(t[r]!=null&&e[r]!=null&&typeof t[r]=="object"&&typeof e[r]=="object"?Ht(t[r],e[r]):t[r]=e[r]);return t}const Vr=ws({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,s=/capture$/i;t.eventHandlerInterceptor=(r,o,i,n)=>{const l=e?.(r,o,i,n),a=s.test(r);if(!((r=r.replace(s,"")).toLowerCase()in i)||a){const c=r[2].toLowerCase()+r.slice(3),u=p=>l?.call(i,p);i.addEventListener(c,u,a);const d=()=>i.removeEventListener(c,u,a),h=n.afterRemoved;n.afterRemoved=p=>{h?.(p),d()}}return l}},handleInterceptedEvent(t,e,s,r){const{eventPhase:o,type:i}=r,n=o===Event.CAPTURING_PHASE;let l=`on${i}${n?"capture":""}`;const a=e.properties;(a&&l in a||(l=`on${i[0].toUpperCase()}${i.slice(1)}${n?"Capture":""}`,a&&l in a))&&(xt(),t.scheduleRender(),a[l].call(a.bind||s,r))}});let fe=!1,v=class extends ts(ss){static{this[at]=!0}constructor(t,e){super(t,e),this._attached=!1,this._projector=Vr,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=Vt(async()=>{if(this._messageBundleProps?.length){const l=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:a,propertyName:c})=>{if(this.destroyed)return;let u=await es(a);this.destroyed||(this.uiStrings&&Object.keys(this.uiStrings)&&(u=Ht(Jt(u),this.uiStrings)),this[c]=u)}));if(this.destroyed)return;for(const a of l)a.status==="rejected"&&xe.getLogger(this).error("widget-intl:locale-error",this.declaredClass,a.reason)}await this.loadLocale()}),this.addHandles(jr()),Ur();const s="esri-widget-uid-"+is(),r=this.render.bind(this);this._trackingTarget=new Gt(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const o=()=>({vnodeSelector:"div",properties:{key:`${s}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),i=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const l=r()??o(),a=l.properties??={};if(a.key??=s,se(l.vnodeSelector)){if(!this.visible)return o()}else this.visible?a.styles||(a.styles={}):(a.class="",a.styles={display:"none"}),a.styles.display??="";let c=0;return l.children?.forEach(u=>{se(u.vnodeSelector)||(u.properties??={},u.properties.key??=`${this.id}--${c++}`)}),Ot(this,l)};this.render=()=>{if(fe)return i();let l=Ir(this)??null;if(l)return l;this._trackingTarget.clear(),fe=!0;try{l=Qt(this._trackingTarget,i)}catch(a){throw xe.getLogger(this).error(a),a}finally{fe=!1}return l&&zr(this,l),l};const n=this.beforeFirstRender();n?this._resourcesFetch=n.then(()=>{this.destroyed||(this._readyForTrueRender=!0,this._postInitialize())}):(this._resourcesFetch=Promise.resolve().then(()=>{this.destroyed||this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),Hr(this._resourcesFetch)}normalizeCtorArgs(t,e){const s={...t};return e&&(s.container=e),s}postInitialize(){}beforeFirstRender(){const t=this.loadDependencies();return this._messageBundleProps?.length||t?Promise.all([t,this._loadLocale()]).then(()=>{}).catch(De):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(He(this._trackingTarget),He(this.viewModel),this._detach(this.container),this._set("container",null),this.render=()=>null,this._projector=null,ue(this))}set container(t){this._get("container")||this._set("container",t)}castContainer(t){return cs(t)}get destroyed(){return super.destroyed}get domNode(){return this.container}set domNode(t){this.container=t}get icon(){return null}set icon(t){this._overrideIfSome("icon",t)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+Kr++}set id(t){t&&this._set("id",t)}get label(){return this.declaredClass.split(".").pop()}set label(t){this._overrideIfSome("label",t)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(t){this._set("visible",t)}get[(at=Nt,Ut)](){return{projector:this._projector}}static{this.vnodeSelector="div"}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(ue(this),this._projector.scheduleRender())}classes(...t){return Br.apply(this,t)}renderNow(){ue(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(me(()=>this.viewModel,(e,s)=>{s&&this.removeHandles("delegated-events"),e&&Zt(e)&&this.addHandles(this._delegatedEventNames.map(r=>Yt(e,r,o=>{this.emit(r,o)})),"delegated-events")},lt)),this.postInitialize();const t=async()=>{await this._loadLocale().catch(De),this.scheduleRender()};this.addHandles([rs(t),me(()=>this.uiStrings,t)]),this.addHandles(os(()=>this.container,e=>{this.destroyed||this._attach(e)},{initial:!0,once:!0}))}_attach(t){t&&(this._projector.merge(t,this.render),this._attached=!0)}_detach(t){this._attached&&(this._projector.detach(this.render),this._attached=!1),t?.parentNode?.removeChild(t)}};$([b()],v.prototype,"_readyForTrueRender",void 0),$([b({value:null})],v.prototype,"container",null),$([ls("container")],v.prototype,"castContainer",null),$([b()],v.prototype,"icon",null),$([b()],v.prototype,"id",null),$([b()],v.prototype,"label",null),$([b()],v.prototype,"renderable",null),$([b()],v.prototype,"uiStrings",void 0),$([b()],v.prototype,"viewModel",void 0),$([b({value:!0})],v.prototype,"visible",null),$([b()],v.prototype,"key",void 0),$([b()],v.prototype,"children",void 0),$([b()],v.prototype,"afterCreate",void 0),$([b()],v.prototype,"afterUpdate",void 0),$([b()],v.prototype,"afterRemoved",void 0),v=$([Xt("esri.widgets.Widget")],v);const Ko=v;function Vo(t){return(e,s)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:s})}}var Jr=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},jt=function(t,e){for(var s=0,r=t.length;s<r;s++){var o=t[s];Array.isArray(o)?jt(o,e):o!=null&&o!==!1&&(o.hasOwnProperty("vnodeSelector")||(o=Jr(o)),e.push(o))}},Gr=function(t,e){for(var s=[],r=2;r<arguments.length;r++)s[r-2]=arguments[r];if(s.length===1&&typeof s[0]=="string")return{vnodeSelector:t,properties:e||void 0,children:void 0,text:s[0],domNode:null};var o=[];return jt(s,o),{vnodeSelector:t,properties:e||void 0,children:o,text:void 0,domNode:null}};function Jo(t,e,...s){return typeof t!="function"||se(t)?Gr(t,e??null,...s):t(e,...s)}function Go(...t){return t}const Qr="--esri-calcite-mode-name";function Zr(){const t=getComputedStyle(document.body).getPropertyValue(Qr).replaceAll(/\W/g,"").toLowerCase();return t==="dark"||t==="light"?t:void 0}const It="calcite-mode-";function zt(t){return Zr()??Wr(t??document.body)}function Qo(t){return zt(t)==="dark"}function Yr(t){return`${It}${zt(t)}`}function Zo(t){const e=Yr(t);Xr(t),t.classList.add(e)}function Xr(t){Array.from(t.classList).forEach(e=>{e.startsWith(It)&&t.classList.remove(e)})}export{g as A,Ko as B,ir as C,No as D,Go as E,Yr as F,Fo as G,Oo as H,Br as I,jo as J,Zo as K,Lt as L,Io as M,zo as N,Qo as O,Mo as P,C as Q,Po as R,To as S,ko as T,cs as U,ho as V,Bo as W,xt as X,So as a,$o as b,xo as c,Pt as d,St as e,Co as f,Do as g,Lo as h,yo as i,uo as j,Ps as k,fo as l,rr as m,mo as n,Wo as o,qo as p,j as q,ks as r,Ro as s,wt as t,po as u,Uo as v,bo as w,Ho as x,Jo as y,Vo as z};
