const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/webStyleSymbolUtils-BJre4LIN.js","assets/devEnvironmentUtils-8WtPGj6h.js","assets/jsonMap-Bs3hmeCU.js","assets/Point-BN8RINcc.js","assets/reader-DcGs6kKN.js","assets/index-C-2WWcaK.js","assets/index-Cv2ko1Ob.css","assets/collectionUtils-Dk3LoVuX.js","assets/reactiveUtils-SO2Ko3sy.js","assets/Extent-Bbnm65bN.js","assets/SimpleObservable-CvFyr0NA.js","assets/jsonUtils-DSuRWBnq.js","assets/layerUtils-Ca2TiN3a.js","assets/Layer-Ciy6IOGe.js","assets/date-IqUzANpt.js","assets/PictureMarkerSymbol-LudhOruE.js","assets/screenUtils-BitdhK1O.js","assets/Color-CERqXxxY.js","assets/mathUtils-PIGhLnI9.js","assets/SimpleMarkerSymbol-BGAFRS9_.js","assets/lineMarkers-CDwLe3J6.js","assets/PolygonSymbol3D-D50k8Fcq.js","assets/ExtrudeSymbol3DLayer-DSc1ou2x.js","assets/opacityUtils-DuFH0EC9.js","assets/aaBoundingBox-CtkshuSS.js","assets/aaBoundingRect-CrU5VtR_.js","assets/DoubleArray-DExKNiTh.js","assets/mat4f64-q_b6UJoq.js","assets/Font-Ct7_LYCJ.js","assets/SimpleFillSymbol-CDawtd9z.js","assets/TextSymbol-DH6PXxVy.js","assets/defaults3D-DhBThCZk.js","assets/defaults-Lh5xiowT.js","assets/defaultsJSON-GKolV7NZ.js","assets/styleUtils-CWHZpl-9.js","assets/lengthUtils-Ceo6858g.js"])))=>i.map(i=>d[i]);
import{y as o,aV as ae,_ as t,m as s,r as ye,a as p,v as U,bE as pe,i as G,s as ue,d as me,bz as ce,a2 as he}from"./jsonMap-Bs3hmeCU.js";import{r as w,u as A}from"./Color-CERqXxxY.js";import{o as be}from"./reader-DcGs6kKN.js";import{A as de}from"./lengthUtils-Ceo6858g.js";import{c as u}from"./lineMarkers-CDwLe3J6.js";import{O as a,M as H}from"./collectionUtils-Dk3LoVuX.js";import{T as _,b as W,a as K,n as Q,d as Y,e as O,f as fe,p as we,g as N}from"./PolygonSymbol3D-D50k8Fcq.js";import{e as ve,o as S}from"./screenUtils-BitdhK1O.js";import{a as Z,b as ee}from"./ExtrudeSymbol3DLayer-DSc1ou2x.js";import{l as ge,m as B}from"./SimpleFillSymbol-CDawtd9z.js";import{m as $e,c as Se,a as T}from"./PictureMarkerSymbol-LudhOruE.js";import{u as I,m as J}from"./SimpleMarkerSymbol-BGAFRS9_.js";import{g as P}from"./TextSymbol-DH6PXxVy.js";import{_ as Le}from"./index-C-2WWcaK.js";import{av as xe,j as Oe}from"./Point-BN8RINcc.js";var R;let n=R=class extends u{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,r){return r}writeData(e,r){Object.assign(r,e)}async collectRequiredFields(e,r){if(this.data?.type==="CIMSymbolReference"){const y=this.data.primitiveOverrides;if(y){const $=y.map(m=>{const x=m.valueExpressionInfo;return x?de(e,r,null,x.expression):null});await Promise.all($)}}}clone(){return new R({data:o(this.data)})}hash(){return ae(JSON.stringify(this.data)).toString()}};t([s({json:{write:!1}})],n.prototype,"color",void 0),t([s({json:{write:!0}})],n.prototype,"data",void 0),t([be("data",["symbol"])],n.prototype,"readData",null),t([ye("data",{})],n.prototype,"writeData",null),t([w({CIMSymbolReference:"cim"},{readOnly:!0})],n.prototype,"type",void 0),n=R=t([p("esri.symbols.CIMSymbol")],n);let L=class extends U{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};t([s({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],L.prototype,"type",void 0),t([s({readOnly:!0})],L.prototype,"visible",void 0),L=t([p("esri.symbols.callouts.Callout3D")],L);var z;let M=z=class extends U{constructor(e){super(e),this.color=new A("white")}clone(){return new z({color:o(this.color)})}};t([s(Z({colorRequiredOnWrite:!0}))],M.prototype,"color",void 0),M=z=t([p("esri.symbols.callouts.LineCallout3DBorder")],M);const Ce=M;var V;let b=V=class extends L{constructor(e){super(e),this.type="line",this.color=new A([0,0,0,1]),this.size=ve(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new V({color:o(this.color),size:this.size,border:o(this.border)})}};t([w({line:"line"})],b.prototype,"type",void 0),t([s(Z({colorRequiredOnWrite:!0}))],b.prototype,"color",void 0),t([s({...ee,json:{write:{isRequired:!0}}})],b.prototype,"size",void 0),t([s({type:Ce,json:{write:!0}})],b.prototype,"border",void 0),t([s({readOnly:!0})],b.prototype,"visible",null),b=V=t([p("esri.symbols.callouts.LineCallout3D")],b);function X(e){if(!e)return!1;const r=e.verticalOffset;return!(!r||r.screenLength<=0||r.maxWorldLength!=null&&r.maxWorldLength<=0)}function te(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!X(e)}function Ue(e){return e.type==="point-3d"||e.type==="label-3d"}function Ae(e){return e.horizontalAlignment==="center"}const se={types:{key:"type",base:L,typeMap:{line:b}},json:{write:!0}};var F;let d=F=class extends U{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new F({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};t([s({...ee,json:{write:{isRequired:!0}}})],d.prototype,"screenLength",void 0),t([s({type:Number,nonNullable:!0,json:{write:!0,default:0}})],d.prototype,"minWorldLength",void 0),t([s({type:Number,json:{write:!0}})],d.prototype,"maxWorldLength",void 0),d=F=t([p("esri.symbols.support.Symbol3DVerticalOffset")],d);var j;const re=a.ofType({base:null,key:"type",typeMap:{text:W}});let c=j=class extends _{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new re,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return te(this)}hasVisibleVerticalOffset(){return X(this)}clone(){return new j({styleOrigin:o(this.styleOrigin),symbolLayers:o(this.symbolLayers),thumbnail:o(this.thumbnail),callout:o(this.callout),verticalOffset:o(this.verticalOffset)})}static fromTextSymbol(e){return new j({symbolLayers:new a([W.fromTextSymbol(e)])})}};t([s({type:d,json:{write:!0}})],c.prototype,"verticalOffset",void 0),t([s(se)],c.prototype,"callout",void 0),t([s({json:{read:!1,write:!1}})],c.prototype,"styleOrigin",void 0),t([s({type:re})],c.prototype,"symbolLayers",void 0),t([w({LabelSymbol3D:"label-3d"},{readOnly:!0})],c.prototype,"type",void 0),c=j=t([p("esri.symbols.LabelSymbol3D")],c);var k;const oe=a.ofType({base:null,key:"type",typeMap:{line:K,path:Q}}),Me=a.ofType({base:null,key:"type",typeMap:{line:K,path:Q}});let f=k=class extends _{constructor(e){super(e),this.symbolLayers=new oe,this.type="line-3d"}clone(){return new k({styleOrigin:o(this.styleOrigin),symbolLayers:o(this.symbolLayers),thumbnail:o(this.thumbnail)})}static fromSimpleLineSymbol(e){return new k({symbolLayers:new a([K.fromSimpleLineSymbol(e)])})}};t([s({type:oe,json:{type:Me}})],f.prototype,"symbolLayers",void 0),t([w({LineSymbol3D:"line-3d"},{readOnly:!0})],f.prototype,"type",void 0),f=k=t([p("esri.symbols.LineSymbol3D")],f);var D;const le=a.ofType({base:null,key:"type",typeMap:{fill:Y}});let g=D=class extends _{constructor(e){super(e),this.symbolLayers=new le,this.type="mesh-3d"}clone(){return new D({styleOrigin:o(this.styleOrigin),symbolLayers:o(this.symbolLayers),thumbnail:o(this.thumbnail)})}static fromSimpleFillSymbol(e){return new D({symbolLayers:new a([Y.fromSimpleFillSymbol(e)])})}};t([s({type:le})],g.prototype,"symbolLayers",void 0),t([w({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],g.prototype,"type",void 0),g=D=t([p("esri.symbols.MeshSymbol3D")],g);var q;let l=q=class extends ge{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,r,y,$){if(e&&typeof e!="string"&&e.imageData==null)return e;const m={};return e&&(m.url=e),r&&(m.outline=r),y!=null&&(m.width=S(y)),$!=null&&(m.height=S($)),m}clone(){const e=new q({color:o(this.color),height:this.height,outline:o(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",o(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};t([w({esriPFS:"picture-fill"},{readOnly:!0})],l.prototype,"type",void 0),t([s($e)],l.prototype,"url",void 0),t([s({type:Number,json:{write:!0}})],l.prototype,"xscale",void 0),t([s({type:Number,json:{write:!0}})],l.prototype,"yscale",void 0),t([s({type:Number,cast:S,json:{write:!0}})],l.prototype,"width",void 0),t([s({type:Number,cast:S,json:{write:!0}})],l.prototype,"height",void 0),t([s({type:Number,cast:S,json:{write:!0}})],l.prototype,"xoffset",void 0),t([s({type:Number,cast:S,json:{write:!0}})],l.prototype,"yoffset",void 0),t([s(Se)],l.prototype,"source",void 0),l=q=t([p("esri.symbols.PictureFillSymbol")],l);var v;const ie=a.ofType({base:null,key:"type",typeMap:{icon:O,object:fe,text:W}});let h=v=class extends _{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new ie,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return te(this)}hasVisibleVerticalOffset(){return X(this)}clone(){return new v({verticalOffset:o(this.verticalOffset),callout:o(this.callout),styleOrigin:o(this.styleOrigin),symbolLayers:o(this.symbolLayers),thumbnail:o(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new v({symbolLayers:new a([O.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new v({symbolLayers:new a([O.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const y=e.data.symbol;return new v(y?.callout?{symbolLayers:new a([O.fromCIMSymbol(e)]),callout:new b({size:.5,color:new A([0,0,0])}),verticalOffset:new d({screenLength:40})}:{symbolLayers:new a([O.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new v({symbolLayers:new a([W.fromTextSymbol(e)])})}};t([s({type:d,json:{write:!0}})],h.prototype,"verticalOffset",void 0),t([s(se)],h.prototype,"callout",void 0),t([s({type:ie,json:{origins:{"web-scene":{write:!0}}}})],h.prototype,"symbolLayers",void 0),t([w({PointSymbol3D:"point-3d"},{readOnly:!0})],h.prototype,"type",void 0),h=v=t([p("esri.symbols.PointSymbol3D")],h);var E;let i=E=class extends u{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:H.getDefault(),r=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${r}:${e.url}`}read(e,r){this.portal=r?.portal,super.read(e,r)}clone(){return new E({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol(e)}async fetchCIMSymbol(e){pe(G.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const r=await this._fetchSymbol({...e,acceptedFormats:["cim"]});if(r?.type!=="cim")throw new ue("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return r}async _fetchSymbol(e){const r=e!=null?e.cache:null,y=r?this._fetchCacheKey:null;if(r!=null){const C=y&&r.get(y);if(C)return C.clone()}const{resolveWebStyleSymbol:$}=await Le(()=>import("./webStyleSymbolUtils-BJre4LIN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]));me(e);const m=$(this,{portal:this.portal},e);m.catch(C=>{G.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",C)});const x=await m;return r?.set(y,x.clone()),x}};t([s({json:{write:!1}})],i.prototype,"color",void 0),t([s({type:String,json:{write:!0}})],i.prototype,"styleName",void 0),t([s({type:H,json:{write:!1}})],i.prototype,"portal",void 0),t([s({type:String,json:{read:Oe,write:xe}})],i.prototype,"styleUrl",void 0),t([s({type:we,json:{read:!1}})],i.prototype,"thumbnail",void 0),t([s({type:String,json:{write:!0}})],i.prototype,"name",void 0),t([w({styleSymbolReference:"web-style"},{readOnly:!0})],i.prototype,"type",void 0),t([s()],i.prototype,"_fetchCacheKey",null),i=E=t([p("esri.symbols.WebStyleSymbol")],i);function Ke(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Be(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const ne={base:u,key:"type",typeMap:{"simple-fill":B,"picture-fill":l,"picture-marker":T,"simple-line":J,"simple-marker":I,text:P,"label-3d":c,"line-3d":f,"mesh-3d":g,"point-3d":h,"polygon-3d":N,"web-style":i,cim:n},errorContext:"symbol"},Je={base:u,key:"type",typeMap:{"picture-marker":T,"simple-marker":I,"point-3d":h,cim:n},errorContext:"symbol"},Xe={base:u,key:"type",typeMap:{"simple-line":J,"line-3d":f,cim:n},errorContext:"symbol"},Ge={base:u,key:"type",typeMap:{"simple-fill":B,"picture-fill":l,"polygon-3d":N,cim:n},errorContext:"symbol"},He={base:u,key:"type",typeMap:{"picture-marker":T,"simple-marker":I,text:P,"web-style":i,cim:n},errorContext:"symbol"},Qe=he({types:ne}),Ye={base:u,key:"type",typeMap:{"simple-fill":B,"picture-fill":l,"picture-marker":T,"simple-line":J,"simple-marker":I,text:P,"line-3d":f,"mesh-3d":g,"point-3d":h,"polygon-3d":N,"web-style":i,cim:n},errorContext:"symbol"},Ze={base:u,key:"type",typeMap:{text:P,"label-3d":c},errorContext:"symbol"},et={base:u,key:"type",typeMap:{"line-3d":f,"mesh-3d":g,"point-3d":h,"polygon-3d":N,"web-style":i,cim:n},errorContext:"symbol"},tt={base:u,key:"type",typeMap:{"label-3d":c},errorContext:"symbol"},st=ce(ne);export{Xe as C,Ye as D,et as F,Je as M,Ze as P,Be as S,tt as T,g as a,i as b,f as c,c as f,He as g,Ge as h,d as i,h as j,Ke as k,Ae as l,Ce as m,n,Ue as o,b as u,Qe as w,ne as x,st as z};
