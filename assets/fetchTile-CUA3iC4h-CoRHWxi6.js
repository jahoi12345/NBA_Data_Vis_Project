import{a4 as l,S as n,v as f}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{N as m}from"./RefreshableLayer-CBbEkZf--DylHaNOC.js";import{U as c}from"./ShadowCastClear.glsl-CeOT_rAo-BEYyVrmo.js";async function d(t,r,o){const e=t.layer;if(c(e)){const i=await e.fetchTile(r[0],r[1],r[2],o);if(l(o))throw f.getLogger(t).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."),n();return i}let s=t.getTileUrl(r);m(e)&&e.refreshTimestamp&&(s+=`${s.includes("?")?"&":"?"}_ts=${e.refreshTimestamp}`);const a=t.hasMixedImageFormats?3:2;return o.requester.request(s,a,o)}export{d as g};
