import{aH as m,I as n}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{l as c}from"./collectionUtils-jDyktm0P-BDP2Oq99.js";import{o as p,_ as g}from"./project-C1P0PqN_-BQPCCc99.js";import"./index-B0z_nLWi.js";import"./Point-BfTTZoMu-DeJwQYfh.js";import"./reactiveUtils-SO2Ko3sy-BCLX8Jdy.js";import"./Extent-CgDMOSRD-Bod5LY6s.js";import"./Polyline-CoiTLswR-DTxpB2Yg.js";import"./Polygon-D6wEPb3W-D2MPjRU4.js";import"./mathUtils-PIGhLnI9-B1tKUlUb.js";import"./reader-DcGs6kKN-DHJfK-tm.js";import"./SimpleObservable-CvFyr0NA-DXpoMYph.js";import"./jsonUtils-CmpazY1u-6pDLj5sx.js";import"./utils-CylVuxNi--x86XOjU.js";import"./utils-Dpg4yj1D-CeFz2JVC.js";import"./aaBoundingRect-CjwcS2F3-ri8bmh30.js";async function f(e=null,i){if(m.geometryServiceUrl)return m.geometryServiceUrl;if(!e)throw new n("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");let r;r="portal"in e?e.portal||c.getDefault():e,await r.load({signal:i});const t=r.helperServices?.geometry?.url;if(!t)throw new n("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");return t}async function x(e,i,r=null,t){const a=await f(r,t),l=new p({geometries:[e],outSpatialReference:i}),o=await g(a,l,{signal:t});if(o&&Array.isArray(o)&&o.length===1)return o[0];throw new n("internal:geometry-service-projection-failed","Geometry projection failed on service")}export{f as getGeometryServiceURL,x as projectGeometry};
