import{s as l}from"./mathUtils-PIGhLnI9-B1tKUlUb.js";import{l as m,f as s}from"./screenUtils-BitdhK1O-L0FLPAMi.js";import{G as p}from"./vec42-B8VM4vXb-BnA9MysM.js";import{o as h}from"./vec4f64-DPb6J-GU-C7c2DqbZ.js";const f=2.4;function q(t){return s(t*f)}function w(t){return m(t)/f}function y(t,n,a,i){let{color:e,ratio:c}=n,{color:o,ratio:r}=a;r===c&&(r===1?c-=1e-6:r+=1e-6);const u=l((i-c)/(r-c),0,1);p(t,e.toArray(),o.toArray(),u)}function x(t){const n=new Uint8ClampedArray(2048);if(t=t.filter(({ratio:o})=>o>=0&&o<=1).sort((o,r)=>o.ratio-r.ratio).map(({color:o,ratio:r})=>({color:o,ratio:Math.max(r,.001)})),t.length<1)return n;let a=t[0],i=t[0],e=1;const c=h();for(let o=0;o<512;o++){const r=(o+.5)/512;for(;r>i.ratio&&e<t.length;)a=i,i=t[e++];y(c,a,i,r),n.set(c,4*o)}return n}function C(t,n,a){const i=Math.sqrt(t**2+n**2)/a;return i>1?0:3/(Math.PI*a**2)*(1-i**2)**2}function I(t){return typeof t=="function"?t:t?n=>+n[t]:()=>1}export{C,I,q as d,w as q,f as u,x as w};
