import{F as nt}from"./Polygon-Brg2ZzgS.js";import{o as ct}from"./vec32-DAazN8eR.js";import{s as ht,z as x}from"./vec42-BKpTaQMj.js";import{n as yt}from"./vec2f64-rIxtbMRN.js";import{n as lt}from"./vec4f64-DPb6J-GU.js";let b=globalThis.Float16Array;function Tt(...f){return new(b??Float32Array)(...f)}function E(){return b}let T=!!b,g=class{static{this.ElementCount=9}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.elementCount=9;const i=this.TypedArrayConstructor;s===void 0&&(s=9*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const s=this.typedBuffer,u=e.typedBuffer;let i=t*this.typedBufferStride,n=r*e.typedBufferStride;for(let h=0;h<9;++h)s[i++]=u[n++]}get buffer(){return this.typedBuffer.buffer}},M=class{static{this.ElementCount=16}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.elementCount=16;const i=this.TypedArrayConstructor;s===void 0&&(s=16*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const s=this.typedBuffer;let u=t*this.typedBufferStride;for(let i=0;i<16;++i)s[u++]=e[r++]}get buffer(){return this.typedBuffer.buffer}};class y{static{this.ElementCount=1}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.elementCount=1;const i=this.TypedArrayConstructor;s===void 0&&(s=i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.stride=s,this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}let l=class{static{this.ElementCount=2}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.start=r,this.elementCount=2;const i=this.TypedArrayConstructor;s===void 0&&(s=2*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,nt(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const s=this.typedBuffer,u=e.typedBuffer;let i=t*this.typedBufferStride,n=r*e.typedBufferStride;s[i++]=u[n++],s[i]=u[n]}get buffer(){return this.typedBuffer.buffer}},p=class{static{this.ElementCount=3}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.elementCount=3;const i=this.TypedArrayConstructor;s===void 0&&(s=3*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,ct(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=s}copyFrom(t,e,r){const s=this.typedBuffer,u=e.typedBuffer;let i=t*this.typedBufferStride,n=r*e.typedBufferStride;s[i++]=u[n++],s[i++]=u[n++],s[i]=u[n]}get buffer(){return this.typedBuffer.buffer}},d=class{static{this.ElementCount=4}constructor(t,e,r=0,s,u){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const i=this.TypedArrayConstructor;s===void 0&&(s=4*i.BYTES_PER_ELEMENT);const n=e.byteLength===0?0:r;this.typedBuffer=u==null?new i(e,n):new i(e,n,(u-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,ht(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s,u){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=s,this.typedBuffer[t]=u}copyFrom(t,e,r){const s=this.typedBuffer,u=e.typedBuffer;let i=t*this.typedBufferStride,n=r*e.typedBufferStride;s[i++]=u[n++],s[i++]=u[n++],s[i++]=u[n++],s[i]=u[n]}get buffer(){return this.typedBuffer.buffer}};const c=lt();let pt=class{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}};function a(f,t="Assertion"){if(!f){const e=new Error(t).stack;throw new pt(`${t} at ${e}`)}}function Mt(f,t){f||(t=t||"",console.warn("Verify failed: "+t+`
`+new Error("verify").stack))}function Lt(f,t,e,r){let s,u=(e[0]-f[0])/t[0],i=(r[0]-f[0])/t[0];u>i&&(s=u,u=i,i=s);let n=(e[1]-f[1])/t[1],h=(r[1]-f[1])/t[1];if(n>h&&(s=n,n=h,h=s),u>h||n>i)return!1;n>u&&(u=n),h<i&&(i=h);let B=(e[2]-f[2])/t[2],o=(r[2]-f[2])/t[2];return B>o&&(s=B,B=o,o=s),!(u>o||B>i)&&(o<i&&(i=o),!(i<0))}function Ct(f,t,e,r,s,u=yt()){const i=(r[s]-e[s])*(t[0]-f[0])-(r[0]-e[0])*(t[s]-f[s]),n=(r[0]-e[0])*(f[s]-e[s])-(r[s]-e[s])*(f[0]-e[0]);if(i===0)return!1;const h=n/i;return u[0]=f[0]+h*(t[0]-f[0]),u[1]=f[s]+h*(t[s]-f[s]),!0}function wt(f,t,e,r,s){c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=1,x(c,c,t),s.length>2&&(s[2]=-c[2]),x(c,c,e),a(c[3]!==0),s[0]=c[0]/c[3],s[1]=c[1]/c[3],s[2]=c[2]/c[3],s[0]=(.5*s[0]+.5)*r[2]+r[0],s[1]=(.5*s[1]+.5)*r[3]+r[1]}function Nt(f,t){return Math.log(f)/Math.log(t)}function Pt(f){return f[0]===1&&f[1]===0&&f[2]===0&&f[3]===0&&f[4]===0&&f[5]===1&&f[6]===0&&f[7]===0&&f[8]===0&&f[9]===0&&f[10]===1&&f[11]===0&&f[15]===1}class Rt extends y{constructor(t,e=0,r,s){a(T),super(E(),t,e,r,s),this.elementType="f16"}static{this.ElementType="f16"}}class Yt extends y{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}static{this.ElementType="f32"}}class L extends l{constructor(t,e=0,r,s){a(T),super(E(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="f16"}}class C extends l{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="f32"}}class w extends p{constructor(t,e=0,r,s){a(T),super(E(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="f16"}}class m extends p{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class N extends d{constructor(t,e=0,r,s){a(T),super(E(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(N,t,e)}static{this.ElementType="f16"}}let Ft=class P extends d{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(P,t,e)}static{this.ElementType="f32"}};class R extends g{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(R,t,e)}static{this.ElementType="f32"}}class Y extends g{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="f64"}}class F extends M{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(F,t,e)}static{this.ElementType="f32"}}class $ extends M{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer($,t,e)}static{this.ElementType="f64"}}class I extends y{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="f64"}}class O extends l{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(O,t,e)}static{this.ElementType="f64"}}class S extends p{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(S,t,e)}static fromTypedArray(t,e){return new S(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class U extends d{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="f64"}}class V extends y{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(V,t,e)}static{this.ElementType="u8"}}class v extends l{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(v,t,e)}static{this.ElementType="u8"}}class A extends p{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(A,t,e)}static fromTypedArray(t,e){return new A(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class _ extends d{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(_,t,e)}static{this.ElementType="u8"}}class k extends y{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="u16"}}class z extends l{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="u16"}}class X extends p{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="u16"}}class j extends d{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="u16"}}class q extends y{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(q,t,e)}static{this.ElementType="u32"}}class D extends l{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="u32"}}class G extends p{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="u32"}}class H extends d{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(H,t,e)}static{this.ElementType="u32"}}class J extends y{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="i8"}}class K extends l{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(K,t,e)}static{this.ElementType="i8"}}class Q extends p{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(Q,t,e)}static{this.ElementType="i8"}}class W extends d{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="i8"}}class Z extends y{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(Z,t,e)}static{this.ElementType="i16"}}class tt extends l{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(tt,t,e)}static{this.ElementType="i16"}}class et extends p{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(et,t,e)}static{this.ElementType="i16"}}class st extends d{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(st,t,e)}static{this.ElementType="i16"}}class rt extends y{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(rt,t,e)}static{this.ElementType="i32"}}class it extends l{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(it,t,e)}static{this.ElementType="i32"}}class ft extends p{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(ft,t,e)}static{this.ElementType="i32"}}class ut extends d{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(ut,t,e)}static{this.ElementType="i32"}}export{$ as A,I as B,K as C,Q as D,F as E,U as F,W as G,Z as H,V as I,tt as J,et as K,z as L,j as M,st as N,A as O,rt as P,it as Q,ft as R,D as S,Ft as T,S as U,X as V,ut as W,wt as X,Rt as a,O as b,Pt as c,R as d,Mt as e,Yt as f,_ as g,w as h,Lt as i,v as j,G as k,E as l,N as m,Ct as n,m as o,L as p,H as q,T as r,a as s,Tt as t,Nt as u,q as v,k as w,Y as x,C as y,J as z};
