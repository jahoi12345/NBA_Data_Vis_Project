import{v as $}from"./Color-CERqXxxY-BuYn26eI.js";import{v as k}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";const A=()=>k.getLogger("esri.views.3d.support.buffer.math");function C(r,f,t){if(r.count!==f.count)return;const e=r.count,c=t[0],i=t[1],d=t[2],u=t[3],o=t[4],n=t[5],l=t[6],s=t[7],y=t[8],w=t[9],B=t[10],m=t[11],h=t[12],z=t[13],b=t[14],V=t[15],p=r.typedBuffer,j=r.typedBufferStride,a=f.typedBuffer,T=f.typedBufferStride;for(let _=0;_<e;_++){const S=_*j,g=_*T,M=a[g],v=a[g+1],G=a[g+2],O=a[g+3];p[S]=c*M+o*v+y*G+h*O,p[S+1]=i*M+n*v+w*G+z*O,p[S+2]=d*M+l*v+B*G+b*O,p[S+3]=u*M+s*v+m*G+V*O}}function D(r,f,t,e=4,c=e){if(r.length/e!==f.length/c)return void A().error("source and destination buffers need to have the same number of elements");const i=r.length/e,d=t[0],u=t[1],o=t[2],n=t[3],l=t[4],s=t[5],y=t[6],w=t[7],B=t[8],m=t[9],h=t[10],z=t[11],b=t[12],V=t[13],p=t[14],j=t[15];let a=0,T=0;for(let _=0;_<i;_++){const S=f[a],g=f[a+1],M=f[a+2],v=f[a+3];r[T]=d*S+l*g+B*M+b*v,r[T+1]=u*S+s*g+m*M+V*v,r[T+2]=o*S+y*g+h*M+p*v,r[T+3]=n*S+w*g+z*M+j*v,a+=c,T+=e}}function E(r,f,t){R(r.typedBuffer,f.typedBuffer,t,r.typedBufferStride,f.typedBufferStride)}function R(r,f,t,e=4,c=e){if(r.length/e!==f.length/c)return;const i=r.length/e,d=t[0],u=t[1],o=t[2],n=t[3],l=t[4],s=t[5],y=t[6],w=t[7],B=t[8];let m=0,h=0;for(let z=0;z<i;z++){const b=f[m],V=f[m+1],p=f[m+2],j=f[m+3];r[h]=d*b+n*V+y*p,r[h+1]=u*b+l*V+w*p,r[h+2]=o*b+s*V+B*p,r[h+3]=j,m+=c,h+=e}}function F(r,f){const t=Math.min(r.count,f.count),e=r.typedBuffer,c=r.typedBufferStride,i=f.typedBuffer,d=f.typedBufferStride;for(let u=0;u<t;u++){const o=u*c,n=u*d,l=i[n],s=i[n+1],y=i[n+2],w=l*l+s*s+y*y;if(w>0){const B=1/Math.sqrt(w);e[o]=B*l,e[o+1]=B*s,e[o+2]=B*y}}}function L(r,f,t){q(r.typedBuffer,f,t,r.typedBufferStride)}function q(r,f,t,e=4){const c=Math.min(r.length/e,f.count),i=f.typedBuffer,d=f.typedBufferStride;let u=0,o=0;for(let n=0;n<c;n++)r[o]=t*i[u],r[o+1]=t*i[u+1],r[o+2]=t*i[u+2],r[o+3]=t*i[u+3],u+=d,o+=e}function P(r,f,t,e){x(r.typedBuffer,f,t,e,r.typedBufferStride)}function x(r,f,t,e,c=4){const i=Math.min(r.length/c,f.count),d=f.typedBuffer,u=f.typedBufferStride;let o=0,n=0;const l=1/$;for(let s=0;s<i;s++)r[n]=e*(t*d[o])**l,r[n+1]=e*(t*d[o+1])**l,r[n+2]=e*(t*d[o+2])**l,r[n+3]=e*t*d[o+3],o+=u,n+=c}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:x,linearToSRGBView:P,normalize:F,scale:q,scaleView:L,transformMat3:R,transformMat3View:E,transformMat4:D,transformMat4View:C},Symbol.toStringTag,{value:"Module"}));export{E as C,F as D,P as F,R,x};
