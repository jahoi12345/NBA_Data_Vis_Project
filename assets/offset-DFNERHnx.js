import{convertToSpatialReferenceUnit as y,toLengthUnit as R}from"./unitConversion-BRJSqqQ6.js";import{w as c}from"./operatorOffset-D6oDOSmb.js";import{fromGeometry as d,getSpatialReference as E,fromSpatialReference as G,toGeometry as g}from"./apiConverter-HTBxo72t.js";import{fromGeometry as h,toGeometry as x}from"./jsonConverter-Dk2FSxYW.js";import"./enum-BzLwmiID.js";import"./jsonMap-Bs3hmeCU.js";import"./Point-BN8RINcc.js";import"./reader-DcGs6kKN.js";import"./index-C-2WWcaK.js";import"./SimpleGeometryCursor-B92kdZ15.js";import"./ProjectionTransformation-PJc9H7Gq.js";import"./Point2D-CMz7woHH.js";import"./Envelope2D-mFnl8dXR.js";import"./Transformation2D-CrydmBdC.js";import"./OperatorDefinitions-DP7_WWTp.js";import"./Extent-Bbnm65bN.js";import"./Polyline-BtUG5wiC.js";import"./Polygon-BdLNJfwi.js";import"./aaBoundingRect-CrU5VtR_.js";import"./mathUtils-PIGhLnI9.js";const u={round:0,bevel:1,miter:2,square:3};function F(r,e,i,t,m,s){e=y(R(i),r.spatialReference,e);const p=d(r),a=E(r),n=v(p,G(a),e,t,m,s);return g(n,a)}function H(r,e,i,t,m,s){e=y(R(i),r.spatialReference,e);const p=h(r),a=p.getGeometry(),n=p.getSpatialReference(),f=v(a,n,e,t,m,s);return x(f,n)}function v(r,e,i,t,m,s){const p=c(r,e,i,u[t],m,s);if(!p.isEmpty())return p;{const o=r.clone();o.reverseAllPaths();const l=c(o,e,-i,u[t],m,s);if(!l.isEmpty())return l.reverseAllPaths(),l}const a=Math.abs(i)/10,n=a/10;let f=s;if(t==="round"&&(f+=n),t==="bevel"||t==="square"){const o=c(r,e,i,u[t="miter"],m,s);if(!o.isEmpty())return o}if(t==="miter"){const o=c(r,e,i,u[t="round"],m,s);if(!o.isEmpty())return o}if(t==="round")for(;f<=a;f+=n){const o=c(r,e,i,u[t],m,f);if(!o.isEmpty())return o}return null}export{F as executeOffset,H as executeOffsetJson};
