import{a2 as m,Y as s,H as o,G as c}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{x as n}from"./screenUtils-BitdhK1O-L0FLPAMi.js";import{B as g}from"./Color-CERqXxxY-BuYn26eI.js";import{u as d}from"./reader-DcGs6kKN-DHJfK-tm.js";import{i as f}from"./SimpleMarkerSymbol-BGAFRS9_-CVQ5NLIA.js";import{au as y,M as w,N as D,av as h,Y as v,V as b,aq as j}from"./Point-BfTTZoMu-BAT2Wq6O.js";function x(e,t,i){return t.imageData?y({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):p(t.url,i)}function p(e,t){if(!v(e)){const i=H(t);if(i)return b(i,"images",e)}return j(e,t)}function z(e,t,i,r){if(w(e)){const u=D(e);if(!u)return;t.contentType=u.mediaType,t.imageData=u.data,i&&i.imageData===t.imageData&&i.url&&h(i.url,t,"url",r)}else h(e,t,"url",r)}const T={json:{read:{source:["imageData","url"],reader:x},write:{writer(e,t,i,r){z(e,t,this.source,r)}}}},$={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=p(t.url,i)),r}}}};function H(e){if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?e.url?.path:null}var l;let a=l=class extends f{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=n(t)),i!=null&&(r.height=n(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new l({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",m(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};s([o({json:{write:!1}})],a.prototype,"color",void 0),s([g({esriPMS:"picture-marker"},{readOnly:!0})],a.prototype,"type",void 0),s([o(T)],a.prototype,"url",void 0),s([o($)],a.prototype,"source",void 0),s([o({type:Number,cast:n,json:{write:!0}})],a.prototype,"height",void 0),s([d("height",["height","size"])],a.prototype,"readHeight",null),s([o({type:Number,cast:n,json:{write:!0}})],a.prototype,"width",void 0),s([o({json:{write:!1}})],a.prototype,"size",void 0),a=l=s([c("esri.symbols.PictureMarkerSymbol")],a);export{a,T as b,$ as x};
