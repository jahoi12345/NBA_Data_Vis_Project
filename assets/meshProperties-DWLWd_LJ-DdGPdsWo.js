const i=Symbol("meshContext");function l(t){return t&&typeof t=="object"&&i in t?t[i]:void 0}function x(t,n){const r=l(t);return{...t,[i]:{...r,...n}}}const a=Symbol("meshMaterialContext");function p(t){return t&&typeof t=="object"&&a in t?t[a]:void 0}function d(t){if(p(t)?.materialMap)return t;const n={materialMap:new Map};return{...t,[a]:n}}const f=Symbol("meshTextureContext");function m(t){return t&&typeof t=="object"&&f in t?t[f]:void 0}function g(t){if(m(t)?.textureMap)return t;const n={textureMap:new Map};return{...t,[f]:n}}function c(t,n,r,u){const{loggerTag:o,stride:e}=n;return t.length%e!==0?(u.error(o,`Invalid array length, expected a multiple of ${e}`),new r([])):t}function b(t,n,r,u,o){if(!t)return t;if(t instanceof n)return c(t,u,n,o);for(const e of r)if(t instanceof e)return c(new n(t),u,n,o);if(Array.isArray(t))return c(new n(t),u,n,o);{const e=r.map(s=>`'${s.name}'`);return o.error(`Failed to set property, expected one of ${e}, but got ${t.constructor.name}`),new n([])}}function h(t,n,r){n[r]=y(t)}function y(t){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}export{h as $,g as b,x as d,b as g,l,m,p,d as x};
