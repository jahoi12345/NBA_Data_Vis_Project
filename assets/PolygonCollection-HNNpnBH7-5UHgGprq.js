import{aE as l,aJ as c,Y as p,G as f}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{R as m}from"./collectionUtils-jDyktm0P-BDP2Oq99.js";import{P as o}from"./Polygon-D6wEPb3W-D2MPjRU4.js";import{J as u,a as h}from"./projectionUtils-BGH_5_I3-DGwchVO8.js";var a;let n=a=class extends l(m.ofType(o)){constructor(e){super(e)}clone(){return new a(this.items.map(e=>e.clone()))}write(e,t){return this.toJSON(t)}toJSON(e){const t=e?.layer?.spatialReference;return t?this.toArray().map(r=>{if(!t.equals(r.spatialReference)){if(!u(r.spatialReference,t))return e?.messages?.push(new c("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const i=new o;h(r,i,t),r=i}const s=r.toJSON(e);return delete s.spatialReference,s}).filter(r=>r!=null):this.toArray().map(r=>r.toJSON(e))}static fromJSON(e,t){const r=new a;return e.forEach(s=>r.add(o.fromJSON(s,t))),r}};n=a=p([f("esri.layers.support.PolygonCollection")],n);const O=n;export{O};
