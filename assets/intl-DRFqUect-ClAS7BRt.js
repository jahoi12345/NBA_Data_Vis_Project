import"./date-IqUzANpt-bLKO9IDT.js";import{Q as N,S as E,v as R,e as B}from"./reactiveUtils-SO2Ko3sy-BCLX8Jdy.js";import{I as f,ab as k,i as M}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{H as S,an as D}from"./Point-BfTTZoMu-BAT2Wq6O.js";const F={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function U(e){return e in F}function $(e){if(U(e)){const t=F[e];return t===!0?e:t}return null}const d=[],o=new Map;function _(e){for(const t of o.keys())L(e.pattern,t)&&o.delete(t)}function j(e){return d.includes(e)||(_(e),d.unshift(e)),M(()=>{const t=d.indexOf(e);t>-1&&(d.splice(t,1),_(e))})}async function J(e){const t=R();o.has(e)||o.set(e,C(e,t));const n=o.get(e);return n&&await W.add(n),n}function z(e){const t=N(e);return t?$(e)??$(t):null}async function C(e,t){const n=[];for(const r of d)if(L(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(u){n.push(u)}throw n.length?new f("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:n}):new f("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function L(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}B(()=>{o.clear()});const W=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=k())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}},G={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let g=new WeakMap,A={};function w(e){const t=e||A;if(!g.has(t)){const n=N(),r=n&&G[n]||E();g.set(t,new Intl.NumberFormat(r,e))}return g.get(t)}function K(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function V(e){const{minimumFractionDigits:t,maximumFractionDigits:n,useGrouping:r}=e;return{minimumFractionDigits:t,maximumFractionDigits:n,useGrouping:r==="auto"?"auto":r==="always"}}function X(e,t){return Object.is(e,-0)&&(e=0),w(t).format(e)}function Y(e,t=R()){if(!e)return null;let n=b.get(t);if(!n){const r=w().formatToParts(12345.6),u=[...w({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(u.map((i,a)=>[i,a])),h=new RegExp(`[${r.find(i=>i.type==="group")?.value}]`,"g"),p=new RegExp(`[${r.find(i=>i.type==="decimal")?.value}]`),c=new RegExp(`[${u.join("")}]`,"g"),m=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,l=/[-\u2212\u2013\u2014\u2015]/g;n=i=>{if((i=i.trim().replaceAll(h,"").replace(p,".").replace(c,v=>String(s.get(v))).replaceAll(m,"").replaceAll(l,"-"))==="")return null;const a=Number(i);return isNaN(a)?null:a},b.set(t,n)}return n(e)}B(()=>{g=new WeakMap,A={}});const b=new Map;async function T(e,t,n,r){const u=t.exec(n);if(!u)throw new f("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${t}"`);const s=u[1]?`${u[1]}/`:"",h=u[2],p=z(r),c=`${s}${h}.json`,m=p?`${s}${h}_${p}.json`:c;let l;try{l=await y(e(m))}catch(i){if(m===c)throw new f("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:i});try{l=await y(e(c))}catch(a){throw new f("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:a})}}return l}async function y(e){if(x.fetchBundleAsset!=null)return x.fetchBundleAsset(e);const t=await S(e,{responseType:"text"});return JSON.parse(t.data)}class O{constructor({base:t="",pattern:n,location:r=new URL(window.location.href)}){let u;u=typeof r=="string"?s=>new URL(s,new URL(r,window.location.href)).href:r instanceof URL?s=>new URL(s,r).href:r,this.pattern=typeof n=="string"?new RegExp(`^${n}`):n,this.getAssetUrl=u,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,n){return T(this.getAssetUrl,this.matcher,t,n)}}function H(e){return new O(e)}const x={};j(H({pattern:"esri/",location:D}));export{z as C,V as Q,J as V,X,Y,K as q};
