import{h as a,s as n}from"./jsonMap-Bs3hmeCU.js";import{M as p}from"./collectionUtils-CB98pReO.js";import{p as c,n as s}from"./project-ouXI81dD.js";import"./index-CB_zX-aI.js";import"./Point-62ir3Nzl.js";import"./reader-DcGs6kKN.js";import"./reactiveUtils-SO2Ko3sy.js";import"./Extent-Cs-ESnE1.js";import"./SimpleObservable-CvFyr0NA.js";import"./jsonUtils-alsySR4T.js";import"./Polyline-CUSonZ4c.js";import"./Polygon-BbQMC1ht.js";import"./aaBoundingRect-DfeeUq5j.js";import"./mathUtils-PIGhLnI9.js";import"./utils-uBZTDKaj.js";import"./utils-tSEVTzcz.js";async function g(r=null,i){if(a.geometryServiceUrl)return a.geometryServiceUrl;if(!r)throw new n("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");let e;e="portal"in r?r.portal||p.getDefault():r,await e.load({signal:i});const o=e.helperServices?.geometry?.url;if(!o)throw new n("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");return o}async function D(r,i,e=null,o){const m=await g(e,o),l=new c({geometries:[r],outSpatialReference:i}),t=await s(m,l,{signal:o});if(t&&Array.isArray(t)&&t.length===1)return t[0];throw new n("internal:geometry-service-projection-failed","Geometry projection failed on service")}export{g as getGeometryServiceURL,D as projectGeometry};
