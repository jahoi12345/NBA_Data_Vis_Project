import{a8 as _e,bn as $e,i as ye,y as Q,_ as T,m as D,r as de,a as Mr}from"./jsonMap-Bs3hmeCU.js";import{z as gr,p as xr,f as pr}from"./Extent-BVvEPGp_.js";import{a8 as $r,c as yr,b as C,aj as dr,f as br}from"./Point-CMHR1y9V.js";import{f as E,E as be,m as Ir,h as vr,e as Pr,i as Ee}from"./aaBoundingRect-WcI4brw6.js";import{m as we,A as Ae,r as Rr}from"./mathUtils-PIGhLnI9.js";let le=1e-6;function ne(){return le}function Nr(e){le=e}const Te=Math.random,Sr=Math.PI/180,qr=180/Math.PI;function zr(e){return e*Sr}function _r(e){return e*qr}function Er(e,r){return Math.abs(e-r)<=le*Math.max(1,Math.abs(e),Math.abs(r))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:Te,equals:Er,getEpsilon:ne,setEpsilon:Nr,toDegree:_r,toRadian:zr},Symbol.toStringTag,{value:"Module"}));function wr(e,r){return e[0]=r[0],e[1]=r[1],e}function Ar(e,r,t){return e[0]=r,e[1]=t,e}function Tr(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e}function Oe(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e}function je(e,r,t){return e[0]=r[0]*t[0],e[1]=r[1]*t[1],e}function Ze(e,r,t){return e[0]=r[0]/t[0],e[1]=r[1]/t[1],e}function Or(e,r){return e[0]=Math.ceil(r[0]),e[1]=Math.ceil(r[1]),e}function jr(e,r){return e[0]=Math.floor(r[0]),e[1]=Math.floor(r[1]),e}function Zr(e,r,t){return e[0]=Math.min(r[0],t[0]),e[1]=Math.min(r[1],t[1]),e}function Fr(e,r,t){return e[0]=Math.max(r[0],t[0]),e[1]=Math.max(r[1],t[1]),e}function Vr(e,r){return e[0]=Math.round(r[0]),e[1]=Math.round(r[1]),e}function Cr(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e}function Yr(e,r,t,s){return e[0]=r[0]+t[0]*s,e[1]=r[1]+t[1]*s,e}function Fe(e,r){const t=r[0]-e[0],s=r[1]-e[1];return Math.sqrt(t*t+s*s)}function fe(e,r){const t=r[0]-e[0],s=r[1]-e[1];return t*t+s*s}function Ve(e){const r=e[0],t=e[1];return Math.sqrt(r*r+t*t)}function Ce(e){const r=e[0],t=e[1];return r*r+t*t}function kr(e,r){return e[0]=-r[0],e[1]=-r[1],e}function Dr(e,r){return e[0]=1/r[0],e[1]=1/r[1],e}function Gr(e,r){const t=r[0],s=r[1];let n=t*t+s*s;return n>0&&(n=1/Math.sqrt(n),e[0]=r[0]*n,e[1]=r[1]*n),e}function Jr(e,r){return e[0]*r[0]+e[1]*r[1]}function Lr(e,r,t){const s=r[0]*t[1]-r[1]*t[0];return e[0]=e[1]=0,e[2]=s,e}function Br(e,r,t,s){const n=r[0],i=r[1];return e[0]=n+s*(t[0]-n),e[1]=i+s*(t[1]-i),e}function Ur(e,r=1){const t=2*Te()*Math.PI;return e[0]=Math.cos(t)*r,e[1]=Math.sin(t)*r,e}function Hr(e,r,t){const s=r[0],n=r[1];return e[0]=t[0]*s+t[2]*n,e[1]=t[1]*s+t[3]*n,e}function Qr(e,r,t){const s=r[0],n=r[1];return e[0]=t[0]*s+t[2]*n+t[4],e[1]=t[1]*s+t[3]*n+t[5],e}function K(e,r,t){const s=r[0],n=r[1];return e[0]=t[0]*s+t[3]*n+t[6],e[1]=t[1]*s+t[4]*n+t[7],e}function Wr(e,r,t){const s=r[0],n=r[1];return e[0]=t[0]*s+t[4]*n+t[12],e[1]=t[1]*s+t[5]*n+t[13],e}function Kr(e,r,t,s){const n=r[0]-t[0],i=r[1]-t[1],a=Math.sin(s),o=Math.cos(s);return e[0]=n*o-i*a+t[0],e[1]=n*a+i*o+t[1],e}function Xr(e,r){const t=e[0],s=e[1],n=r[0],i=r[1];let a=t*t+s*s;a>0&&(a=1/Math.sqrt(a));let o=n*n+i*i;o>0&&(o=1/Math.sqrt(o));const u=(t*n+s*i)*a*o;return u>1?0:u<-1?Math.PI:Math.acos(u)}function et(e){return"vec2("+e[0]+", "+e[1]+")"}function rt(e,r){return e[0]===r[0]&&e[1]===r[1]}function tt(e,r){const t=e[0],s=e[1],n=r[0],i=r[1],a=ne();return Math.abs(t-n)<=a*Math.max(1,Math.abs(t),Math.abs(n))&&Math.abs(s-i)<=a*Math.max(1,Math.abs(s),Math.abs(i))}function st(e,r,t,s,n){let i=r[0]-t[0],a=r[1]-t[1];const o=(s[0]*i+s[1]*a)*(n-1);return i=s[0]*o,a=s[1]*o,e[0]=r[0]+i,e[1]=r[1]+a,e}const nt=Ve,at=Oe,it=je,ot=Ze,ut=Fe,ct=fe,lt=Ce;Object.freeze(Object.defineProperty({__proto__:null,add:Tr,angle:Xr,ceil:Or,copy:wr,cross:Lr,dist:ut,distance:Fe,div:ot,divide:Ze,dot:Jr,equals:tt,exactEquals:rt,floor:jr,inverse:Dr,len:nt,length:Ve,lerp:Br,max:Fr,min:Zr,mul:it,multiply:je,negate:kr,normalize:Gr,projectAndScale:st,random:Ur,rotate:Kr,round:Vr,scale:Cr,scaleAndAdd:Yr,set:Ar,sqrDist:ct,sqrLen:lt,squaredDistance:fe,squaredLength:Ce,str:et,sub:at,subtract:Oe,transformMat2:Hr,transformMat2d:Qr,transformMat3:K,transformMat4:Wr},Symbol.toStringTag,{value:"Module"}));function O(e,r,t,s){return e[0]=r[0]*(1-s)+t[0]*s,e[1]=r[1]*(1-s)+t[1]*s,e}function q(e,r){return fe(e,r)}function ft(e,r,t,s,n){const[i,a]=r,[o,u]=t,[c,l]=s,[f,h]=n,m=(i-o)*(l-h)-(a-u)*(c-f);if(m===0)return null;const M=(i*u-a*o)*(c-f)-(i-o)*(c*h-l*f),g=(i*u-a*o)*(l-h)-(a-u)*(c*h-l*f);return e[0]=M/m,e[1]=g/m,e}const A=2*Math.PI;function Y(e,r){const t=Math.atan2(e,r);return t<0?t+A:t}function Ye(e){return Math.abs(e)%A}function Ie(e){const r=Ye(e);return r<Math.PI?r:A-r}function ae(e,r){return{min:Math.min(e,r),max:Math.max(e,r)}}function ke(e,r,t,s){if(we(Ye(e-r),0))return t?[e,e]:[e,s?e-A:e+A];const[n,i]=s?[e-A,e]:[e,e+A];return[e,H({min:n,max:i},r)]}function H({min:e,max:r},t){let s;return s=r-t,s>=A?(s-=s%A,t+s):(s=t-e,s>=A?(s-=s%A,t-s):t)}function ht(e,r){const t=H(e,r);return t>e.min&&t<e.max?t:Ie(t-e.min)<Ie(t-e.max)?e.min:e.max}function De(e,r,t,s=10){return r.map(n=>{let i=n;for(let a=0;a<s;a++){const[o,u,c,l,f,h]=t(i),m=e[0]-o,M=e[1]-u,g=-c,x=-l;i+=-(2*m*g+2*M*x)/(2*g*g+2*m*-f+2*x*x+2*M*-h||1e-6)}return i})}const mt=[0,0];function Ge(e){const r=1-e,t=r*r,s=e*e;return[t*r,3*e*t,3*s*r,s*e]}function ce(e,r,t,s,n){const[i,a,o,u]=Ge(n);return[e[0]*i+r[0]*a+t[0]*o+s[0]*u,e[1]*i+r[1]*a+t[1]*o+s[1]*u]}function ve(e,r,t,s,n){const[i,a,o,u]=Ge(n);return e*i+r*a+t*o+s*u}function zs(e,r,t){const s=e,[n,i,a]=r.b;return ce(s,i,a,n,t)}function Mt(e,r,t){const s=e,[n,i,a]=r.b,o=O([0,0],s,i,t),u=O(mt,i,a,t),c=O([0,0],a,n,t),l=O([0,0],o,u,t),f=O([0,0],u,c,t);return[{b:[O([],l,f,t),o,l]},{b:[[...n],f,c]}]}function _s(e,r,t){const s=e,[n,i,a]=r.b,o=De(t,[.1,.5,.9],f=>{const h=1-f,[m,M]=ce(s,i,a,n,f);return[m,M,3*h*h*(i[0]-s[0])+6*h*f*(a[0]-i[0])+3*f*f*(n[0]-a[0]),3*h*h*(i[1]-s[1])+6*h*f*(a[1]-i[1])+3*f*f*(n[1]-a[1]),6*h*(a[0]-2*i[0]+s[0])+6*f*(n[0]-2*a[0]+i[0]),6*h*(a[1]-2*i[1]+s[1])+6*f*(n[1]-2*a[1]+i[1])]}).map(f=>Math.min(1,Math.max(0,f)));o.push(0,1);let u=1/0;const c=o.map(f=>{const h=ce(s,i,a,n,f),[m,M]=h,g=t[0]-m,x=t[1]-M,p=Math.sqrt(g*g+x*x);return u=Math.min(p,u),{t:f,curvePoint:h,distance:p}}),l=[];for(const f of c){const{t:h,distance:m}=f;Ae(m,u)&&!l.some(({t:M})=>we(M,h))&&l.push(f)}return l}function gt(e,r,t){const s=r,[n,i,a]=t.b;if(E(e,s),E(e,n),be(e,i[0],i[1])&&be(e,a[0],a[1]))return e;for(const o of Pe(s[0],i[0],a[0],n[0]))o>0&&o<1&&Ir(e,ve(s[0],i[0],a[0],n[0],o));for(const o of Pe(s[1],i[1],a[1],n[1]))o>0&&o<1&&vr(e,ve(s[1],i[1],a[1],n[1],o));return e}function Pe(e,r,t,s){const n=3*(3*(r-t)-e+s),i=6*(e-2*r+t),a=3*(r-e);if(n===0)return i!==0?[-a/i]:[];const o=Math.sqrt(i*i-4*n*a);return[(-i+o)/(2*n),(-i-o)/(2*n)]}function Es(e,r,t){let n=0,i=[r];for(let a=0;a<16;a++){let o=e;const u=[];for(const l of i)u.push(...Mt(o,l,.5)),o=l.b[0];i=u,o=e,n=0;let c=0;for(const l of i){const[f,h,m]=l.b,M=Math.sqrt(q(o,f));n+=(M+(Math.sqrt(q(o,h))+Math.sqrt(q(h,m))+Math.sqrt(q(m,f))))/2,c+=M,o=f}if(n-c<t)return n}return n}function xt(e,r,t){const[s,n]=e,[i,a]=r,[o,u]=t,[c,l]=[i-s,a-n];let f=c*(o-s)+l*(u-n);f/=c**2+l**2,f=Rr(f,0,1);const h=O([0,0],e,r,f);return{t:f,curvePoint:h,distance:Math.sqrt(q(h,t))}}let Je=class{constructor(r,t,s,n,i,a){this.cx=r,this.cy=t,this.radius=s,this.thetaStart=n,this.thetaEnd=i,this.isInvalid=a}get startPoint(){const{cx:r,cy:t,radius:s,thetaStart:n}=this;return[r+s*Math.cos(n),t+s*Math.sin(n)]}get endPoint(){const{cx:r,cy:t,radius:s,thetaEnd:n}=this;return[r+s*Math.cos(n),t+s*Math.sin(n)]}};function te(e,r){const{cx:t,cy:s,radius:n}=e;return[t+n*Math.cos(r),s+n*Math.sin(r)]}function X(e,r){if(e.isInvalid)return O([0,0],e.startPoint,e.endPoint,r);const{thetaStart:t,thetaEnd:s}=e;return te(e,t*(1-r)+s*r)}function As(e,r){if(e.isInvalid)return xt(e.startPoint,e.endPoint,r);const{cx:t,cy:s,thetaStart:n,thetaEnd:i}=e,[a,o]=r,u=ht(ae(n,i),Math.atan2(o-s,a-t)),c=te(e,u);return{t:(u-n)/(i-n),curvePoint:c,distance:Math.sqrt(q(r,c))}}function Re(e,r){if(r.isInvalid)return E(e,r.startPoint),E(e,r.endPoint),e;const{cx:t,cy:s,radius:n,thetaStart:i,thetaEnd:a}=r;E(e,te(r,i)),E(e,te(r,a));const o=ae(i,a),u=Math.PI/2;let c=0;for(const l of[[t+n,s],[t,s+n],[t-n,s],[t,s-n]])c=H(o,c),c>o.min&&c<o.max&&E(e,l),c+=u;return e}function Ts(e){if(e.isInvalid)return 2*e.radius;const{radius:r,thetaStart:t,thetaEnd:s}=e;return r*Math.abs(s-t)}function pt(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[4],e[4]=r[5],e[5]=r[6],e[6]=r[8],e[7]=r[9],e[8]=r[10],e}function $t(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e}function B(e,r,t,s,n,i,a,o,u,c){return e[0]=r,e[1]=t,e[2]=s,e[3]=n,e[4]=i,e[5]=a,e[6]=o,e[7]=u,e[8]=c,e}function yt(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Le(e,r){if(e===r){const t=r[1],s=r[2],n=r[5];e[1]=r[3],e[2]=r[6],e[3]=t,e[5]=r[7],e[6]=s,e[7]=n}else e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8];return e}function Be(e,r){const t=r[0],s=r[1],n=r[2],i=r[3],a=r[4],o=r[5],u=r[6],c=r[7],l=r[8],f=l*a-o*c,h=-l*i+o*u,m=c*i-a*u;let M=t*f+s*h+n*m;return M?(M=1/M,e[0]=f*M,e[1]=(-l*s+n*c)*M,e[2]=(o*s-n*a)*M,e[3]=h*M,e[4]=(l*t-n*u)*M,e[5]=(-o*t+n*i)*M,e[6]=m*M,e[7]=(-c*t+s*u)*M,e[8]=(a*t-s*i)*M,e):null}function dt(e,r){const t=r[0],s=r[1],n=r[2],i=r[3],a=r[4],o=r[5],u=r[6],c=r[7],l=r[8];return e[0]=a*l-o*c,e[1]=n*c-s*l,e[2]=s*o-n*a,e[3]=o*u-i*l,e[4]=t*l-n*u,e[5]=n*i-t*o,e[6]=i*c-a*u,e[7]=s*u-t*c,e[8]=t*a-s*i,e}function ee(e){const r=e[0],t=e[1],s=e[2],n=e[3],i=e[4],a=e[5],o=e[6],u=e[7],c=e[8];return r*(c*i-a*u)+t*(-c*n+a*o)+s*(u*n-i*o)}function se(e,r,t){const s=r[0],n=r[1],i=r[2],a=r[3],o=r[4],u=r[5],c=r[6],l=r[7],f=r[8],h=t[0],m=t[1],M=t[2],g=t[3],x=t[4],p=t[5],$=t[6],d=t[7],y=t[8];return e[0]=h*s+m*a+M*c,e[1]=h*n+m*o+M*l,e[2]=h*i+m*u+M*f,e[3]=g*s+x*a+p*c,e[4]=g*n+x*o+p*l,e[5]=g*i+x*u+p*f,e[6]=$*s+d*a+y*c,e[7]=$*n+d*o+y*l,e[8]=$*i+d*u+y*f,e}function bt(e,r,t){const s=r[0],n=r[1],i=r[2],a=r[3],o=r[4],u=r[5],c=r[6],l=r[7],f=r[8],h=t[0],m=t[1];return e[0]=s,e[1]=n,e[2]=i,e[3]=a,e[4]=o,e[5]=u,e[6]=h*s+m*a+c,e[7]=h*n+m*o+l,e[8]=h*i+m*u+f,e}function It(e,r,t){const s=r[0],n=r[1],i=r[2],a=r[3],o=r[4],u=r[5],c=r[6],l=r[7],f=r[8],h=Math.sin(t),m=Math.cos(t);return e[0]=m*s+h*a,e[1]=m*n+h*o,e[2]=m*i+h*u,e[3]=m*a-h*s,e[4]=m*o-h*n,e[5]=m*u-h*i,e[6]=c,e[7]=l,e[8]=f,e}function vt(e,r,t){const s=t[0],n=t[1],i=t[2];return e[0]=s*r[0],e[1]=s*r[1],e[2]=s*r[2],e[3]=n*r[3],e[4]=n*r[4],e[5]=n*r[5],e[6]=i*r[6],e[7]=i*r[7],e[8]=i*r[8],e}function Pt(e,r,t){const s=t[0],n=t[1];return e[0]=s*r[0],e[1]=s*r[1],e[2]=s*r[2],e[3]=n*r[3],e[4]=n*r[4],e[5]=n*r[5],e}function Rt(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=r[0],e[7]=r[1],e[8]=1,e}function Nt(e,r){const t=Math.sin(r),s=Math.cos(r);return e[0]=s,e[1]=t,e[2]=0,e[3]=-t,e[4]=s,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function St(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=r[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function qt(e,r){return e[0]=r[0],e[1]=r[1],e[2]=0,e[3]=r[2],e[4]=r[3],e[5]=0,e[6]=r[4],e[7]=r[5],e[8]=1,e}function zt(e,r){const t=r[0],s=r[1],n=r[2],i=r[3],a=t+t,o=s+s,u=n+n,c=t*a,l=s*a,f=s*o,h=n*a,m=n*o,M=n*u,g=i*a,x=i*o,p=i*u;return e[0]=1-f-M,e[3]=l-p,e[6]=h+x,e[1]=l+p,e[4]=1-c-M,e[7]=m-g,e[2]=h-x,e[5]=m+g,e[8]=1-c-f,e}function _t(e,r){const t=r[0],s=r[1],n=r[2],i=r[4],a=r[5],o=r[6],u=r[8],c=r[9],l=r[10],f=l*a-o*c,h=-l*i+o*u,m=c*i-a*u,M=t*f+s*h+n*m;if(!M)return null;const g=1/M;return e[0]=f*g,e[1]=(-l*s+n*c)*g,e[2]=(o*s-n*a)*g,e[3]=h*g,e[4]=(l*t-n*u)*g,e[5]=(-o*t+n*i)*g,e[6]=m*g,e[7]=(-c*t+s*u)*g,e[8]=(a*t-s*i)*g,e}function Et(e,r){const t=r[0],s=r[1],n=r[2],i=r[3],a=r[4],o=r[5],u=r[6],c=r[7],l=r[8],f=r[9],h=r[10],m=r[11],M=r[12],g=r[13],x=r[14],p=r[15],$=t*o-s*a,d=t*u-n*a,y=t*c-i*a,b=s*u-n*o,I=s*c-i*o,P=n*c-i*u,v=l*g-f*M,R=l*x-h*M,N=l*p-m*M,w=f*x-h*g,S=f*p-m*g,V=h*p-m*x;let z=$*V-d*S+y*w+b*N-I*R+P*v;return z?(z=1/z,e[0]=(o*V-u*S+c*w)*z,e[1]=(u*N-a*V-c*R)*z,e[2]=(a*S-o*N+c*v)*z,e[3]=(n*S-s*V-i*w)*z,e[4]=(t*V-n*N+i*R)*z,e[5]=(s*N-t*S-i*v)*z,e[6]=(g*P-x*I+p*b)*z,e[7]=(x*y-M*P-p*d)*z,e[8]=(M*I-g*y+p*$)*z,e):null}function wt(e,r,t){return e[0]=2/r,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/t,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function At(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Tt(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function Ot(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e[2]=r[2]+t[2],e[3]=r[3]+t[3],e[4]=r[4]+t[4],e[5]=r[5]+t[5],e[6]=r[6]+t[6],e[7]=r[7]+t[7],e[8]=r[8]+t[8],e}function Ue(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e[2]=r[2]-t[2],e[3]=r[3]-t[3],e[4]=r[4]-t[4],e[5]=r[5]-t[5],e[6]=r[6]-t[6],e[7]=r[7]-t[7],e[8]=r[8]-t[8],e}function jt(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e[2]=r[2]*t,e[3]=r[3]*t,e[4]=r[4]*t,e[5]=r[5]*t,e[6]=r[6]*t,e[7]=r[7]*t,e[8]=r[8]*t,e}function Zt(e,r,t,s){return e[0]=r[0]+t[0]*s,e[1]=r[1]+t[1]*s,e[2]=r[2]+t[2]*s,e[3]=r[3]+t[3]*s,e[4]=r[4]+t[4]*s,e[5]=r[5]+t[5]*s,e[6]=r[6]+t[6]*s,e[7]=r[7]+t[7]*s,e[8]=r[8]+t[8]*s,e}function Ft(e,r){return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]&&e[4]===r[4]&&e[5]===r[5]&&e[6]===r[6]&&e[7]===r[7]&&e[8]===r[8]}function Vt(e,r){const t=e[0],s=e[1],n=e[2],i=e[3],a=e[4],o=e[5],u=e[6],c=e[7],l=e[8],f=r[0],h=r[1],m=r[2],M=r[3],g=r[4],x=r[5],p=r[6],$=r[7],d=r[8],y=ne();return Math.abs(t-f)<=y*Math.max(1,Math.abs(t),Math.abs(f))&&Math.abs(s-h)<=y*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(n-m)<=y*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(i-M)<=y*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(a-g)<=y*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-x)<=y*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(u-p)<=y*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(c-$)<=y*Math.max(1,Math.abs(c),Math.abs($))&&Math.abs(l-d)<=y*Math.max(1,Math.abs(l),Math.abs(d))}function Ct(e){const r=ne(),t=e[0],s=e[1],n=e[2],i=e[3],a=e[4],o=e[5],u=e[6],c=e[7],l=e[8];return Math.abs(1-(t*t+i*i+u*u))<=r&&Math.abs(1-(s*s+a*a+c*c))<=r&&Math.abs(1-(n*n+o*o+l*l))<=r}const Yt=se,kt=Ue;Object.freeze(Object.defineProperty({__proto__:null,add:Ot,adjoint:dt,copy:$t,determinant:ee,equals:Vt,exactEquals:Ft,frob:Tt,fromMat2d:qt,fromMat4:pt,fromQuat:zt,fromRotation:Nt,fromScaling:St,fromTranslation:Rt,identity:yt,invert:Be,isOrthoNormal:Ct,mul:Yt,multiply:se,multiplyScalar:jt,multiplyScalarAndAdd:Zt,normalFromMat4:Et,normalFromMat4Legacy:_t,projection:wt,rotate:It,scale:vt,scaleByVec2:Pt,set:B,str:At,sub:kt,subtract:Ue,translate:bt,transpose:Le},Symbol.toStringTag,{value:"Module"}));function k(){return[1,0,0,0,1,0,0,0,1]}function Dt(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function Gt(e,r,t,s,n,i,a,o,u){return[e,r,t,s,n,i,a,o,u]}const Jt=k();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:Jt,clone:Dt,create:k,fromValues:Gt},Symbol.toStringTag,{value:"Module"}));const G=k();function Lt(e,r,t){const[s,n]=e,[i,a]=r,[o,u]=t;B(G,s,i,o,n,a,u,1,1,1);const c=ee(G),l=4*c/(q(e,r)+q(r,t)+q(t,e));if(!isFinite(l)||Math.abs(l)<1e-8)return null;const f=s**2+n**2,h=i**2+a**2,m=o**2+u**2;B(G,f,h,m,n,a,u,1,1,1);const M=ee(G);return B(G,f,h,m,s,i,o,1,1,1),[M/c*.5,ee(G)/c*-.5]}function He(e,r){const[t,s]=r.c,n=Lt(e,s,t),i=n==null,a=n??O([],e,t,.5),[o,u]=e,[c,l]=s,[f,h]=t,[m,M]=a,g=o-m,x=u-M,p=Math.sqrt(g*g+x*x),$=Y(u-M,o-m),d=Y(l-M,c-m);let y=Y(h-M,f-m);return(d-$)*(y-d)<0&&(y+=2*Math.sign($-y)*Math.PI),new Je(m,M,p,$,y,i)}function Os(e,r,t){const s=X(e,t/2),n=X(e,t),i=X(e,(t+1)/2);return[{c:[n,s]},{c:[[...r.c[0]],i]}]}function js(e,r){const[t]=r.c,{cx:s,cy:n,thetaStart:i,thetaEnd:a,radius:o,isInvalid:u}=He(e,r);return{a:[t,[s,n],Math.abs(a-i)<Math.PI?1:0,i>a?1:0,u?i:0,o,u?0:1]}}function Zs(e){return"curveRings"in e&&!!e.curveRings?.length||"curvePaths"in e&&!!e.curvePaths?.length}function he(e){return"b"in e}function me(e){return"c"in e}function ie(e){return Array.isArray(e)}function Fs(e){return"a"in e}function Qe(e){return"a"in e&&e.a.length===4}function Bt(e){return"a"in e&&e.a.length===7}function ue(e){return ie(e)?e:he(e)?e.b[0]:me(e)?e.c[0]:e.a[0]}function Ut(e){if(he(e)){const[r,t,s]=e.b;return{b:[[...r],[...t],[...s]]}}if(me(e)){const[r,t]=e.c;return{c:[[...r],[...t]]}}if(ie(e))return[...e];if(Qe(e)){const[r,t,s,n]=e.a;return{a:[[...r],[...t],s,n]}}if(Bt(e)){const[r,t,s,n,i,a,o]=e.a;return{a:[[...r],[...t],s,n,i,a,o]}}return e}function Ht(e,r){const[t,s,n,i]=r.a,[a,o]=e,[u,c]=t,[l,f]=s,h=a-l,m=o-f,M=Math.sqrt(h*h+m*m),g=u-l,x=c-f,p=Math.sqrt(g*g+x*x),$=M===0||p===0||!Ae(M,p),d=M,[y,b]=ke(Y(o-f,a-l),Math.atan2(c-f,u-l),n,i);return new Je(l,f,d,y,b,$)}function Vs(e,r,t){const{cx:s,cy:n,thetaStart:i,thetaEnd:a}=e,[o,u,c,l]=r.a,f=i*(1-t)+a*t;return[{a:[X(e,t),[s,n],Math.abs(f-i)<Math.PI?1:0,l]},{a:[[...o],[s,n],Math.abs(a-f)<Math.PI?1:0,l]}]}class Qt{constructor(r,t,s,n,i,a,o,u,c){this.cx=r,this.cy=t,this.a=s,this.b=n,this.cosR=i,this.sinR=a,this.u1=o,this.u2=u,this.isInvalid=c}}function Me(e,r){const[t,s,n,i,a,o,u]=r.a,[c,l]=e,[f,h]=t,[m,M]=s,g=o*u,x=Math.cos(a),p=Math.sin(a),[$,d]=ke(Y(1/g*(l-M)*x-1/g*(c-m)*p,1/o*(l-M)*p+1/o*(c-m)*x),Math.atan2(1/g*(h-M)*x-1/g*(f-m)*p,1/o*(h-M)*p+1/o*(f-m)*x),n,i);return new Qt(m,M,o,g,x,p,$,d,o===0||g===0)}function U(e,r){const{a:t,b:s,cosR:n,sinR:i,cx:a,cy:o}=e,u=Math.cos(r),c=Math.sin(r);return[t*u*n-s*c*i+a,t*u*i+s*c*n+o]}function J(e,r){const{u1:t,u2:s}=e;return U(e,t*(1-r)+s*r)}function Cs(e,r,t){if(t<0||t>1)return[];if(t===0||t===1)return[Ut(r)];const[s,[n,i],a,o,u,c,l]=r.a,{u1:f,u2:h}=e,m=f*(1-t)+h*t;return[{a:[[...J(e,t)],[n,i],Math.abs(m-f)<Math.PI?1:0,o,u,c,l]},{a:[[...s],[n,i],Math.abs(h-m)<Math.PI?1:0,o,u,c,l]}]}function Ys(e,r){const{a:t,b:s,cosR:n,sinR:i,u1:a,u2:o}=e,u=Math.PI/6,c=De(r,[1*u,2*u,4*u,5*u,7*u,8*u,10*u,11*u],g=>{const x=Math.cos(g),p=Math.sin(g),[$,d]=U(e,g);return[$,d,-t*n*p-s*i*x,-t*i*p+s*n*x,-t*n*x+s*i*p,-t*i*x-s*n*p]}),l=ae(a,o),f=new Set(c.map(g=>H(l,g)).filter(g=>g>l.min&&g<l.max));f.add(a),f.add(o);let h,m,M=1/0;for(const g of f){const x=U(e,g),[p,$]=x,d=r[0]-p,y=r[1]-$,b=d*d+y*y;b<M&&(h=(g-a)/(o-a),m=x,M=b)}return{t:h,curvePoint:m,distance:Math.sqrt(M)}}function Wt(e,r,t){const s=Me(r,t),{a:n,b:i,u1:a,u2:o,cosR:u,sinR:c,isInvalid:l}=s,f=t.a[0];if(E(e,r),E(e,f),l)return e;const h=Math.atan2(-i*c,n*u),m=h+Math.PI,M=Math.atan2(i*u,n*c),g=M+Math.PI,x=ae(a,o);for(const p of[h,m,M,g].map($=>H(x,$)))p>x.min&&p<x.max&&E(e,U(s,p));return e}function ks(e,r,t){const[s,n,i,a,o,u,c]=r.a,l=Me(e,r),{u1:f,u2:h,isInvalid:m}=l,M=h-f;if(m)return Math.sqrt(q(e,s));const g=14,x=[0,0];let p=0,$=[J(l,0),J(l,.25),J(l,.5),J(l,.75),J(l,1)];for(let d=0;d<g;d++){const y=$.length-1,b=M/(2*y),I=[];for(let v=0;v<y;v++)I.push($[v]),I.push(U(l,f+(2*v+1)*b));I.push($[$.length-1]),$=I,p=0;let P=0;for(let v=1;v<$.length;v++){const R=$[v-1],N=$[v];if(p+=Math.sqrt(q(R,N)),v>1){const w=$[v-2],S=ft(x,w,R,n,N);P+=S?Math.sqrt(q(R,S)):Math.abs(N[0]-R[0])+Math.abs(N[1]-R[1])}else P+=p}if(P-p<t)return p}return p}const Ne=k(),W=k(),Se=k(),j=k();function Ds(e,r,t){const[s,n,i,a,o,u,c]=r.a,l=Me(e,r),{cosR:f,sinR:h,a:m,b:M,cx:g,cy:x}=l,p=K([0,0],s,t),$=K([0,0],n,t),d=t[0]*t[4]<0?1-a:a;{const y=m*m*h*h+M*M*f*f,b=2*(M*M-m*m)*h*f,I=m*m*f*f+M*M*h*h,P=-2*y*g-b*x,v=-b*g-2*I*x;B(Ne,y,b/2,P/2,b/2,I,v/2,P/2,v/2,y*g*g+b*g*x+I*x*x-m*m*M*M)}if(Be(W,t),W==null){const y=K([0,0],e,t);return{a:[p,$,i,a,Y(p[1],p[0]),Math.sqrt(q(p,y))/2,0]}}Le(Se,W),se(j,se(j,Se,Ne),W);{const y=j[0],b=2*j[1],I=j[4],P=2*j[2],v=2*j[5],R=b*b-4*y*I,N=2*(y*v*v+I*P*P-b*P*v+R*j[8]),w=Math.sqrt((y-I)**2+b*b),S=-Math.sqrt(N*(y+I+w))/R,V=-Math.sqrt(N*(y+I-w))/R;return{a:[p,$,i,d,.5*Y(-b,I-y),S,V/S]}}}function Kt(e,r,t){if(ie(t))return E(e,r),E(e,t),e;if(he(t))return gt(e,r,t);if(me(t)){const s=He(r,t);return Re(e,s)}if(Qe(t)){const s=Ht(r,t);return Re(e,s)}return Wt(e,r,t)}function We(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function Ke(e){return e.points!==void 0}function Xe(e){return e.x!==void 0&&e.y!==void 0}function er(e){return e.paths!==void 0}function rr(e){return e.rings!==void 0}function tr(e){function r(t,s){return t==null?s:s==null?t:e(t,s)}return r}const Z=tr(Math.min),F=tr(Math.max);function Gs(e,r){return er(r)?L(e,r.curvePaths??r.paths,!1,!1)??e:rr(r)?L(e,r.curveRings??r.rings,!1,!1)??e:Ke(r)?ge(e,r.points,!1,!1,!1,!1):We(r)?sr(e,r):(Xe(r)&&(e[0]=r.x,e[1]=r.y,e[2]=r.x,e[3]=r.y),e)}function Js(e){let r,t,s,n;for(e.reset(),r=s=1/0,t=n=-1/0;e.nextPath();){const i=Xt(e);r=Math.min(i[0],r),s=Math.min(i[1],s),t=Math.max(i[2],t),n=Math.max(i[3],n)}return Ee([r,s,t,n])}function Xt(e){let r,t,s,n;for(r=s=1/0,t=n=-1/0;e.nextPoint();)r=Math.min(e.x,r),s=Math.min(e.y,s),t=Math.max(e.x,t),n=Math.max(e.y,n);return Ee([r,s,t,n])}function Ls(e,r){return er(r)?L(e,r.curvePaths??r.paths,!0,!1)??e:rr(r)?L(e,r.curveRings??r.rings,!0,!1)??e:Ke(r)?ge(e,r.points,!0,!1,!0,!1):We(r)?sr(e,r,!0,!1,!0,!1):(Xe(r)&&(e[0]=r.x,e[1]=r.y,e[2]=r.z,e[3]=r.x,e[4]=r.y,e[5]=r.z),e)}function L(e,r,t,s){const n=t?3:2;if(!r.length||!r[0].length)return null;let i,a,o,u,[c,l]=ue(r[0][0]),f=c,h=l;for(let m=0;m<r.length;m++){const M=r[m];for(let g=0;g<M.length;g++){const x=ue(M[g]),[p,$]=x;if(c=Z(c,p),l=Z(l,$),f=F(f,p),h=F(h,$),t&&x.length>2){const I=x[2];i=Z(i,I),a=F(a,I)}if(s&&x.length>n){const I=x[n];o=Z(i,I),u=F(a,I)}const d=M[g];if(ie(d)||g<1)continue;const y=ue(M[g-1]),b=Pr(c,l,f,h);[c,l,f,h]=Kt(b,y,d)}}return t?s?(e[0]=c,e[1]=l,e[2]=i,e[3]=o,e[4]=f,e[5]=h,e[6]=a,e[7]=u,e.length=8,e):(e[0]=c,e[1]=l,e[2]=i,e[3]=f,e[4]=h,e[5]=a,e.length=6,e):s?(e[0]=c,e[1]=l,e[2]=o,e[3]=f,e[4]=h,e[5]=u,e.length=6,e):(e[0]=c,e[1]=l,e[2]=f,e[3]=h,e.length=4,e)}function sr(e,r,t,s,n,i){const a=r.xmin,o=r.xmax,u=r.ymin,c=r.ymax;let l=r.zmin,f=r.zmax,h=r.mmin,m=r.mmax;return n?(l=l||0,f=f||0,i?(h=h||0,m=m||0,e[0]=a,e[1]=u,e[2]=l,e[3]=h,e[4]=o,e[5]=c,e[6]=f,e[7]=m,e):(e[0]=a,e[1]=u,e[2]=l,e[3]=o,e[4]=c,e[5]=f,e)):i?(h=h||0,m=m||0,e[0]=a,e[1]=u,e[2]=h,e[3]=o,e[4]=c,e[5]=m,e):(e[0]=a,e[1]=u,e[2]=o,e[3]=c,e)}function ge(e,r,t,s,n,i){const a=t?3:2,o=s&&i,u=t&&n;if(!r.length||!r[0].length)return null;let c,l,f,h,[m,M]=r[0],[g,x]=r[0];for(let p=0;p<r.length;p++){const $=r[p],[d,y]=$;if(m=Z(m,d),M=Z(M,y),g=F(g,d),x=F(x,y),u&&$.length>2){const b=$[2];c=Z(c,b),l=F(l,b)}if(o&&$.length>a){const b=$[a];f=Z(c,b),h=F(l,b)}}return n?(c=c||0,l=l||0,i?(f=f||0,h=h||0,e[0]=m,e[1]=M,e[2]=c,e[3]=f,e[4]=g,e[5]=x,e[6]=l,e[7]=h,e):(e[0]=m,e[1]=M,e[2]=c,e[3]=g,e[4]=x,e[5]=l,e)):i?(f=f||0,h=h||0,e[0]=m,e[1]=M,e[2]=f,e[3]=g,e[4]=x,e[5]=h,e):(e[0]=m,e[1]=M,e[2]=g,e[3]=x,e)}function es(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function rs(e){return e.points!==void 0}function ts(e){return e.x!==void 0&&e.y!==void 0}function ss(e){return e.paths!==void 0}function ns(e){return e.rings!==void 0}const xe=[];function nr(e,r,t,s){return{xmin:e,ymin:r,xmax:t,ymax:s}}function ar(e,r,t,s,n,i){return{xmin:e,ymin:r,zmin:t,xmax:s,ymax:n,zmax:i}}function ir(e,r,t,s,n,i){return{xmin:e,ymin:r,mmin:t,xmax:s,ymax:n,mmax:i}}function or(e,r,t,s,n,i,a,o){return{xmin:e,ymin:r,zmin:t,mmin:s,xmax:n,ymax:i,zmax:a,mmax:o}}function pe(e,r=!1,t=!1){return r?t?or(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):ar(e[0],e[1],e[2],e[3],e[4],e[5]):t?ir(e[0],e[1],e[2],e[3],e[4],e[5]):nr(e[0],e[1],e[2],e[3])}function Bs(e){return e?es(e)?e:ts(e)?is(e):ns(e)?ur(e):ss(e)?os(e):rs(e)?as(e):null:null}function as(e){const{hasZ:r,hasM:t,points:s}=e,n=ge(xe,s,r??!1,t??!1,r??!1,t??!1);return n?pe(n,r,t):null}function is(e){const{x:r,y:t,z:s,m:n}=e,i=n!=null;return s!=null?i?or(r,t,s,n,r,t,s,n):ar(r,t,s,r,t,s):i?ir(r,t,n,r,t,n):nr(r,t,r,t)}function ur(e){const{hasZ:r,hasM:t,rings:s,curveRings:n}=e,i=L(xe,n??s,r??!1,t??!1);return i?pe(i,r,t):null}function os(e){const{hasZ:r,hasM:t,paths:s,curvePaths:n}=e,i=L(xe,n??s,r??!1,t??!1);return i?pe(i,r,t):null}function qe(e,r,t=!1){let{hasM:s,hasZ:n}=e;Array.isArray(r)?r.length!==4||s||n?r.length===3&&t&&!s?(n=!0,s=!1):r.length===3&&s&&n&&(s=!1,n=!1):(s=!0,n=!0):(n=!n&&r.hasZ&&(!s||r.hasM),s=!s&&r.hasM&&(!n||r.hasZ)),e.hasZ=n,e.hasM=s}function Us(e){const r=[];for(e.reset();e.nextPath();){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);r.push(t)}return e.reset(),r}function us(e){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);return e.seekPathStart(),r}function Hs(e){if(!e)return null;if(Array.isArray(e))return e;const r=e.hasZ,t=e.hasM;if(e.type==="point")return t&&r?[e.x,e.y,e.z,e.m]:r?[e.x,e.y,e.z]:t?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.map(s=>[s]);if(e.type==="extent"){const s=e.clone().normalize();if(!s)return null;let n=!1,i=!1;return s.forEach(a=>{a.hasZ&&(n=!0),a.hasM&&(i=!0)}),s.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(n&&a.hasZ){const u=.5*(a.zmax-a.zmin);for(let c=0;c<o.length;c++)o[c].push(u)}if(i&&a.hasM){const u=.5*(a.mmax-a.mmin);for(let c=0;c<o.length;c++)o[c].push(u)}return o})}return null}function oe(e,r){const t=r[0]-e[0],s=r[1]-e[1];if(e.length>2&&r.length>2){const n=e[2]-r[2];return Math.sqrt(t*t+s*s+n*n)}return Math.sqrt(t*t+s*s)}function cr(e,r,t){const s=e[0]+t*(r[0]-e[0]),n=e[1]+t*(r[1]-e[1]);return e.length>2&&r.length>2?[s,n,e[2]+t*(r[2]-e[2])]:[s,n]}function Qs(e,r,t,s){const[n,i]=r,[a,o]=t,[u,c]=s,l=u-a,f=c-o,h=l*l+f*f,m=(n-a)*l+(i-o)*f,M=Math.min(1,Math.max(0,m/h));return e[0]=a+l*M,e[1]=o+f*M,e}function Ws(e,r,t,s,n,i){let a=t,o=s,u=n-a,c=i-o;if(u!==0||c!==0){const l=((e-a)*u+(r-o)*c)/(u*u+c*c);l>1?(a=n,o=i):l>0&&(a+=u*l,o+=c*l)}return u=e-a,c=r-o,u*u+c*c}function lr(e,r){return cr(e,r,.5)}function Ks(e){const r=e.length;let t=0;for(let s=0;s<r-1;++s)t+=oe(e[s],e[s+1]);return t}function Xs(e,r){if(r<=0)return e[0];const t=e.length;let s=0;for(let n=0;n<t-1;++n){const i=oe(e[n],e[n+1]);if(r-s<i){const a=(r-s)/i;return cr(e[n],e[n+1],a)}s+=i}return e[t-1]}function fr(e,r=0,t=1){let s=0;const n=e.length;let i=e[0];for(let a=1;a<n;a++){const o=e[a];s+=(o[r]-i[r])*(o[t]+i[t]),i=o}if(hr(e)){const a=e[0];s+=(a[r]-i[r])*(a[t]+i[t])}return s>=0}function hr(e){const r=e.length;return r>0&&!_e(e[0],e[r-1])}function en(e){"rings"in e&&(cs(e),ls(e))}function cs(e){if("rings"in e)for(const r of e.rings)hr(r)&&r.push(r[0].slice())}function ls(e){if(!("rings"in e)||e.rings.length===0||fr(e.rings[0]))return!1;for(const r of e.rings)r.reverse();return!0}function rn(e){return e.type!=="polygon"&&e.type!=="polyline"||fs(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function fs(e,r){const t=$r(r);if(!t)return;const s=t.valid[0],n=t.valid[1],i=n-s;for(const a of e){let o=1/0,u=-1/0;for(const l of a){const f=hs(l[0],s,n);o=Math.min(o,f),u=Math.max(u,f),l[0]=f}const c=u-o;i-c<c&&a.forEach(l=>{l[0]<0&&(l[0]+=i)})}}function hs(e,r,t){const s=t-r;return e<r?t-(r-e)%s:e>t?r+(e-r)%s:e}function tn(e,r){if(e===r)return!0;if(e.type!==r.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===r.points.length;const[t,s]=e.type==="polyline"?[e.paths,r.paths]:[e.rings,r.rings];return t.length===s.length&&t.every((n,i)=>n.length===s[i].length)}function sn(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function ms(e){return gs(e.rings,e.hasZ??!1)}function Ms(e){const r=ms(e);if(!r)return null;const{hasZ:t,spatialReference:s}=e,[n,i,a]=r;return isNaN(n)||isNaN(i)||t&&isNaN(a)?null:{x:n,y:i,z:t?a:void 0,spatialReference:s}}function gs(e,r){if(!e?.length)return null;const t=[],s=[],n=r?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let i=0,a=e.length;i<a;i++){const o=mr(e[i],r,n);o&&s.push(o)}if(s.sort((i,a)=>{let o=i[2]-a[2];return o===0&&r&&(o=i[4]-a[4]),o}),s.length&&(t[0]=s[0][0],t[1]=s[0][1],r&&(t[2]=s[0][3]),(t[0]<n[0]||t[0]>n[1]||t[1]<n[2]||t[1]>n[3]||r&&(t[2]<n[4]||t[2]>n[5]))&&(t.length=0)),!t.length){const i=e[0]&&e[0].length?xs(e[0],r):null;if(!i)return null;t[0]=i[0],t[1]=i[1],r&&i.length>2&&(t[2]=i[2])}return t}function mr(e,r,t){let s=0,n=0,i=0,a=0,o=0;const u=e.length?e[0][0]:0,c=e.length?e[0][1]:0,l=e.length&&r?e[0][2]:0;for(let h=0;h<e.length;h++){const m=e[h],M=e[(h+1)%e.length],[g,x,p]=m,$=g-u,d=x-c,[y,b,I]=M,P=y-u,v=b-c,R=$*v-P*d;if(a+=R,s+=($+P)*R,n+=(d+v)*R,r&&m.length>2&&M.length>2){const N=p-l,w=I-l,S=$*w-P*N;i+=(N+w)*S,o+=S}g<t[0]&&(t[0]=g),g>t[1]&&(t[1]=g),x<t[2]&&(t[2]=x),x>t[3]&&(t[3]=x),r&&(p<t[4]&&(t[4]=p),p>t[5]&&(t[5]=p))}if(a>0&&(a*=-1),o>0&&(o*=-1),!a)return null;a*=.5,o*=.5;const f=[s/(6*a)+u,n/(6*a)+c,a];return r&&(t[4]===t[5]||o===0?(f[3]=(t[4]+t[5])/2,f[4]=0):(f[3]=i/(6*o)+l,f[4]=o)),f}function nn(e,r){let t=0,s=0,n=0;e.nextPoint();const i=e.pathSize?e.x:0,a=e.pathSize?e.y:0;for(let o=0;o<e.pathSize;o++){e.seekInPath(o);const u=[e.x,e.y];e.seekInPath((o+1)%e.pathSize);const c=[e.x,e.y],[l,f]=u,h=l-i,m=f-a,[M,g]=c,x=M-i,p=g-a,$=h*p-x*m;n+=$,t+=(h+x)*$,s+=(m+p)*$,l<r[0]&&(r[0]=l),l>r[1]&&(r[1]=l),f<r[2]&&(r[2]=f),f>r[3]&&(r[3]=f)}return n>0&&(n*=-1),n?(n*=.5,[t/(6*n)+i,s/(6*n)+a,n]):null}function xs(e,r){const t=r?[0,0,0]:[0,0],s=r?[0,0,0]:[0,0];let n=0,i=0,a=0,o=0;for(let u=0,c=e.length;u<c-1;u++){const l=e[u],f=e[u+1];if(l&&f){t[0]=l[0],t[1]=l[1],s[0]=f[0],s[1]=f[1],r&&l.length>2&&f.length>2&&(t[2]=l[2],s[2]=f[2]);const h=oe(t,s);if(h){n+=h;const m=lr(l,f);i+=h*m[0],a+=h*m[1],r&&m.length>2&&(o+=h*m[2])}}}return n>0?r?[i/n,a/n,o/n]:[i/n,a/n]:e.length?e[0]:null}function ps(e){const{hasZ:r,totalSize:t}=e;if(t===0)return null;const s=[],n=[],i=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const a=mr(us(e),e.hasZ,i);a&&n.push(a)}if(n.sort((a,o)=>{let u=a[2]-o[2];return u===0&&r&&(u=a[4]-o[4]),u}),n.length&&(s[0]=n[0][0],s[1]=n[0][1],r&&(s[2]=n[0][3]),(s[0]<i[0]||s[0]>i[1]||s[1]<i[2]||s[1]>i[3]||r&&(s[2]<i[4]||s[2]>i[5]))&&(s.length=0)),!s.length){e.reset(),e.nextPath();const a=e.pathSize?$s(e):null;if(!a)return null;s[0]=a[0],s[1]=a[1],r&&a.length>2&&(s[2]=a[2])}return s}function $s(e){const{hasZ:r}=e,t=r?[0,0,0]:[0,0],s=r?[0,0,0]:[0,0];let n=0,i=0,a=0,o=0;if(e.nextPoint()){let u=e.x,c=e.y,l=e.z;for(;e.nextPoint();){const f=e.x,h=e.y,m=e.z;t[0]=u,t[1]=c,s[0]=f,s[1]=h,r&&(t[2]=l,s[2]=m);const M=oe(t,s);if(M){n+=M;const g=lr(t,s);i+=M*g[0],a+=M*g[1],r&&g.length>2&&(o+=M*g[2])}u=f,c=h,l=m}}return n>0?r?[i/n,a/n,o/n]:[i/n,a/n]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const ys=1e-6;function an(e){let r=0;for(e.reset();e.nextPath();)r+=e.getCurrentRingArea();if(r<ys){const n=ps(e);return n?[n[0],n[1]]:null}const t=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const s=[e.x,e.y];for(e.reset();e.nextPath();)bs(t,s,e);return t[0]*=1/r,t[1]*=1/r,t[0]+=s[0],t[1]+=s[1],t}const ds=1/3;function bs(e,r,t){if(!e||!t||t.pathSize<3)return null;t.nextPoint();const s=t.x,n=t.y;t.nextPoint();let i,a=t.x-s,o=t.y-n,u=0,c=0;for(;t.nextPoint();)u=t.x-s,c=t.y-n,i=.5*ds*(u*o-c*a),e[0]+=i*(a+u),e[1]+=i*(o+c),a=u,o=c;const l=t.getCurrentRingArea(),f=[s,n];return f[0]-=r[0],f[1]-=r[1],f[0]*=l,f[1]*=l,e[0]+=f[0],e[1]+=f[1],e}var re;function ze(e){return!Array.isArray(e[0])}function Is(e){return typeof e[0]?.[0]=="number"}function vs(e){if(!e)return;let{rings:r,hasM:t,hasZ:s,spatialReference:n}=e;switch(r??=[],Is(r)&&(r=[r]),r[0]?.[0]?.length){case 4:s??=!0,t??=!0;break;case 3:s??=t!==!0,t??=!s;break;default:s??=!1,t??=!1}return n??=br.WGS84,{...e,hasM:t,hasZ:s,rings:r,spatialReference:n}}let _=re=class extends yr{static fromExtent(e){const r=e.clone().normalize(),{spatialReference:t}=e;let s=!1,n=!1;for(const a of r)a.hasZ&&(s=!0),a.hasM&&(n=!0);const i={rings:r.map(a=>{const o=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(s&&a.hasZ){const u=a.zmin+.5*(a.zmax-a.zmin);for(let c=0;c<o.length;c++)o[c].push(u)}if(n&&a.hasM){const u=a.mmin+.5*(a.mmax-a.mmin);for(let c=0;c<o.length;c++)o[c].push(u)}return o}),spatialReference:t};return s&&(i.hasZ=!0),n&&(i.hasM=!0),new re(i)}constructor(e){super(vs(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){$e(ye.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const e=Ms(this);return e?C.fromJSON(e):null}writeCurveRings(e,r){r.curveRings=Q(e)}get extent(){const e=ur(this),{spatialReference:r}=this;return e?new gr({...e,spatialReference:r}):null}get isSelfIntersecting(){return $e(ye.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),xr(this.rings)}writeRings(e,r){r.rings=Q(this.rings)}addRing(e){if(!e)return;const r=this.rings,t=r.length;if(ze(e)){const s=[];for(let n=0,i=e.length;n<i;n++)s[n]=e[n].toArray();r[t]=s}else r[t]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new re;return e.spatialReference=this.spatialReference,e.rings=Q(this.rings),e.curveRings=Q(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const r=this.spatialReference,t=e.spatialReference;if(r!=null!=(t!=null)||r!=null&&t!=null&&!r.equals(t)||this.rings.length!==e.rings.length)return!1;const s=([n,i,a,o],[u,c,l,f])=>n===u&&i===c&&(a==null&&l==null||a===l)&&(o==null&&f==null||o===f);for(let n=0;n<this.rings.length;n++){const i=this.rings[n],a=e.rings[n];if(!_e(i,a,s))return!1}return!0}contains(e){if(!e)return!1;const r=dr(e,this.spatialReference);return pr(this,r??e)}isClockwise(e){const r=ze(e)?e.map(t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y]):e;return fr(r)}getPoint(e,r){if(!this._validateInputs(e,r))return null;const t=this.rings[e][r],s=this.hasZ,n=this.hasM;return s&&!n?new C(t[0],t[1],t[2],void 0,this.spatialReference):n&&!s?new C(t[0],t[1],void 0,t[2],this.spatialReference):s&&n?new C(t[0],t[1],t[2],t[3],this.spatialReference):new C(t[0],t[1],this.spatialReference)}insertPoint(e,r,t){return this._validateInputs(e,r,!0)?(qe(this,t),Array.isArray(t)||(t=t.toArray()),this.rings[e].splice(r,0,t),this.notifyChange("rings"),this):this}removePoint(e,r){if(!this._validateInputs(e,r))return null;const t=new C(this.rings[e].splice(r,1)[0],this.spatialReference);return this.notifyChange("rings"),t}removeRing(e){if(!this._validateInputs(e,null))return null;const r=this.rings.splice(e,1)[0],t=this.spatialReference,s=r.map(n=>new C(n,t));return this.notifyChange("rings"),s}setPoint(e,r,t){return this._validateInputs(e,r)?(qe(this,t),Array.isArray(t)||(t=t.toArray()),this.rings[e][r]=t,this.notifyChange("rings"),this):this}_validateInputs(e,r,t=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(r!=null){const s=this.rings[e];if(t&&(r<0||r>s.length)||!t&&(r<0||r>=s.length))return!1}return!0}toJSON(e){return this.write({},e)}};T([D({readOnly:!0})],_.prototype,"cache",null),T([D({readOnly:!0})],_.prototype,"centroid",null),T([D({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],_.prototype,"curveRings",void 0),T([de("curveRings")],_.prototype,"writeCurveRings",null),T([D({readOnly:!0})],_.prototype,"extent",null),T([D({readOnly:!0})],_.prototype,"isSelfIntersecting",null),T([D({type:[[[Number]]],json:{write:{isRequired:!0}}})],_.prototype,"rings",void 0),T([de("rings")],_.prototype,"writeRings",null),_=re=T([Mr("esri.geometry.Polygon")],_),_.prototype.toJSON.isDefaultToJSON=!0;const on=Object.freeze(Object.defineProperty({__proto__:null,get default(){return _}},Symbol.toStringTag,{value:"Module"}));export{Be as $,Ws as A,Yt as B,fr as C,Et as D,pt as E,Ar as F,ut as G,se as H,Kr as I,dt as J,B as K,Xr as L,Le as M,Us as N,Js as O,_ as P,Xt as Q,nn as R,Qs as S,Ms as T,fe as U,zt as V,vt as W,kr as X,Gr as Y,fs as Z,rn as _,k as a,Jt as a0,Qr as a1,Ls as a2,Qe as a3,He as a4,Ht as a5,X as a6,lr as a7,zs as a8,Me as a9,rt as aA,us as aB,Ks as aC,ps as aD,an as aE,_t as aF,xt as aG,_s as aH,As as aI,Ys as aJ,Es as aK,Ts as aL,q as aM,ks as aN,Ut as aO,Xs as aP,gs as aQ,Hr as aR,yt as aS,bt as aT,It as aU,Dt as aV,on as aW,J as aa,Cs as ab,Vs as ac,Os as ad,Mt as ae,Fs as af,Bt as ag,en as ah,Y as ai,Fe as aj,Br as ak,zr as al,Bs as am,ur as an,ms as ao,sn as ap,wr as aq,tt as ar,st as as,K as at,tn as au,Zr as av,Fr as aw,_r as ax,hs as ay,at as az,Oe as b,me as c,Yr as d,ne as e,Gs as f,js as g,L as h,ue as i,Jr as j,Zs as k,Cr as l,cs as m,Gt as n,Te as o,Ce as p,Ve as q,Hs as r,ie as s,he as t,Tr as u,as as v,Ds as w,qe as x,Lr as y,os as z};
