import{F as s}from"./Color-CERqXxxY-BuYn26eI.js";import{bJ as p,a2 as R,bK as $}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{s as v}from"./mathUtils-PIGhLnI9-B1tKUlUb.js";import{I as F}from"./vec42-B8VM4vXb-BnA9MysM.js";import{e as G}from"./vec4f64-DPb6J-GU-C7c2DqbZ.js";function q(n){return"r"in n&&"g"in n&&"b"in n}function w(n){return"h"in n&&"s"in n&&"v"in n}function x(n){return"l"in n&&"a"in n&&"b"in n}function k(n){return"l"in n&&"c"in n&&"h"in n}function B(n){return"x"in n&&"y"in n&&"z"in n}const C=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],E=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function y(n,r){const o=[];let e,t;if(n[0].length!==r.length)throw new Error("dimensions do not match");const u=n.length,a=n[0].length;let c=0;for(e=0;e<u;e++){for(c=0,t=0;t<a;t++)c+=n[e][t]*r[t];o.push(c)}return o}function z(n){const r=[n.r/255,n.g/255,n.b/255].map(e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4),o=y(C,r);return{x:100*o[0],y:100*o[1],z:100*o[2]}}function M(n){const r=y(E,[n.x/100,n.y/100,n.z/100]).map(o=>{const e=o<=.0031308?12.92*o:1.055*o**.4166666666666667-.055;return Math.min(1,Math.max(e,0))});return{r:Math.round(255*r[0]),g:Math.round(255*r[1]),b:Math.round(255*r[2])}}function A(n){const r=[n.x/95.047,n.y/100,n.z/108.883].map(o=>o>.008856451679035631?o**.3333333333333333:7.787037037037035*o+.13793103448275862);return{l:116*r[1]-16,a:500*(r[0]-r[1]),b:200*(r[1]-r[2])}}function I(n){const r=n.l,o=[(r+16)/116+n.a/500,(r+16)/116,(r+16)/116-n.b/200].map(e=>e>6/29?e**3:3*(6/29)**2*(e-4/29));return{x:95.047*o[0],y:100*o[1],z:108.883*o[2]}}function J(n){const r=n.l,o=n.a,e=n.b,t=Math.sqrt(o*o+e*e);let u=Math.atan2(e,o);return u=u>0?u:u+2*Math.PI,{l:r,c:t,h:u}}function K(n){const r=n.l,o=n.c,e=n.h;return{l:r,a:o*Math.cos(e),b:o*Math.sin(e)}}function P(n){return A(z(n))}function U(n){return M(I(n))}function j(n){return J(A(z(n)))}function D(n){return M(I(K(n)))}function H(n){const r=n.r,o=n.g,e=n.b,t=Math.max(r,o,e),u=t-Math.min(r,o,e);let a=t,c=u===0?0:t===r?(o-e)/u%6:t===o?(e-r)/u+2:(r-o)/u+4,i=u===0?0:u/a;return c<0&&(c+=6),c*=60,i*=100,a*=100/255,{h:c,s:i,v:a}}function L(n){const r=(n.h+360)%360/60,o=n.s/100,e=n.v/100*255,t=e*o,u=t*(1-Math.abs(r%2-1));let a;switch(Math.floor(r)){case 0:a={r:t,g:u,b:0};break;case 1:a={r:u,g:t,b:0};break;case 2:a={r:0,g:t,b:u};break;case 3:a={r:0,g:u,b:t};break;case 4:a={r:u,g:0,b:t};break;case 5:case 6:a={r:t,g:0,b:u};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+e-t),a.g=Math.round(a.g+e-t),a.b=Math.round(a.b+e-t),a}function h(n){return q(n)?n:k(n)?D(n):x(n)?U(n):B(n)?M(n):w(n)?L(n):n}function N(n){return w(n)?n:H(h(n))}function O(n){return x(n)?n:P(h(n))}function rn(n){return k(n)?n:j(h(n))}function Q(n){let{r,g:o,b:e,a:t}=n;return t<1&&(r=Math.round(t*r+255*(1-t)),o=Math.round(t*o+255*(1-t)),e=Math.round(t*e+255*(1-t))),new s({r,g:o,b:e})}function S(n,r){const{r:o,g:e,b:t}=r?.ignoreAlpha?n:Q(n);return .2126*o+.7152*e+.0722*t}function on(n,r=225){return S(n,{ignoreAlpha:!0})>r?new s([0,0,0,n.a]):new s([255,255,255,n.a])}function en(n,r){const o=O(n);o.l*=1-r;const e=h(o),t=n.clone();return t.setColor(e),t.a=n.a,t}function tn(n,r){const o=n.clone();return o.a*=r,o}function un(n,r){const o=N(n);o.s*=r;const e=h(o),t=n.clone();return t.setColor(e),t.a=n.a,t}function an(n){return s.toUnitRGBA(n)}function cn(n,r){return n===r||n!=null&&n.equals(r)}function sn(n,r){return n===r||n!=null&&r!=null&&F(n,r)}function fn(n){return G(n[0],n[1],n[2],n.length>3?n[3]:1)}function T(n){return n[0]??=0,n[1]??=0,n[2]??=0,n}function hn(n){return n.length=4,T(n),n[3]??=1,v(n[3],0,1),n}function ln(n,r){const o=s.toUnitRGBA(n);return o[3]*=r,o}function bn(n,r,o={}){if(n.length===0||r<=0)return[];if((n=n.map(e=>typeof e=="string"?new s(e):e)).length===1||r===1){const e=[],t=n[0];for(let u=0;u<r;u++)e.push(t.clone());return e}if(o.shuffle&&(n=p(R(n),o.seed)),n.length>=r){const e=[],t=(n.length-1)/(r-1);for(let u=0;u<r;u++){const a=Math.round(u*t);e.push(n[a].clone())}return e}return V(n,r,o)}function V(n,r,o={}){const e=[],t=n.length-1,u=Math.ceil((r-n.length)/t);n:for(let a=0;a<t;a++){const c=n[a],i=n[a+1];for(let f=1;f<=u;f++){const l=f/(u+1);if(e.push(W(c,i,l,o)),e.length+n.length===r)break n}}return[...n.map(a=>a.clone()),...p(e,o.seed??1)]}const g=(n,r)=>{const o=Math.floor(10*r())-5;return Math.min(255,Math.max(0,n+o))};function W(n,r,o,e={}){const t=n.r,u=n.g,a=n.b,c=r.r,i=r.g,f=r.b,l=Math.round(t+(c-t)*o),m=Math.round(u+(i-u)*o),d=Math.round(a+(f-a)*o);if(!e.offset)return new s([l,m,d]);const b=$(e.seed);return new s([g(l,b),g(m,b),g(d,b)])}export{q as G,N,O,T,ln as a,cn as b,an as c,tn as e,hn as f,h,sn as i,bn as l,on as n,en as o,rn as r,fn as s,un as u};
