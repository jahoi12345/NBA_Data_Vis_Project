import{k as c,$ as r}from"./lengthUtils-Dt1_RvOO-bleznLOi.js";async function I(l,p=l.popupTemplate){if(p==null)return[];const d=await p.getRequiredFields(l.fieldsIndex),{lastEditInfoEnabled:i}=p,{objectIdField:n,typeIdField:a,globalIdField:u,relationships:o}=l;if(d.includes("*"))return["*"];const s=i?c(l):[],e=r(l.fieldsIndex,[...d,...s]);return a&&e.push(a),e&&n&&l.fieldsIndex?.has(n)&&!e.includes(n)&&e.push(n),e&&u&&l.fieldsIndex?.has(u)&&!e.includes(u)&&e.push(u),o?.forEach(f=>{const{keyField:t}=f;e&&t&&l.fieldsIndex?.has(t)&&!e.includes(t)&&e.push(t)}),e}function m(l,p){return l&&typeof l=="object"?p?.checkPopupEnabled&&"popupEnabled"in l&&!l.popupEnabled?null:"popupTemplate"in l&&l.popupTemplate?l.popupTemplate:p!=null&&p.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in l&&l.defaultPopupTemplate?l.defaultPopupTemplate:null:null}function b(l,p){return m(l,{defaultPopupTemplateEnabled:p})!=null}export{b as I,I as h,m};
