import{i as s,bC as i}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{b as c}from"./allLayerSnapping-DASGx2Wx-Bt7bxtdA.js";import{e as f}from"./euclideanLengthMeasurementUtils-CpHh36Dt-B3Q3Npaw.js";const r=new Map;function v(e){if(!r.has(e)){const o=c(e,{distance:10}),t=u(e,o.options);r.set(e,{referenceCount:0,snappingManager:t,remove:()=>{o.remove(),t.destroy()}})}const n=r.get(e);n.referenceCount++;const a=s(()=>p(e,n));return{snappingManager:n.snappingManager,...a}}function p(e,n){n.referenceCount--,n.referenceCount>0||i(()=>{n.referenceCount===0&&(n.remove(),r.delete(e))})}function u(e,n){return new f({view:e,options:n})}export{v};
