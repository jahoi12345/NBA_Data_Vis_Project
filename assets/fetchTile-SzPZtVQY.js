import{ad as n,a6 as m,i as f}from"./jsonMap-Bs3hmeCU.js";import{m as c}from"./RefreshableLayer-dv4IJrXd.js";import{U as h}from"./ShadowCastClear.glsl-B_hkuqUp.js";async function g(t,r,s){const e=t.layer;if(h(e)){const a=await e.fetchTile(r[0],r[1],r[2],s);if(n(s))throw f.getLogger(t).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."),m();return a}let o=t.getTileUrl(r);c(e)&&e.refreshTimestamp&&(o+=`${o.includes("?")?"&":"?"}_ts=${e.refreshTimestamp}`);const i=t.hasMixedImageFormats?3:2;return s.requester.request(o,i,s)}export{g as i};
