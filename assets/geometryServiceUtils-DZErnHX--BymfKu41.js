import{aH as m,I as n}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{l as c}from"./collectionUtils-jDyktm0P-ArdXNs6F.js";import{o as p,_ as g}from"./project-C1P0PqN_-B9wpkoKv.js";import"./index-CTl7hdrJ.js";import"./Point-BfTTZoMu-BAT2Wq6O.js";import"./reactiveUtils-SO2Ko3sy-BCLX8Jdy.js";import"./Extent-CgDMOSRD-CU1qE5Kr.js";import"./Polyline-CoiTLswR-BLagWJLS.js";import"./Polygon-D6wEPb3W-CpL9Efjx.js";import"./mathUtils-PIGhLnI9-B1tKUlUb.js";import"./reader-DcGs6kKN-DHJfK-tm.js";import"./SimpleObservable-CvFyr0NA-DXpoMYph.js";import"./jsonUtils-CmpazY1u-ateEpj4Q.js";import"./utils-CylVuxNi-CqOfmBVG.js";import"./utils-Dpg4yj1D-BVnuoMV8.js";import"./aaBoundingRect-CjwcS2F3-D7aII9DY.js";async function f(e=null,i){if(m.geometryServiceUrl)return m.geometryServiceUrl;if(!e)throw new n("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");let r;r="portal"in e?e.portal||c.getDefault():e,await r.load({signal:i});const t=r.helperServices?.geometry?.url;if(!t)throw new n("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");return t}async function x(e,i,r=null,t){const a=await f(r,t),l=new p({geometries:[e],outSpatialReference:i}),o=await g(a,l,{signal:t});if(o&&Array.isArray(o)&&o.length===1)return o[0];throw new n("internal:geometry-service-projection-failed","Geometry projection failed on service")}export{f as getGeometryServiceURL,x as projectGeometry};
