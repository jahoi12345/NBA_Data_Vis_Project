import{bO as w}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{v}from"./reactiveUtils-SO2Ko3sy-BCLX8Jdy.js";const m={ar:[".",","],bg:[","," "],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],no:[","," "],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function N(n=v()){let t=(n=n.toLowerCase())in m;if(!t){const r=n.split("-");r.length>1&&r[0]in m&&(n=r[0],t=!0),t||(n="en")}const[e,l,s="#,##0.###"]=m[n];return{decimal:e,group:l,pattern:s}}function j(n,t){const e=N((t={...t}).locale);t.customs=e;const l=t.pattern||e.pattern;return isNaN(n)||Math.abs(n)===1/0?null:E(n,l,t)}const S=/[#0,]*[#0](?:\.0*#*)?/;function E(n,t,e){const l=(e=e||{}).customs.group,s=e.customs.decimal,r=t.split(";"),a=r[0];if((t=r[n<0?1:0]||"-"+a).includes("%"))n*=100;else if(t.includes("‰"))n*=1e3;else{if(t.includes("¤"))throw new Error("currency notation not supported");if(t.includes("E"))throw new Error("exponential notation not supported")}const f=S,d=a.match(f);if(!d)throw new Error("unable to find a number expression in pattern: "+t);return e.fractional===!1&&(e.places=0),t.replace(f,z(n,d[0],{decimal:s,group:l,places:e.places,round:e.round}))}function z(n,t,e){(e=e||{}).places===!0&&(e.places=0),e.places===1/0&&(e.places=6);const l=t.split("."),s=typeof e.places=="string"&&e.places.indexOf(",");let r=e.places;s?r=e.places.slice(s+1):+r>=0||(r=(l[1]||[]).length),e.round<0||(n=Number(n.toFixed(Number(r))));const a=String(Math.abs(n)).split("."),f=a[1]||"";if(l[1]||e.places){s&&(e.places=e.places.slice(0,Math.max(0,s)));const c=e.places!==void 0?e.places:l[1]&&l[1].lastIndexOf("0")+1;+c>f.length&&(a[1]=f.padEnd(Number(c),"0")),+r<f.length&&(a[1]=f.slice(0,Math.max(0,Number(r))))}else a[1]&&a.pop();const d=l[0].replace(",","");let i=d.indexOf("0");i!==-1&&(i=d.length-i,i>a[0].length&&(a[0]=a[0].padStart(i,"0")),d.includes("#")||(a[0]=a[0].slice(-i)));let p,o,u=l[0].lastIndexOf(",");if(u!==-1){p=l[0].length-u-1;const c=l[0].slice(0,u);u=c.lastIndexOf(","),u!==-1&&(o=c.length-u-1)}const x=[];for(let c=a[0];c;){const h=c.length-p;x.push(h>0?c.slice(Math.max(0,h)):c),c=h>0?c.slice(0,h):"",o&&(p=o,o=void 0)}return a[0]=x.reverse().join(e.group||","),a.join(e.decimal||".")}function O(n){const t=N((n=n||{}).locale),e=n.pattern||t.pattern,l=t.group,s=t.decimal;let r=1;if(e.includes("%"))r/=100;else if(e.includes("‰"))r/=1e3;else if(e.includes("¤"))throw new Error("currency notation not supported");const a=e.split(";");return a.length===1&&a.push("-"+a[0]),{regexp:g(a,f=>(f="(?:"+w(f,".")+")").replace(S,d=>{const i={signed:!1,separator:n.strict?l:[l,""],fractional:n.fractional,decimal:s,exponent:!1},p=d.split(".");let o=n.places;p.length===1&&r!==1&&(p[1]="###"),p.length===1||o===0?i.fractional=!1:(o===void 0&&(o=n.pattern?p[1].lastIndexOf("0")+1:1/0),o&&n.fractional==null&&(i.fractional=!0),!n.places&&+o<p[1].length&&(o+=","+p[1].length),i.places=o);const u=p[0].split(",");return u.length>1&&(i.groupSize=u.pop().length,u.length>1&&(i.groupSize2=u.pop().length)),"("+y(i)+")"}),!0).replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:l,decimal:s,factor:r}}function k(n,t){const e=O(t),l=new RegExp("^"+e.regexp+"$").exec(n);if(!l)return NaN;let s=l[1];if(!l[1]){if(!l[2])return NaN;s=l[2],e.factor*=-1}return s=s.replaceAll(new RegExp("["+e.group+"\\s\\xa0]","g"),"").replace(e.decimal,"."),Number(s)*e.factor}function y(n){"places"in(n=n||{})||(n.places=1/0),typeof n.decimal!="string"&&(n.decimal="."),"fractional"in n&&!String(n.places).startsWith("0")||(n.fractional=[!0,!1]),"exponent"in n||(n.exponent=[!0,!1]),"eSigned"in n||(n.eSigned=[!0,!1]);const t=b(n),e=g(n.fractional,s=>{let r="";return s&&n.places!==0&&(r="\\"+n.decimal,n.places===1/0?r="(?:"+r+"\\d+)?":r+="\\d{"+n.places+"}"),r},!0);let l=t+e;return e&&(l="(?:(?:"+l+")|(?:"+e+"))"),l+g(n.exponent,s=>s?"([eE]"+b({signed:n.eSigned})+")":"")}function b(n){return"signed"in(n=n||{})||(n.signed=[!0,!1]),"separator"in n?"groupSize"in n||(n.groupSize=3):n.separator="",g(n.signed,t=>t?"[-+]":"",!0)+g(n.separator,t=>{if(!t)return"(?:\\d+)";(t=w(t))===" "?t="\\s":t===" "&&(t="\\s\\xa0");const e=n.groupSize,l=n.groupSize2;if(l){const s="(?:0|[1-9]\\d{0,"+(l-1)+"}(?:["+t+"]\\d{"+l+"})*["+t+"]\\d{"+e+"})";return e-l>0?"(?:"+s+"|(?:0|[1-9]\\d{0,"+(e-1)+"}))":s}return"(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+t+"]\\d{"+e+"})*)"},!0)}const g=(n,t,e)=>{if(!Array.isArray(n))return t(n);const l=[];for(let s=0;s<n.length;s++)l.push(t(n[s]));return M(l.join("|"),!!e)},M=(n,t)=>"("+(t?"?:":"")+n+")";export{j as A,k as I,O as y};
