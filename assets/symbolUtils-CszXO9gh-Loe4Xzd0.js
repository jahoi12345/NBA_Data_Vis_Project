const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/visualVariableUtils-ma4r7Z2K-Df6C3Hkh.js","assets/Color-CERqXxxY-BuYn26eI.js","assets/jsonMap-Bs3hmeCU-Cusd0Fmz.js","assets/mathUtils-PIGhLnI9-B1tKUlUb.js","assets/Graphic-DgGzDmqW-d1CNicxz.js","assets/getPopupProvider-CmskPttI-CzUWpGwk.js","assets/collectionUtils-jDyktm0P-BDP2Oq99.js","assets/index-B0z_nLWi.js","assets/index-Cv2ko1Ob.css","assets/Point-BfTTZoMu-DeJwQYfh.js","assets/reader-DcGs6kKN-DHJfK-tm.js","assets/reactiveUtils-SO2Ko3sy-BCLX8Jdy.js","assets/Extent-CgDMOSRD-Bod5LY6s.js","assets/SimpleObservable-CvFyr0NA-DXpoMYph.js","assets/lengthUtils-Dt1_RvOO-j3MEdmHu.js","assets/date-IqUzANpt-bLKO9IDT.js","assets/Layer-DZvC7bne-D3VLDrab.js","assets/jsonUtils-CmpazY1u-6pDLj5sx.js","assets/Polyline-CoiTLswR-DTxpB2Yg.js","assets/Polygon-D6wEPb3W-D2MPjRU4.js","assets/aaBoundingRect-CjwcS2F3-ri8bmh30.js","assets/typeUtils-DqrRcjBx-DZ6_Gsbu.js","assets/createFeatureId-CVwTD0fV-3fKpJDrk.js","assets/typeUtils-CXW_VpOn-BGgLp_TK.js","assets/lineMarkers-CDwLe3J6-CNUjJvs3.js","assets/PolygonSymbol3D-BXRHZiCQ-BjPAY2LA.js","assets/ExtrudeSymbol3DLayer-DSc1ou2x-CsVYZCeG.js","assets/screenUtils-BitdhK1O-L0FLPAMi.js","assets/opacityUtils-DuFH0EC9-DWspTgn2.js","assets/aaBoundingBox-Cn49X7ge-BcYPaJ58.js","assets/DoubleArray-DExKNiTh-CvVpHySW.js","assets/mat4f64-q_b6UJoq-Dh6sWB_w.js","assets/Font-BwmnW7d2-Dwh3xjKw.js","assets/SimpleFillSymbol-CDawtd9z-CWD2KI2D.js","assets/SimpleMarkerSymbol-BGAFRS9_-CVQ5NLIA.js","assets/PictureMarkerSymbol-CaSh-vZk-xhjZ61bb.js","assets/TextSymbol-hRGhyDHs-CoS7dSjf.js"])))=>i.map(i=>d[i]);
import{H as R,_ as V}from"./index-B0z_nLWi.js";import{l as d}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import"./Point-BfTTZoMu-DeJwQYfh.js";import"./collectionUtils-jDyktm0P-BDP2Oq99.js";import"./Layer-DZvC7bne-D3VLDrab.js";import{a as x}from"./lengthUtils-Dt1_RvOO-j3MEdmHu.js";import{W as p,X as B,Y as F}from"./utils-Dha_-5-2-l1tlHmkW.js";import"./Color-CERqXxxY-BuYn26eI.js";import"./mathUtils-PIGhLnI9-B1tKUlUb.js";import"./vec42-B8VM4vXb-B6OGOEI9.js";import"./vec4f64-DPb6J-GU-C7c2DqbZ.js";import{u as P}from"./modeUtils-BA-mAwuS-DSb1K26b.js";import"./mat2df32-Dpt2CT5P-CY1Hu5g0.js";import"./mat2d-DlTglBkI-UqhpgfXI.js";import{B as U}from"./typeUtils-CXW_VpOn-BGgLp_TK.js";import"./PolygonSymbol3D-BXRHZiCQ-BjPAY2LA.js";import"./PictureMarkerSymbol-CaSh-vZk-xhjZ61bb.js";import"./SimpleFillSymbol-CDawtd9z-CWD2KI2D.js";import"./SimpleMarkerSymbol-BGAFRS9_-CVQ5NLIA.js";import"./TextSymbol-hRGhyDHs-CoS7dSjf.js";import"./defaults3D-C2hXSee1-CTj29-Ly.js";const h=(s,t=h,i=t.f||(t.f=["assets/visualVariableUtils-ma4r7Z2K.js","assets/Color-CERqXxxY.js","assets/jsonMap-Bs3hmeCU.js","assets/mathUtils-PIGhLnI9.js","assets/Graphic-DgGzDmqW.js","assets/getPopupProvider-CmskPttI.js","assets/collectionUtils-jDyktm0P.js","assets/index-BzxsWNRw.js","assets/index-Cv2ko1Ob.css","assets/Point-BfTTZoMu.js","assets/reader-DcGs6kKN.js","assets/reactiveUtils-SO2Ko3sy.js","assets/Extent-CgDMOSRD.js","assets/SimpleObservable-CvFyr0NA.js","assets/lengthUtils-Dt1_RvOO.js","assets/date-IqUzANpt.js","assets/Layer-DZvC7bne.js","assets/jsonUtils-CmpazY1u.js","assets/Polyline-CoiTLswR.js","assets/Polygon-D6wEPb3W.js","assets/aaBoundingRect-CjwcS2F3.js","assets/typeUtils-DqrRcjBx.js","assets/createFeatureId-CVwTD0fV.js","assets/typeUtils-CXW_VpOn.js","assets/lineMarkers-CDwLe3J6.js","assets/PolygonSymbol3D-BXRHZiCQ.js","assets/ExtrudeSymbol3DLayer-DSc1ou2x.js","assets/screenUtils-BitdhK1O.js","assets/opacityUtils-DuFH0EC9.js","assets/aaBoundingBox-Cn49X7ge.js","assets/DoubleArray-DExKNiTh.js","assets/mat4f64-q_b6UJoq.js","assets/Font-BwmnW7d2.js","assets/SimpleFillSymbol-CDawtd9z.js","assets/SimpleMarkerSymbol-BGAFRS9_.js","assets/PictureMarkerSymbol-CaSh-vZk.js","assets/TextSymbol-hRGhyDHs.js"]))=>s.map(r=>i[r]),b=d("android");d("chrome")||b&&b>=4;P();function f(s){return s&&s.opacity!==void 0?s.opacity*("parent"in s?f(s.parent):1):1}async function es(s,t){if(!s)return;const i=s.sourceLayer,r=(t!=null&&t.useSourceLayer?i:s.layer)??i,c=t?.ignoreOpacity?1:f(r);if(s.symbol!=null&&(t==null||t.ignoreGraphicSymbol!==!0)){const e=s.symbol.type==="web-style"?await s.symbol.fetchSymbol({...t,acceptedFormats:t?.webStyleAcceptedFormats,cache:t?.webStyleCache}):s.symbol.clone();return p(e,null,{add:c}),e}const o=t?.renderer??O(r);let a=o&&"getSymbolAsync"in o?await o.getSymbolAsync(s,t):null;if(!a)return;if(a=a.type==="web-style"?await a.fetchSymbol({...t,acceptedFormats:t?.webStyleAcceptedFormats,cache:t?.webStyleCache}):a.clone(),!(o&&"visualVariables"in o&&o.visualVariables?.length&&A(a)))return p(a,null,{add:c}),a;if("arcadeRequiredForVisualVariables"in o&&o.arcadeRequiredForVisualVariables&&t?.arcade==null){const e={...t};e.arcade=await x(),t=e}const{getColor:g,getOpacity:S,getAllSizes:w,getRotationAngle:C}=await R(()=>V(()=>import("./visualVariableUtils-ma4r7Z2K-Df6C3Hkh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36])).then(e=>e.a),h([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36])),l=[],n=[],m=[],u=[];for(const e of o.visualVariables)switch(e.type){case"color":l.push(e);break;case"opacity":n.push(e);break;case"rotation":u.push(e);break;case"size":e.target||m.push(e)}const y=!!l.length&&l[l.length-1],D=y?g(y,s,t):null,v=!!t?.ignoreOpacity,j=!!n.length&&n[n.length-1],_=j?S(j,s,t):null;if(p(a,D,v?void 0:{override:_,add:c}),m.length&&t?.ignoreSizeVariables!==!0){const e=w(m,s,t);await B(a,e)}if(t?.ignoreRotationVariables!==!0)for(const e of u)F(a,C(e,s,t),e.axis);return a}function A(s){return!U(s)||s.symbolLayers.at(0)?.type!=="water"}function O(s){if(s)return"renderer"in s?s.renderer:void 0}export{es as r};
