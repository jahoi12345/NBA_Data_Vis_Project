import{h as a,s as n}from"./jsonMap-Bs3hmeCU.js";import{M as p}from"./collectionUtils-DoXnmzlX.js";import{p as c,n as s}from"./project-BNNZrtUq.js";import"./index-JW0QcsSZ.js";import"./Point-vWR8_ZMt.js";import"./reader-DcGs6kKN.js";import"./reactiveUtils-SO2Ko3sy.js";import"./Extent-DY3BG_6i.js";import"./SimpleObservable-CvFyr0NA.js";import"./jsonUtils-qNXxymg9.js";import"./Polyline-CTW9EJXE.js";import"./Polygon-CHS6Qlya.js";import"./aaBoundingRect-aK0fPvVw.js";import"./mathUtils-PIGhLnI9.js";import"./utils-DdVX7VVR.js";import"./utils-CNv0zujq.js";async function g(r=null,i){if(a.geometryServiceUrl)return a.geometryServiceUrl;if(!r)throw new n("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");let e;e="portal"in r?r.portal||p.getDefault():r,await e.load({signal:i});const o=e.helperServices?.geometry?.url;if(!o)throw new n("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");return o}async function D(r,i,e=null,o){const m=await g(e,o),l=new c({geometries:[r],outSpatialReference:i}),t=await s(m,l,{signal:o});if(t&&Array.isArray(t)&&t.length===1)return t[0];throw new n("internal:geometry-service-projection-failed","Geometry projection failed on service")}export{g as getGeometryServiceURL,D as projectGeometry};
