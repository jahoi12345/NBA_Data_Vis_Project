import{convertToSpatialReferenceUnit as y,toLengthUnit as v}from"./unitConversion-C1kMoaUu-D70TyOlq.js";import{f as c}from"./operatorOffset-D6oDOSmb-CibPjAgE.js";import{fromGeometry as R,getSpatialReference as E,fromSpatialReference as d,toGeometry as g}from"./apiConverter-BAgvri9D-CJVft-_U.js";import{fromGeometry as h,toGeometry as S}from"./jsonConverter-DmBmaSz7-DAl7KiR-.js";import"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import"./Point-BfTTZoMu-BAT2Wq6O.js";import"./index-CTl7hdrJ.js";import"./ProjectionTransformation-PJc9H7Gq-Rbz84pUM.js";import"./Point2D-CMz7woHH-BVbGGL7p.js";import"./Envelope2D-mFnl8dXR-MYac-bfa.js";import"./Extent-CgDMOSRD-CU1qE5Kr.js";import"./Polyline-CoiTLswR-BLagWJLS.js";import"./Polygon-D6wEPb3W-CpL9Efjx.js";import"./mathUtils-PIGhLnI9-B1tKUlUb.js";import"./enum-BzLwmiID-CcyIdWlQ.js";import"./reader-DcGs6kKN-DHJfK-tm.js";import"./SimpleGeometryCursor-B92kdZ15-B1Z6elF7.js";import"./Transformation2D-CrydmBdC-D4jE8w-_.js";import"./OperatorDefinitions-DP7_WWTp-DP7_WWTp.js";import"./aaBoundingRect-CjwcS2F3-D7aII9DY.js";const u={round:0,bevel:1,miter:2,square:3};function I(r,e,n,t,i,m){e=y(v(n),r.spatialReference,e);const p=R(r),s=E(r),a=G(p,d(s),e,t,i,m);return g(a,s)}function K(r,e,n,t,i,m){e=y(v(n),r.spatialReference,e);const p=h(r),s=p.getGeometry(),a=p.getSpatialReference(),f=G(s,a,e,t,i,m);return S(f,a)}function G(r,e,n,t,i,m){const p=c(r,e,n,u[t],i,m);if(!p.isEmpty())return p;{const o=r.clone();o.reverseAllPaths();const l=c(o,e,-n,u[t],i,m);if(!l.isEmpty())return l.reverseAllPaths(),l}const s=Math.abs(n)/10,a=s/10;let f=m;if(t==="round"&&(f+=a),t==="bevel"||t==="square"){const o=c(r,e,n,u[t="miter"],i,m);if(!o.isEmpty())return o}if(t==="miter"){const o=c(r,e,n,u[t="round"],i,m);if(!o.isEmpty())return o}if(t==="round")for(;f<=s;f+=a){const o=c(r,e,n,u[t],i,f);if(!o.isEmpty())return o}return null}export{I as executeOffset,K as executeOffsetJson};
