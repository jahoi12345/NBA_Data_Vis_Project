import{y as v}from"./mathUtils-PIGhLnI9-B1tKUlUb.js";import{d as V}from"./PixelBlock-DA_u_GpM-BxdXIWpv.js";import"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import"./Point-BfTTZoMu-DeJwQYfh.js";import"./index-B0z_nLWi.js";import"./reader-DcGs6kKN-DHJfK-tm.js";function k({distance:a,yaw:i,horizontalFieldOfView:r,pitch:n,verticalFieldOfView:f,origin:o=[0,0,0],positionLength:t=25}){const p=t-1,w=t*t,g=new Float32Array(2*w),h=new Float64Array(3*w),m=new Float32Array(3*w).fill(0),s=new Uint32Array(p**2*6);for(let e=0,l=0;e<w;e++){const A=Math.floor(e/t),b=e%t,d=1-b/p,y=A/p,F=2*e,c=3*e;g[F]=d,g[F+1]=y;const x=n+f/2-y*f,M=v(i-r/2+d*r),D=v(x),L=Math.sin(D),O=Math.cos(D),u=[L*Math.sin(M),Math.cos(M)*L,-O];h[c]=o[0]+a*u[0],h[c+1]=o[1]+a*u[1],h[c+2]=o[2]+a*u[2],m[c]=-u[0],m[c+1]=-u[1],m[c+2]=-u[2],A!==p&&b!==p&&(s[l++]=e,s[l++]=e+t,s[l++]=e+t+1,s[l++]=e,s[l++]=e+t+1,s[l++]=e+1)}return{result:{position:h,uv:g,normal:m,faces:s},transferList:[h.buffer,g.buffer,m.buffer,s?.buffer]}}function z(a){const i=V.fromJSON(a);i.premultiplyAlpha=!0;const r=i.getAsRGBA(),n=i.width,f=i.height,o=new ImageData(r,n,f);return{result:o,transferList:[o.data.buffer]}}function R({oldDistance:a,newDistance:i,position:r,origin:n=[0,0,0]}){const f=r.length/3;for(let o=0;o<f;o+=3){const t=3*o;r[t]=n[0]+(r[t]-n[0])*(i/a),r[t+1]=n[1]+(r[t+1]-n[1])*(i/a),r[t+2]=n[2]+(r[t+2]-n[2])*(i/a)}return{result:r,transferList:[r.buffer]}}export{z as convertPixelBlockToImageData,k as getFacesWithVertexAttributes,R as recomputePositions};
