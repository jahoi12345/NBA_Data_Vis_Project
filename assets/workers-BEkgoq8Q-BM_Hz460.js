const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/statsWorker-Ds4NLS17-K_egMem6.js","assets/utils-CUk96PkC-CJv0qCOi.js","assets/jsonMap-Bs3hmeCU-Cusd0Fmz.js","assets/screenUtils-BitdhK1O-L0FLPAMi.js","assets/Layer-DZvC7bne-D3VLDrab.js","assets/index-B0z_nLWi.js","assets/index-Cv2ko1Ob.css","assets/Point-BfTTZoMu-DeJwQYfh.js","assets/reader-DcGs6kKN-DHJfK-tm.js","assets/reactiveUtils-SO2Ko3sy-BCLX8Jdy.js","assets/collectionUtils-jDyktm0P-BDP2Oq99.js","assets/Extent-CgDMOSRD-Bod5LY6s.js","assets/SimpleObservable-CvFyr0NA-DXpoMYph.js","assets/date-IqUzANpt-bLKO9IDT.js","assets/quantizationUtils-Ceq-Uxsu-DjgKK_0s.js","assets/Polyline-CoiTLswR-DTxpB2Yg.js","assets/Polygon-D6wEPb3W-D2MPjRU4.js","assets/aaBoundingRect-CjwcS2F3-ri8bmh30.js","assets/mathUtils-PIGhLnI9-B1tKUlUb.js","assets/lengthUtils-Dt1_RvOO-j3MEdmHu.js","assets/heatmapUtils-B-AXnq0l-BF3Q_jd2.js","assets/vec42-B8VM4vXb-B6OGOEI9.js","assets/vec4f64-DPb6J-GU-C7c2DqbZ.js","assets/utils-BbtW4lHb-D1wApKS_.js","assets/mat4f32-Djp3mnm5-DzYG3LYB.js","assets/mat4-C96X-Nn0-BrMLOLCb.js","assets/intl-DRFqUect-DPhFaHB2.js","assets/timeZoneUtils-BSc7-7qA-BAv3h8mh.js","assets/utils-BEeBypEk-DQLTC4jR.js","assets/ClassBreaksDefinition-BGOzyovZ-K0U0wKo_.js","assets/Color-CERqXxxY-BuYn26eI.js","assets/geometryEngineWorker-BkMQzpX8-7FbP5LaW.js","assets/geometryEngineJSON-B_JiqPb--bGYiWhlA.js","assets/geometryEngineBase-BQTefT4Y-m-Q4mmSQ.js","assets/_commonjsHelpers-DCkdB7M8-DwXtFsJ3.js","assets/operatorsWorker-4K_7Jgv4-CfrwlJ-r.js","assets/jsonUtils-CmpazY1u-6pDLj5sx.js","assets/CSVSourceWorker-D_c7gugh-BGRQJnnJ.js","assets/asyncUtils-w6KfWU41-HenJ0UOu.js","assets/date-DCujAECq-DJRghk8M.js","assets/projectionUtils-BGH_5_I3-DGwchVO8.js","assets/OptimizedFeature-CwRGZPwv-Ddclhn0A.js","assets/memoryEstimations-Bd726a_p-0cVCY2Jz.js","assets/FeatureStore-DSSTHScY-DmyCmhL1.js","assets/aaBoundingBox-Cn49X7ge-BcYPaJ58.js","assets/DoubleArray-DExKNiTh-CvVpHySW.js","assets/mat4f64-q_b6UJoq-Dh6sWB_w.js","assets/featureConversionUtils-BDA_FXJx-CDxX1Wik.js","assets/OptimizedFeatureSet-BR8EEvDc-CgsRgxJh.js","assets/createFeatureId-CVwTD0fV-3fKpJDrk.js","assets/BoundsStore-CBAymNAD-BDX_dT4b.js","assets/PooledRBush-Dco5QkUp-DX3CMhf3.js","assets/quickselect-QQC62dOK-Br2Ahhru.js","assets/QueryEngine-J0SYKhS8-C5yUyj6A.js","assets/normalizeUtils-85zLqeMi-C1bdAKNn.js","assets/Cyclical-BLSxUpe7-Bj8R2Yk-.js","assets/normalizeUtilsCommon-CnhQye_A-UWhaH-kt.js","assets/utils-CylVuxNi--x86XOjU.js","assets/utils-Dpg4yj1D-CeFz2JVC.js","assets/WhereClauseCache-B0L2SmwV-NVT3RoWW.js","assets/LRUCache-fy84PBMi-Y56WPIvD.js","assets/WhereClause-BSVqskBz-CT_IXPhv.js","assets/TimeOnly-BERR31kg-CQiLyUZi.js","assets/enum-BzLwmiID-CcyIdWlQ.js","assets/UnknownTimeZone-B697BDFv-CBbtul7O.js","assets/fieldType-DVUzXtk_-tUuvnZJM.js","assets/FixedIntervalBinParameters-8snYOK8a-DXffLEh-.js","assets/NormalizationBinParametersMixin-BK9wNkI3-BKYeOhDN.js","assets/QueryEngineCapabilities-DJC_YILC-CshvWf3J.js","assets/SnappingCandidate-DGkpYqI6-CfPvDre4.js","assets/FieldsIndex-CimK-TqD--24JoCkp.js","assets/Scheduler-CNrsbccs-Bcg8fWoS.js","assets/signal-BX9ezF8a-cf1Pn6io.js","assets/optimizedFeatureQueryEngineAdapter-Bma9_B5X-BMDAgToU.js","assets/number-D_FvV3D1-OQFavbmh.js","assets/locationUtils-BujNe57r-CEsJep6e.js","assets/clientSideDefaults-3DdoYkYX-n_psRtPH.js","assets/defaultsJSON-GKolV7NZ-GKolV7NZ.js","assets/EdgeProcessingWorker-ARd52qhY-BHsfUyf3.js","assets/workerHelper-gnhZ_iny-jO9IrZbp.js","assets/InterleavedLayout-B7roQAzV-CdGz7mlm.js","assets/BufferView-Cj2sQaht-avJ4OGB_.js","assets/vec32-CewSdTn3-VRto2OOh.js","assets/vec2f64-rIxtbMRN-Kai9mK1i.js","assets/types-BKo2foNY-DE0QfIFp.js","assets/enums-B4pqBiXb-BO-3hS_8.js","assets/VertexElementDescriptor-BlxU8vCE-BwuKQkTU.js","assets/bufferLayouts-f-kO2Y2_-DYZYueGx.js","assets/edgePreprocessing-D_eX-fWy-DqE-06Ss.js","assets/edgeProcessing-XRp0V_T8-Dt2LvMOy.js","assets/deduplicate-Lzwo1kX7-CSf-1ZcR.js","assets/Indices-D0_UQPPr-t1Qev6md.js","assets/ElevationSamplerWorker-BNagFaHz-DxzqVJbo.js","assets/MeshLocalVertexSpace-BGd1IdEs-C0HJG4wR.js","assets/vertexSpaceConversion-DwAXLcxI-BXQ2PRg6.js","assets/spatialReferenceEllipsoidUtils-D2JabnKt-Ce3ED0lc.js","assets/computeTranslationToOriginAndRotation-Bjd4esRf-vJ4LbdOU.js","assets/projectPointToVector-DL7Z4uvb-CPbOlZdQ.js","assets/meshVertexSpaceUtils-CtG7DPVT-kybwngCt.js","assets/vec3-B_phcnZY-DHC7I6xa.js","assets/vec4-B7mYuNMQ-ChTBJPnP.js","assets/FeatureServiceSnappingSourceWorker-UUtrKTAd-D1TZ6k-3.js","assets/UpdatingHandles-D2RI_3Hb-dwLPjVun.js","assets/TileInfo-Bz7QlefV-CdK7c8ef.js","assets/TileKey-CXWFOqOI-Lra6v-mg.js","assets/Query-BlS0WPDF-jdXS_Qhy.js","assets/typeUtils-DqrRcjBx-DZ6_Gsbu.js","assets/Field-Cm_ZejYW-CwJZmSru.js","assets/ElevationInfo-Cw2HaA6E-CuK5hJ96.js","assets/unitConversionUtils-4vB4Ezlp-DnY5MDxd.js","assets/symbologySnappingCandidates-CD-aJZDA-BxljIzwu.js","assets/uuid-Oe6SV2kF-IYX19xBA.js","assets/pbfQueryUtils-DlZBMNQk-rXCy_evW.js","assets/pbf-2SIhMekG-LK438LAR.js","assets/query-DeNEvEsQ-DfFlUyui.js","assets/queryZScale-CRP3Sh_E-F3y679Wx.js","assets/GeoJSONSourceWorker-C5l61Fpc-c81AwN47.js","assets/geojson-DW2M5qxx-Bm9TXtur.js","assets/sourceUtils-Dk-KUMub-YXw_Hwif.js","assets/LercWorker-BwjeAoIa-CtSsFVvD.js","assets/MemorySourceWorker-DCgWiV1l-B7cGtPjv.js","assets/objectIdUtils-BmFjqQA3-BO_dyxIs.js","assets/PBFDecoderWorker-BmkIsKbN-CvnSAyo1.js","assets/dehydratedFeatures-Ql-uVzLq-aoK2987s.js","assets/FeaturePipelineWorker-BSFfGycw-CcTWzN1d.js","assets/definitions-Dvg4hMIw-CdK2DzFN.js","assets/diffUtils-wTC1YzlE-DCTUTUs8.js","assets/floatRGBA-D-Q4FzNN-DQhowfyr.js","assets/labelUtils-BtizwBfq-Zegx4520.js","assets/ArcadeExpression-BlIRq-oN-VZkrwLVE.js","assets/TileKey-C44YQC4_-BW7BBbYp.js","assets/Queue-CYlrXMwB-CYJTUII-.js","assets/ReactiveMap-B0by2bYu-DCsCfMj5.js","assets/streamLayerUtils-DFlbJ4P1-DFlbJ4P1.js","assets/DictionaryScriptEvaluator-G73uSGpN-ErvAW-Hm.js","assets/Version-BtYZEj58-LyRHDnSJ.js","assets/labelPoint-4nqVL63d-CNo8Q6SD.js","assets/rasterizingUtils-CnBgARH0-BABUYc59.js","assets/CIMSymbolHelper-CD2S7jie-DyFc_b6C.js","assets/BidiEngine-BvER9tXK-EFuB0NWZ.js","assets/Font-BwmnW7d2-Dwh3xjKw.js","assets/GeometryUtils-C354xUs0-BLAznQrw.js","assets/utils-DX2muIr3-DiPfFKSl.js","assets/mat2d-DlTglBkI-UqhpgfXI.js","assets/mat2df32-Dpt2CT5P-CY1Hu5g0.js","assets/vec2f32-CaVKkSa6-BjkBmyoj.js","assets/defaults-BDN9qxeN-C-EfxQM4.js","assets/SimpleFillSymbol-CDawtd9z-CWD2KI2D.js","assets/SimpleMarkerSymbol-BGAFRS9_-CVQ5NLIA.js","assets/lineMarkers-CDwLe3J6-CNUjJvs3.js","assets/TextSymbol-hRGhyDHs-CoS7dSjf.js","assets/TurboLine-sjhG-uM1-CbIRohWX.js","assets/Rect-BAnET0xx--LefF6x-.js","assets/QueueProcessor-D8z0mMzA-GcdBlDoB.js","assets/SourceChunkStore-CfCqYuFd-CVlMaZRC.js","assets/parquet-BvPtb2Qg-CVHFozQb.js","assets/operatorGeodeticDensify-zIdepNh4-D0yemLN0.js","assets/SimpleGeometryCursor-B92kdZ15-B1Z6elF7.js","assets/geodeticCurveType-CirnHLSB-CirnHLSB.js","assets/normalizeUtilsSync-DqNvil4L-CZYUMiB7.js","assets/displayFilterUtils-CIXGrQzt-XEoxkZ3i.js","assets/ogcFeatureUtils-BtncCEPw-CjjBuoGe.js","assets/FeatureIdInfo-iL5WjyEH-DzYZU4u5.js","assets/StreamFeatureManager-DS8maxEM-BXarN2IM.js","assets/createConnection-qpkJl2Gf-DcLXwIdK.js","assets/PointCloudWorker-Bvh0wNKi-BeLZ-xKN.js","assets/quat-B7J5v7rV-CZ9akUv-.js","assets/quatf64-CCm9z-pX-CQ7_sSji.js","assets/vec3f32-WCVSSNPR-9V6Uhrx-.js","assets/PointCloudWorkerUtil-NeuLSYI--CWtGefQb.js","assets/PointCloudUniqueValueRenderer-7tgHeRs5-DZSH_eUF.js","assets/RendererLegendOptions-ByGHYLtx-Bwoo6l33.js","assets/ColorStop-De5gQTjr-C1lw16u9.js","assets/I3SBinaryReader-ZmgM2p_h-BnxBvCpV.js","assets/orientedBoundingBox-BLEx7wLU-ByGP9QG1.js","assets/plane-BNdSPG2o-DTV5z6SO.js","assets/vector-B8ZDYGQ6-DRILJdcx.js","assets/RasterWorker-BusR-bGj-Dw5Z1riU.js","assets/PixelBlock-DA_u_GpM-BxdXIWpv.js","assets/RasterSymbolizer-Dqn5Dve--BTFzDA6h.js","assets/colorUtils-CeIi7j7j-C2WVx6th.js","assets/rasterFunctionHelper-Dh1b3BL7-QrC-MxqZ.js","assets/rasterProjectionHelper-CKWxY3oy-BcPnCcni.js","assets/colorRamps-DswZzxkO-BqSFavfl.js","assets/PolynomialTransform-Q4rQG_Hj-BirPlrE3.js","assets/dataUtils-1NJ_tbX7-BVfW_Ul3.js","assets/SceneLayerSnappingSourceWorker-C5_gNcNa-CYEx7u6b.js","assets/frustum-CMzahy3--B-DC1Co-.js","assets/sphere-DLQ6p7mp-DyEe1Vll.js","assets/Octree-DckBBpQ7-CkRPu4UJ.js","assets/SceneLayerWorker-B7YoqKUk-DWCdyy9k.js","assets/I3SMeshWorkerHandle-BaFEt1Xl-BDbleven.js","assets/WorkerHandle-B930SiRy-DglEKt53.js","assets/projectVectorToVector-Csv3NYZI-DpBtmQMN.js","assets/WFSSourceWorker-CsXLUEEZ-BdU71T6A.js","assets/wfsUtils-BZfHMKCD-DEYZgCyt.js","assets/xmlUtils-CtUoQO7q-B0o58Civ.js","assets/WorkerTileHandler-BQzEC92E-DV0GIApO.js","assets/constants-D67WmGms-H7IOwEdB.js","assets/config-Dg972SSE-D9DBKeq5.js","assets/StyleRepository-DpniiW2t-RDlLcQGj.js","assets/earcut-D9gy186--DqxOpTir.js","assets/Lyr3DWorker-B5d-OJlI-Dhxp41uF.js","assets/Lyr3DModule-jg8cORhI-eadpRFLd.js","assets/Feature3DPipelineWorker-C1HCHSND-D2h40kxj.js","assets/jsonUtils-BCGKNxno-DZ1Xr_O8.js","assets/typeUtils-DDFS4uuz-B7KgP61w.js","assets/ClassBreaksRenderer-BvgdqtTq-D2fU8Sng.js","assets/commonProperties-DbO613LF-CHjBvYhj.js","assets/opacityUtils-DuFH0EC9-DWspTgn2.js","assets/visualVariableUtils-ma4r7Z2K-Df6C3Hkh.js","assets/Graphic-DgGzDmqW-d1CNicxz.js","assets/getPopupProvider-CmskPttI-CzUWpGwk.js","assets/typeUtils-CXW_VpOn-BGgLp_TK.js","assets/PolygonSymbol3D-BXRHZiCQ-BjPAY2LA.js","assets/ExtrudeSymbol3DLayer-DSc1ou2x-CsVYZCeG.js","assets/PictureMarkerSymbol-CaSh-vZk-xhjZ61bb.js","assets/jsonUtils-C9q_FK4K-GRCbm_Pe.js","assets/layerUtils-DZGhvm-W-CfyHx1TZ.js","assets/defaults3D-C2hXSee1-CTj29-Ly.js","assets/SimpleRenderer-CEmCWePp-BJ25mYcH.js","assets/UniqueValueRenderer-JPjz9Qvs-Duu1CubQ.js","assets/styleUtils-DWvicjTN-DL6_BIk4.js","assets/RealisticTree.glsl-WN9nrQUl-QZiY3aPA.js","assets/Texture-CFNZjV2R-CxGjQ8pI.js","assets/Emissions.glsl-B8XKMjLy-DXfiRNVX.js","assets/HUDIntersectorResult-1xTExS7z-dL9SFL6u.js","assets/videoUtils-Dwx3AEgj-CduhpDRk.js","assets/Intersector-DS9YtyQY-DMoYp6i0.js","assets/utils-Dint_RG--BtjrWkNL.js","assets/TextureCompressionWorker-NFcmby3i-DS4WteBh.js","assets/FlowWorker-l5ROkfo5-Cpb0kg_1.js","assets/loadUtils-DQnILyqZ-BymjZ5Cf.js","assets/FeatureTileDescriptor-n_NQwd9p-DjCngMQK.js","assets/ParquetSourceWorker-BNi5yDc2-C2UpmB2k.js","assets/parquetUtils-CmGs5KEq-CMUTnQBB.js","assets/PanoramicMeshWorker-CGCy2171-BvtkT0OK.js"])))=>i.map(i=>d[i]);
import{H as l,_ as c}from"./index-B0z_nLWi.js";import{l as i,o as W,I as N,a4 as de,S as v,a5 as he,s as E,i as pe,N as T,w as J,T as _e,v as se,d as ge,ab as me,$ as je,bC as V,aH as S}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{l as x}from"./Queue-CYlrXMwB-CYJTUII-.js";import{bn as te,bo as fe,H as ye,_ as y,an as be}from"./Point-BfTTZoMu-DeJwQYfh.js";import"./intl-DRFqUect-DPhFaHB2.js";import{v as F}from"./reactiveUtils-SO2Ko3sy-BCLX8Jdy.js";const u=(s,e=u,r=e.f||(e.f=["assets/statsWorker-Ds4NLS17.js","assets/utils-CUk96PkC.js","assets/jsonMap-Bs3hmeCU.js","assets/screenUtils-BitdhK1O.js","assets/Layer-DZvC7bne.js","assets/index-BzxsWNRw.js","assets/index-Cv2ko1Ob.css","assets/Point-BfTTZoMu.js","assets/reader-DcGs6kKN.js","assets/reactiveUtils-SO2Ko3sy.js","assets/collectionUtils-jDyktm0P.js","assets/Extent-CgDMOSRD.js","assets/SimpleObservable-CvFyr0NA.js","assets/date-IqUzANpt.js","assets/quantizationUtils-Ceq-Uxsu.js","assets/Polyline-CoiTLswR.js","assets/Polygon-D6wEPb3W.js","assets/aaBoundingRect-CjwcS2F3.js","assets/mathUtils-PIGhLnI9.js","assets/lengthUtils-Dt1_RvOO.js","assets/heatmapUtils-B-AXnq0l.js","assets/vec42-B8VM4vXb.js","assets/vec4f64-DPb6J-GU.js","assets/utils-BbtW4lHb.js","assets/mat4f32-Djp3mnm5.js","assets/mat4-C96X-Nn0.js","assets/intl-DRFqUect.js","assets/timeZoneUtils-BSc7-7qA.js","assets/utils-BEeBypEk.js","assets/ClassBreaksDefinition-BGOzyovZ.js","assets/Color-CERqXxxY.js","assets/geometryEngineWorker-BkMQzpX8.js","assets/geometryEngineJSON-B_JiqPb-.js","assets/geometryEngineBase-BQTefT4Y.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/operatorsWorker-4K_7Jgv4.js","assets/jsonUtils-CmpazY1u.js","assets/CSVSourceWorker-D_c7gugh.js","assets/asyncUtils-w6KfWU41.js","assets/date-DCujAECq.js","assets/projectionUtils-BGH_5_I3.js","assets/OptimizedFeature-CwRGZPwv.js","assets/memoryEstimations-Bd726a_p.js","assets/FeatureStore-DSSTHScY.js","assets/aaBoundingBox-Cn49X7ge.js","assets/DoubleArray-DExKNiTh.js","assets/mat4f64-q_b6UJoq.js","assets/featureConversionUtils-BDA_FXJx.js","assets/OptimizedFeatureSet-BR8EEvDc.js","assets/createFeatureId-CVwTD0fV.js","assets/BoundsStore-CBAymNAD.js","assets/PooledRBush-Dco5QkUp.js","assets/quickselect-QQC62dOK.js","assets/QueryEngine-J0SYKhS8.js","assets/normalizeUtils-85zLqeMi.js","assets/Cyclical-BLSxUpe7.js","assets/normalizeUtilsCommon-CnhQye_A.js","assets/utils-CylVuxNi.js","assets/utils-Dpg4yj1D.js","assets/WhereClauseCache-B0L2SmwV.js","assets/LRUCache-fy84PBMi.js","assets/WhereClause-BSVqskBz.js","assets/TimeOnly-BERR31kg.js","assets/enum-BzLwmiID.js","assets/UnknownTimeZone-B697BDFv.js","assets/fieldType-DVUzXtk_.js","assets/FixedIntervalBinParameters-8snYOK8a.js","assets/NormalizationBinParametersMixin-BK9wNkI3.js","assets/QueryEngineCapabilities-DJC_YILC.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FieldsIndex-CimK-TqD.js","assets/Scheduler-CNrsbccs.js","assets/signal-BX9ezF8a.js","assets/optimizedFeatureQueryEngineAdapter-Bma9_B5X.js","assets/number-D_FvV3D1.js","assets/locationUtils-BujNe57r.js","assets/clientSideDefaults-3DdoYkYX.js","assets/defaultsJSON-GKolV7NZ.js","assets/EdgeProcessingWorker-ARd52qhY.js","assets/workerHelper-gnhZ_iny.js","assets/InterleavedLayout-B7roQAzV.js","assets/BufferView-Cj2sQaht.js","assets/vec32-CewSdTn3.js","assets/vec2f64-rIxtbMRN.js","assets/types-BKo2foNY.js","assets/enums-B4pqBiXb.js","assets/VertexElementDescriptor-BlxU8vCE.js","assets/bufferLayouts-f-kO2Y2_.js","assets/edgePreprocessing-D_eX-fWy.js","assets/edgeProcessing-XRp0V_T8.js","assets/deduplicate-Lzwo1kX7.js","assets/Indices-D0_UQPPr.js","assets/ElevationSamplerWorker-BNagFaHz.js","assets/MeshLocalVertexSpace-BGd1IdEs.js","assets/vertexSpaceConversion-DwAXLcxI.js","assets/spatialReferenceEllipsoidUtils-D2JabnKt.js","assets/computeTranslationToOriginAndRotation-Bjd4esRf.js","assets/projectPointToVector-DL7Z4uvb.js","assets/meshVertexSpaceUtils-CtG7DPVT.js","assets/vec3-B_phcnZY.js","assets/vec4-B7mYuNMQ.js","assets/FeatureServiceSnappingSourceWorker-UUtrKTAd.js","assets/UpdatingHandles-D2RI_3Hb.js","assets/TileInfo-Bz7QlefV.js","assets/TileKey-CXWFOqOI.js","assets/Query-BlS0WPDF.js","assets/typeUtils-DqrRcjBx.js","assets/Field-Cm_ZejYW.js","assets/ElevationInfo-Cw2HaA6E.js","assets/unitConversionUtils-4vB4Ezlp.js","assets/symbologySnappingCandidates-CD-aJZDA.js","assets/uuid-Oe6SV2kF.js","assets/pbfQueryUtils-DlZBMNQk.js","assets/pbf-2SIhMekG.js","assets/query-DeNEvEsQ.js","assets/queryZScale-CRP3Sh_E.js","assets/GeoJSONSourceWorker-C5l61Fpc.js","assets/geojson-DW2M5qxx.js","assets/sourceUtils-Dk-KUMub.js","assets/LercWorker-BwjeAoIa.js","assets/MemorySourceWorker-DCgWiV1l.js","assets/objectIdUtils-BmFjqQA3.js","assets/PBFDecoderWorker-BmkIsKbN.js","assets/dehydratedFeatures-Ql-uVzLq.js","assets/FeaturePipelineWorker-BSFfGycw.js","assets/definitions-Dvg4hMIw.js","assets/diffUtils-wTC1YzlE.js","assets/floatRGBA-D-Q4FzNN.js","assets/labelUtils-BtizwBfq.js","assets/ArcadeExpression-BlIRq-oN.js","assets/TileKey-C44YQC4_.js","assets/Queue-CYlrXMwB.js","assets/ReactiveMap-B0by2bYu.js","assets/streamLayerUtils-DFlbJ4P1.js","assets/DictionaryScriptEvaluator-G73uSGpN.js","assets/Version-BtYZEj58.js","assets/labelPoint-4nqVL63d.js","assets/rasterizingUtils-CnBgARH0.js","assets/CIMSymbolHelper-CD2S7jie.js","assets/BidiEngine-BvER9tXK.js","assets/Font-BwmnW7d2.js","assets/GeometryUtils-C354xUs0.js","assets/utils-DX2muIr3.js","assets/mat2d-DlTglBkI.js","assets/mat2df32-Dpt2CT5P.js","assets/vec2f32-CaVKkSa6.js","assets/defaults-BDN9qxeN.js","assets/SimpleFillSymbol-CDawtd9z.js","assets/SimpleMarkerSymbol-BGAFRS9_.js","assets/lineMarkers-CDwLe3J6.js","assets/TextSymbol-hRGhyDHs.js","assets/TurboLine-sjhG-uM1.js","assets/Rect-BAnET0xx.js","assets/QueueProcessor-D8z0mMzA.js","assets/SourceChunkStore-CfCqYuFd.js","assets/parquet-BvPtb2Qg.js","assets/operatorGeodeticDensify-zIdepNh4.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-DqNvil4L.js","assets/displayFilterUtils-CIXGrQzt.js","assets/ogcFeatureUtils-BtncCEPw.js","assets/FeatureIdInfo-iL5WjyEH.js","assets/StreamFeatureManager-DS8maxEM.js","assets/createConnection-qpkJl2Gf.js","assets/PointCloudWorker-Bvh0wNKi.js","assets/quat-B7J5v7rV.js","assets/quatf64-CCm9z-pX.js","assets/vec3f32-WCVSSNPR.js","assets/PointCloudWorkerUtil-NeuLSYI-.js","assets/PointCloudUniqueValueRenderer-7tgHeRs5.js","assets/RendererLegendOptions-ByGHYLtx.js","assets/ColorStop-De5gQTjr.js","assets/I3SBinaryReader-ZmgM2p_h.js","assets/orientedBoundingBox-BLEx7wLU.js","assets/plane-BNdSPG2o.js","assets/vector-B8ZDYGQ6.js","assets/RasterWorker-BusR-bGj.js","assets/PixelBlock-DA_u_GpM.js","assets/RasterSymbolizer-Dqn5Dve-.js","assets/colorUtils-CeIi7j7j.js","assets/rasterFunctionHelper-Dh1b3BL7.js","assets/rasterProjectionHelper-CKWxY3oy.js","assets/colorRamps-DswZzxkO.js","assets/PolynomialTransform-Q4rQG_Hj.js","assets/dataUtils-1NJ_tbX7.js","assets/SceneLayerSnappingSourceWorker-C5_gNcNa.js","assets/frustum-CMzahy3-.js","assets/sphere-DLQ6p7mp.js","assets/Octree-DckBBpQ7.js","assets/SceneLayerWorker-B7YoqKUk.js","assets/I3SMeshWorkerHandle-BaFEt1Xl.js","assets/WorkerHandle-B930SiRy.js","assets/projectVectorToVector-Csv3NYZI.js","assets/WFSSourceWorker-CsXLUEEZ.js","assets/wfsUtils-BZfHMKCD.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-BQzEC92E.js","assets/constants-D67WmGms.js","assets/config-Dg972SSE.js","assets/StyleRepository-DpniiW2t.js","assets/earcut-D9gy186-.js","assets/Lyr3DWorker-B5d-OJlI.js","assets/Lyr3DModule-jg8cORhI.js","assets/Feature3DPipelineWorker-C1HCHSND.js","assets/jsonUtils-BCGKNxno.js","assets/typeUtils-DDFS4uuz.js","assets/ClassBreaksRenderer-BvgdqtTq.js","assets/commonProperties-DbO613LF.js","assets/opacityUtils-DuFH0EC9.js","assets/visualVariableUtils-ma4r7Z2K.js","assets/Graphic-DgGzDmqW.js","assets/getPopupProvider-CmskPttI.js","assets/typeUtils-CXW_VpOn.js","assets/PolygonSymbol3D-BXRHZiCQ.js","assets/ExtrudeSymbol3DLayer-DSc1ou2x.js","assets/PictureMarkerSymbol-CaSh-vZk.js","assets/jsonUtils-C9q_FK4K.js","assets/layerUtils-DZGhvm-W.js","assets/defaults3D-C2hXSee1.js","assets/SimpleRenderer-CEmCWePp.js","assets/UniqueValueRenderer-JPjz9Qvs.js","assets/styleUtils-DWvicjTN.js","assets/RealisticTree.glsl-WN9nrQUl.js","assets/Texture-CFNZjV2R.js","assets/Emissions.glsl-B8XKMjLy.js","assets/HUDIntersectorResult-1xTExS7z.js","assets/videoUtils-Dwx3AEgj.js","assets/Intersector-DS9YtyQY.js","assets/utils-Dint_RG-.js","assets/TextureCompressionWorker-NFcmby3i.js","assets/FlowWorker-l5ROkfo5.js","assets/loadUtils-DQnILyqZ.js","assets/FeatureTileDescriptor-n_NQwd9p.js","assets/ParquetSourceWorker-BNi5yDc2.js","assets/parquetUtils-CmGs5KEq.js","assets/PanoramicMeshWorker-CGCy2171.js"]))=>s.map(t=>r[t]),re="20251114",oe="ec088c999de2dac6fb9478a47da1bad775545540",ae=new FinalizationRegistry(s=>{s.close()});function ke(s,e){ae.register(s,e,e)}function ve(s){ae.unregister(s)}function ne(s,e){return new Proxy({},{get:(r,t,o)=>(...a)=>{let n,d;const h=a[a.length-1];return Ee(h)&&(n=h.signal,d=h.transferList,a.pop()),s.apply(e?`${e}.${t.toString()}`:t.toString(),a,{transferList:d,signal:n})}})}function Ee(s){return typeof s=="object"&&!Array.isArray(s)&&s!=null&&("signal"in s||"transferList"in s||Object.keys(s).length===0)}const we={statsWorker:()=>l(()=>c(()=>import("./statsWorker-Ds4NLS17-K_egMem6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30])),u([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30])),geometryEngineWorker:()=>l(()=>c(()=>import("./geometryEngineWorker-BkMQzpX8-7FbP5LaW.js"),__vite__mapDeps([31,32,33,34])),u([31,32,33,34])),arcadeGeometryOperatorsWorker:()=>l(()=>c(()=>import("./operatorsWorker-4K_7Jgv4-CfrwlJ-r.js"),__vite__mapDeps([35,5,6,36,11,2,7,8,15,16,17,18])),u([35,5,6,36,11,2,7,8,15,16,17,18])),CSVSourceWorker:()=>l(()=>c(()=>import("./CSVSourceWorker-D_c7gugh-BGRQJnnJ.js"),__vite__mapDeps([37,7,5,6,2,8,38,39,40,12,10,9,11,15,16,17,18,41,42,43,44,45,46,47,36,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,74,75,76,77])),u([37,7,2,8,5,6,38,39,40,12,10,9,11,15,16,17,18,41,42,43,44,45,46,47,36,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,74,75,76,77])),EdgeProcessingWorker:()=>l(()=>c(()=>import("./EdgeProcessingWorker-ARd52qhY-BHsfUyf3.js"),__vite__mapDeps([78,79,80,81,16,2,11,7,5,6,8,17,18,82,10,9,12,21,83,22,84,85,86,87,88,89,90,91])),u([78,79,80,81,16,2,11,7,8,5,6,17,18,82,10,9,12,21,83,22,84,85,86,87,88,89,90,91])),ElevationSamplerWorker:()=>l(()=>c(()=>import("./ElevationSamplerWorker-BNagFaHz-DxzqVJbo.js"),__vite__mapDeps([92,2,51,52,93,10,5,6,7,8,9,11,12,30,18,94,16,17,25,46,82,95,96,40,15,97,98,99,81,21,83,22,100])),u([92,2,51,52,93,10,5,6,7,8,9,11,12,30,18,94,16,17,25,46,82,95,96,40,15,97,98,99,81,21,83,22,100])),FeatureServiceSnappingSourceWorker:()=>l(()=>c(()=>import("./FeatureServiceSnappingSourceWorker-UUtrKTAd-D1TZ6k-3.js"),__vite__mapDeps([101,2,9,102,7,5,6,8,36,11,15,16,17,18,43,44,45,46,47,41,42,48,49,50,51,52,53,40,12,10,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,103,104,105,106,107,108,109,110,38,111,112,113,114,115])),u([101,2,9,102,7,8,5,6,36,11,15,16,17,18,43,44,45,46,47,41,42,48,49,50,51,52,53,40,12,10,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,103,104,105,106,107,108,109,110,38,111,112,113,114,115])),GaussianSplatSortWorker:()=>l(()=>c(()=>import("./GaussianSplatSortWorker-CkystscD-DgC479Gq.js"),[]),[]),GeoJSONSourceWorker:()=>l(()=>c(()=>import("./GeoJSONSourceWorker-C5l61Fpc-c81AwN47.js"),__vite__mapDeps([116,7,5,6,2,8,38,36,11,15,16,17,18,47,44,45,46,41,42,48,49,43,9,50,51,52,53,40,12,10,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,117,39,76,77,118])),u([116,7,2,8,5,6,38,36,11,15,16,17,18,47,44,45,46,41,42,48,49,43,9,50,51,52,53,40,12,10,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,117,39,76,77,118])),LercWorker:()=>l(()=>c(()=>import("./LercWorker-BwjeAoIa-CtSsFVvD.js"),__vite__mapDeps([119,18])),u([119,18])),MemorySourceWorker:()=>l(()=>c(()=>import("./MemorySourceWorker-DCgWiV1l-B7cGtPjv.js"),__vite__mapDeps([120,2,36,11,7,5,6,8,15,16,17,18,47,44,45,46,41,42,48,49,121,43,9,50,51,52,53,40,12,10,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,76,77,118,39])),u([120,2,36,11,7,8,5,6,15,16,17,18,47,44,45,46,41,42,48,49,121,43,9,50,51,52,53,40,12,10,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,76,77,118,39])),PBFDecoderWorker:()=>l(()=>c(()=>import("./PBFDecoderWorker-BmkIsKbN-CvnSAyo1.js"),__vite__mapDeps([122,2,7,5,6,8,40,12,10,9,11,15,16,17,18,123,42,44,45,46,14,106,107,30,65,47,36,41,48,49,112,113])),u([122,2,7,8,5,6,40,12,10,9,11,15,16,17,18,123,42,44,45,46,14,106,107,30,65,47,36,41,48,49,112,113])),FeaturePipelineWorker:()=>l(()=>c(()=>import("./FeaturePipelineWorker-BSFfGycw-CcTWzN1d.js"),__vite__mapDeps([124,5,6,2,9,3,103,7,8,104,17,18,11,125,126,10,12,127,19,13,26,128,129,62,63,64,36,15,16,70,27,130,131,132,72,133,134,135,136,41,42,137,138,139,140,141,142,143,144,145,146,147,30,148,149,150,77,85,151,83,47,44,45,46,48,49,152,153,66,40,54,55,56,57,58,67,73,53,59,60,61,65,68,14,1,4,20,21,22,23,24,25,28,29,69,71,154,155,52,105,106,107,156,157,158,159,111,160,161,117,39,76,118,114,112,113,115,162,163,164,102])),u([124,2,9,3,103,7,8,5,6,104,17,18,11,125,126,10,12,127,19,13,26,128,129,62,63,64,36,15,16,70,27,130,131,132,72,133,134,135,136,41,42,137,138,139,140,141,142,143,144,145,146,147,30,148,149,150,77,85,151,83,47,44,45,46,48,49,152,153,66,40,54,55,56,57,58,67,73,53,59,60,61,65,68,14,1,4,20,21,22,23,24,25,28,29,69,71,154,155,52,105,106,107,156,157,158,159,111,160,161,117,39,76,118,114,112,113,115,162,163,164,102])),PointCloudWorker:()=>l(()=>c(()=>import("./PointCloudWorker-Bvh0wNKi-BeLZ-xKN.js"),__vite__mapDeps([165,2,166,16,11,7,5,6,8,17,18,167,10,9,12,82,21,168,40,15,169,170,30,171,172,173,174,46,22,95,96,25,175,176,83])),u([165,2,166,16,11,7,8,5,6,17,18,167,10,9,12,82,21,168,40,15,169,170,30,171,172,173,174,46,22,95,96,25,175,176,83])),RasterWorker:()=>l(()=>c(()=>import("./RasterWorker-BusR-bGj-Dw5Z1riU.js"),__vite__mapDeps([177,11,2,7,5,6,8,40,12,10,9,15,16,17,18,178,179,34,180,30,21,22,181,36,106,182,183,107,65,184,185])),u([177,11,2,7,8,5,6,40,12,10,9,15,16,17,18,178,179,34,180,30,21,22,181,36,106,182,183,107,65,184,185])),SceneLayerSnappingSourceWorker:()=>l(()=>c(()=>import("./SceneLayerSnappingSourceWorker-C5_gNcNa-CYEx7u6b.js"),__vite__mapDeps([186,2,82,10,5,6,7,8,9,11,12,16,17,18,187,188,25,22,176,46,167,83,21,175,189,81,89,90,91,80,84,85,86,87,88])),u([186,2,82,10,5,6,7,8,9,11,12,16,17,18,187,188,25,22,176,46,167,83,21,175,189,81,89,90,91,80,84,85,86,87,88])),SceneLayerWorker:()=>l(()=>c(()=>import("./SceneLayerWorker-B7YoqKUk-DWCdyy9k.js"),__vite__mapDeps([190,5,6,18,7,2,8,45,46,93,10,9,11,12,30,99,191,192,40,15,16,17,193,97,26,13,131])),u([190,5,6,18,7,2,8,45,46,93,10,9,11,12,30,99,191,192,40,15,16,17,193,97,131,26,13])),WFSSourceWorker:()=>l(()=>c(()=>import("./WFSSourceWorker-CsXLUEEZ-BdU71T6A.js"),__vite__mapDeps([194,38,2,18,7,5,6,8,47,44,11,17,45,46,36,15,16,41,42,48,49,43,9,50,51,52,53,40,12,10,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,117,39,118,195,106,196,107])),u([194,38,2,18,7,8,5,6,47,44,11,17,45,46,36,15,16,41,42,48,49,43,9,50,51,52,53,40,12,10,54,55,56,57,58,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,73,117,39,118,195,106,196,107])),WorkerTileHandler:()=>l(()=>c(()=>import("./WorkerTileHandler-BQzEC92E-DV0GIApO.js"),__vite__mapDeps([197,2,141,16,11,7,5,6,8,17,18,198,152,199,113,42,151,125,200,85,86,30,180,21,22,201,139])),u([197,2,141,16,11,7,8,5,6,17,18,198,152,199,113,42,151,125,200,85,86,30,180,21,22,201,139])),Lyr3DWorker:()=>l(()=>c(()=>import("./Lyr3DWorker-B5d-OJlI-Dhxp41uF.js"),__vite__mapDeps([202,203,5,6,7,2,8])),u([202,203,5,6,7,2,8])),Feature3DPipelineWorker:()=>l(()=>c(()=>import("./Feature3DPipelineWorker-C1HCHSND-D2h40kxj.js"),__vite__mapDeps([204,2,9,11,7,5,6,8,40,12,10,15,16,17,18,53,44,45,46,36,54,55,56,57,58,47,41,42,48,49,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,105,106,107,205,206,207,208,183,172,209,210,211,212,213,149,214,215,140,147,148,216,150,217,218,219,146,77,171,134,135,129,142,220,221,126,222,223,83,82,81,224,91,188,176,167,187,175,225,85,174,166,95,96,80,84,86,97,193,226,227,98,93,168,228,38,132,229,51,52,114,112,113,115])),u([204,2,9,11,7,8,5,6,40,12,10,15,16,17,18,53,44,45,46,36,54,55,56,57,58,47,41,42,48,49,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,72,105,106,107,205,206,207,208,183,172,209,210,211,212,213,149,214,215,140,147,148,216,150,217,218,219,146,77,171,134,135,129,142,220,221,126,222,223,83,82,81,224,91,188,176,167,187,175,225,85,174,166,95,96,80,84,86,97,193,226,227,98,93,168,228,38,132,229,51,52,114,112,113,115])),TextureCompressionWorker:()=>l(()=>c(()=>import("./TextureCompressionWorker-NFcmby3i-DS4WteBh.js"),__vite__mapDeps([230,5,6,7,2,8,85])),u([230,5,6,7,2,8,85])),FlowWorker:()=>l(()=>c(()=>import("./FlowWorker-l5ROkfo5-Cpb0kg_1.js"),__vite__mapDeps([231,2,185,18,11,7,5,6,8,232,17,233,55])),u([231,2,185,18,11,7,8,5,6,232,17,233,55])),ParquetSourceWorker:()=>l(()=>c(()=>import("./ParquetSourceWorker-BNi5yDc2-C2UpmB2k.js"),__vite__mapDeps([234,2,10,5,6,7,8,9,11,12,153,131,132,72,44,17,18,45,46,53,40,15,16,36,54,55,56,57,58,47,41,42,48,49,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,76,77,107,235,75,155,154,136,52,83,125])),u([234,2,10,5,6,7,8,9,11,12,153,131,132,72,44,17,18,45,46,53,40,15,16,36,54,55,56,57,58,47,41,42,48,49,59,60,61,62,63,64,13,19,65,66,30,67,68,14,1,3,4,20,21,22,23,24,25,26,27,28,29,69,70,71,76,77,107,235,75,155,154,136,52,83,125])),PanoramicMeshWorker:()=>l(()=>c(()=>import("./PanoramicMeshWorker-CGCy2171-BvtkT0OK.js"),__vite__mapDeps([236,18,178,2,7,5,6,8])),u([236,18,178,2,7,8,5,6]))},ie="worker:port-closed",j={HANDSHAKE:0,OPEN:1,OPENED:2,RESPONSE:3,INVOKE:4,ABORT:5,CLOSE:6,OPEN_PORT:7,ON:8};let Pe=0;function le(){return Pe++}function Se(s){return s&&typeof s=="object"&&("result"in s||"transferList"in s)}function R(s){return s?typeof s=="string"?JSON.stringify({name:"message",message:s}):s.toJSON?JSON.stringify(s):JSON.stringify({name:s.name,message:s.message,details:s.details||{stack:s.stack}}):null}function ce(s,e,r,t){if(e.type===j.OPEN_PORT)return void s.postMessage(e,[e.port]);if(e.type!==j.INVOKE&&e.type!==j.RESPONSE)return void s.postMessage(e);let o;Se(r)?(o=H(r.transferList),e.data=r.result):(o=H(t),e.data=r),o?s.postMessage(e,o):s.postMessage(e)}function w(s){if(!s)return null;const e=s.data;return e?typeof e=="string"?JSON.parse(e):e:null}function H(s){if(!s?.length)return null;if(i("esri-workers-arraybuffer-transfer"))return s;const e=s.filter(r=>!Ce(r));return e.length?e:null}function Ce(s){return s instanceof ArrayBuffer||s?.constructor?.name==="ArrayBuffer"}async function Ge(s){try{return await s}catch(e){const r=e?.name===ie;if(!(J(e)||r))throw e;return}}const{CLOSE:C,ABORT:A,INVOKE:Q,RESPONSE:b,OPEN_PORT:z,ON:G}=j,De=2;class Ie{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===A?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class m{static{this.kernelInfo={buildDate:re,fullVersion:te,revision:oe}}static{this.clients=new Map}static connect(e,r){const t=new MessageChannel;let o;o=typeof e=="function"?new e:"default"in e&&typeof e.default=="function"?new e.default:e;const a=new m(t.port1,{channel:t,client:o,schedule:r});return typeof o=="object"&&"remoteClient"in o&&(o.remoteClient=a),m.clients.set(a,o),t.port2}static loadWorker(e){const r=we[e];return r?r():Promise.resolve(null)}constructor(e,r,t,o){this._port=e,this._jobQueue=t,this._lowPriorityJobQueue=o,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Ie(a=>this._onInvokeMessage(a)),this._client=r.client,this._onMessage=this._onMessage.bind(this),this._channel=r.channel,this._schedule=r.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:C}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,r,t){return this.apply(e,[r],t)}apply(e,r,t){const o=t?.signal,a=t?.transferList;if(!this._port)return Promise.reject(new N(ie,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:r}));const n=le();return new Promise((d,h)=>{if(de(o))return this._processWork(),void h(v());const _=he(o,()=>{const g=this._outJobs.get(n);g&&(this._outJobs.delete(n),this._processWork(),E(g.abortHandle),this._post({type:A,jobId:n}),h(v()))}),p={resolve:d,reject:h,abortHandle:_,debugInfo:e};this._outJobs.set(n,p),this._post({type:Q,jobId:n,methodName:e,abortable:o!=null},r,a)})}createInvokeProxy(e){return ne(this,e)}on(e,r){const t=new MessageChannel;function o(a){r(a.data)}return this._port.postMessage({type:G,eventType:e,port:t.port2},[t.port2]),t.port1.addEventListener("message",o),t.port1.start(),pe(()=>{t.port1.postMessage({type:C}),t.port1.close(),t.port1.removeEventListener("message",o)})}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:z,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=De)return;const e=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!e)return;const{methodName:r,data:t,invokeOptions:o,resolver:a}=e;this.apply(r,t,o).then(n=>a.resolve(n)).catch(n=>a.reject(n))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{E(e.abortHandle),e.reject(v(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null,this._onMessage=null,this._channel=null,this._jobQueue=void 0,this._invokeQueue=void 0,this._lowPriorityJobQueue=void 0}_onMessage(e){this._schedule!=null?this._schedule(()=>this._processMessage(e,!0)):this._processMessage(e,!1)}_processMessage(e,r){const t=w(e);if(t)switch(t.type){case b:this._onResponseMessage(t);break;case Q:r?this._onInvokeMessage(t):this._invokeQueue.push(t);break;case A:this._onAbortMessage(t);break;case C:this._onCloseMessage();break;case z:this._onOpenPortMessage(t);break;case G:this._onOnMessage(t)}}_onAbortMessage(e){const r=this._inJobs,t=e.jobId,o=r.get(t);this._invokeQueue.push(e),o&&(o.controller&&o.controller.abort(),r.delete(t))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&m.clients.get(this)===e&&e.destroy(),m.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:r,jobId:t,data:o=[],abortable:a}=e,n=a?new AbortController:null,d=this._inJobs;let h,_=this._client,p=_[r];try{if(!p&&r&&r.includes(".")){const g=r.split(".");for(let P=0;P<g.length-1;P++)_=_[g[P]],p=_[g[P+1]]}if(typeof p!="function")throw new TypeError(`${r} is not a function`);o.push({client:this,signal:n?n.signal:null}),h=p.apply(_,o)}catch(g){return void this._post({type:b,jobId:t,error:R(g)})}T(h)?(d.set(t,{controller:n,promise:h}),h.then(g=>{d.has(t)&&(d.delete(t),this._post({type:b,jobId:t},g))},g=>{d.has(t)&&(d.delete(t),J(g)||this._post({type:b,jobId:t,error:R(g||{message:`Error encountered at method ${r}`})}))})):this._post({type:b,jobId:t},h)}_onOpenPortMessage(e){new m(e.port,{client:this._client})}_onOnMessage(e){const{port:r}=e,t=this._client.on(e.eventType,a=>{r.postMessage(a)}),o=_e(e.port,"message",a=>{w(a)?.type===C&&(o.remove(),t.remove(),r.close())})}_onResponseMessage(e){const{jobId:r,error:t,data:o}=e,a=this._outJobs;if(!a.has(r))return;const n=a.get(r);a.delete(r),this._processWork(),E(n.abortHandle),t?n.reject(N.fromJSON(JSON.parse(t))):n.resolve(o)}_post(e,r,t){return ce(this._port,e,r,t)}}let Oe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new x,this._ongoingLowPriorityJobsQueue=new x}destroy(){this.close()}get closed(){return!this._clients?.length}open(s,e){return new Promise((r,t)=>{let o=!0;const a=n=>{W(e.signal),o&&(o=!1,n())};this._clients.length=s.length,this._clientPromises.length=s.length,this._inUseClients.length=s.length;for(let n=0;n<s.length;++n){const d=s[n];T(d)?this._clientPromises[n]=d.then(h=>(this._clients[n]=new m(h,e,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),a(r),this._clients[n]),()=>(a(t),null)):(this._clients[n]=new m(d,e,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[n]=Promise.resolve(this._clients[n]),a(r))}})}broadcast(s,e,r){const t=new Array(this._clientPromises.length);for(let o=0;o<this._clientPromises.length;++o){const a=this._clientPromises[o];t[o]=a.then(n=>n?.invoke(s,e,r))}return t}close(){let s;for(;s=this._ongoingJobsQueue.pop();)s.resolver.reject(v(`Worker closing, aborting job calling '${s.methodName}'`));for(;s=this._ongoingLowPriorityJobsQueue.pop();)s.resolver.reject(v(`Worker closing, aborting job calling '${s.methodName}'`));for(const e of this._clientPromises)e.then(r=>r?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,ve(this)}invoke(s,e,r){return this.apply(s,[e],r)}apply(s,e,r){const t=me();(r?.priority==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:s,data:e,invokeOptions:r,resolver:t});for(let o=0;o<this._clientPromises.length;o++){const a=this._clients[o];a?a.jobAdded():this._clientPromises[o].then(n=>n?.jobAdded())}return t.promise}createInvokeProxy(s){return ne(this,s)}on(s,e){return Promise.all(this._clientPromises).then(()=>je(this._clients.map(r=>r.on(s,e))))}openPorts(){return new Promise(s=>{const e=new Array(this._clientPromises.length);let r=e.length;for(let t=0;t<this._clientPromises.length;++t)this._clientPromises[t].then(o=>{o&&(e[t]=o.openPort()),--r===0&&s(e)})})}get test(){}};const Be={async request(s,e){const r=s.options,t=r.responseType;r.signal=e?.signal,r.responseType=t==="native"||t==="native-request-init"?"native-request-init":t&&["blob","json","text"].includes(t)&&fe(s.url)?.after?t:"array-buffer";const o=await ye(s.url,r),a={data:o.data,httpStatus:o.httpStatus,ssl:o.ssl};switch(o.requestOptions?.responseType){case"native-request-init":return delete a.data.signal,a;case"blob":a.data=await a.data.arrayBuffer();break;case"json":a.data=new TextEncoder().encode(JSON.stringify(a.data)).buffer;break;case"text":a.data=new TextEncoder().encode(a.data).buffer}return{result:a,transferList:[a.data]}}},K={};function Le(s){const e={async:s.async,isDebug:s.isDebug,locale:s.locale,baseUrl:s.baseUrl,has:{...s.has},map:{...s.map},packages:s.packages?.slice()||[],paths:{...K.paths,...s.paths}};return s.hasOwnProperty("async")||(e.async=!0),s.hasOwnProperty("isDebug")||(e.isDebug=!1),s.baseUrl||(e.baseUrl=K.baseUrl),e}class Me{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(r=>{this[r]=(...t)=>e[r](...t)})}}let L=class{constructor(){this._dispatcher=new Me,this._workerPostMessage({type:j.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(s){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=s,s&&this.addEventListener("message",s)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(s){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=s,s&&this.addEventListener("messageerror",s)}get onerror(){return this._onerrorHandler}set onerror(s){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=s,s&&this.addEventListener("error",s)}postMessage(s){V(()=>{this._workerMessageHandler(new MessageEvent("message",{data:s}))})}dispatchEvent(s){return this._dispatcher.dispatchEvent(s)}addEventListener(s,e,r){this._dispatcher.addEventListener(s,e,r)}removeEventListener(s,e,r){this._dispatcher.removeEventListener(s,e,r)}_workerPostMessage(s){V(()=>{this.dispatchEvent(new MessageEvent("message",{data:s}))})}async _workerMessageHandler(s){const e=w(s);if(e&&e.type===j.OPEN){const{modulePath:r,jobId:t}=e;let o=await m.loadWorker(r);o||(o=await import(r));const a=m.connect(o);this._workerPostMessage({type:j.OPENED,jobId:t,data:a})}}};const U=()=>se.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:Ne}=j,Re='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}).finally(()=>{t&&t.removeEventListener("abort",s)})}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://esriurl.com/using-local-assets.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||new Promise(e=>{require([o.modulePath],e)})).then(t)}):"System"in self&&"function"==typeof System.import?System.import(workerPath).then(e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath))).then(e=>e||System.import(o.modulePath)).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||import(o.modulePath)).then(t)}):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let D,I;const X="Failed to create Worker. Fallback to execute module in main thread";async function We(){if(!i("esri-workers"))return Y(new L);if(!D&&!I)try{const e=Re.split("{CONFIGURATION}").join(Ae());D=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){I=e||{}}let s;if(D)try{s=new Worker(D,{name:"esri-worker-"+Ue++})}catch{U().warn(X,I),s=new L}else U().warn(X,I),s=new L;return Y(s)}async function Y(s){return new Promise(e=>{function r(o){const a=w(o);a&&a.type===Ne&&(s.removeEventListener("message",r),s.removeEventListener("error",t),e(s))}function t(o){o.preventDefault(),s.removeEventListener("message",r),s.removeEventListener("error",t),U().warn("Failed to create Worker. Fallback to execute module in main thread",o),(s=new L).addEventListener("message",r),s.addEventListener("error",t)}s.addEventListener("message",r),s.addEventListener("error",t)})}function Ae(){let s;if(S.default!=null){const t={...S};delete t.default,s=JSON.parse(JSON.stringify(t))}else s=JSON.parse(JSON.stringify(S));s.assetsPath=y(s.assetsPath),s.defaultAssetsPath=s.defaultAssetsPath?y(s.defaultAssetsPath):void 0,s.request.interceptors=[],s.log.interceptors=[],s.locale=F(),s.has={"esri-csp-restrictions":i("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":i("esri-2d-update-debug"),"esri-2d-log-updating":i("esri-2d-log-updating"),"featurelayer-pbf":i("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":i("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":i("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":i("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":i("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":i("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":i("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":i("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":i("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":i("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":i("featurelayer-snapshot-enabled"),"parquetlayer-full-query-feature-count":i("parquetlayer-full-query-feature-count"),"esri-atomics":i("esri-atomics"),"esri-shared-array-buffer":i("esri-shared-array-buffer"),"esri-tiles-debug":i("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":i("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":i("feature-polyline-generalization-factor"),"host-webworker":1},s.workers.loaderUrl&&(s.workers.loaderUrl=y(s.workers.loaderUrl)),s.workers.workerPath?s.workers.workerPath=y(s.workers.workerPath):s.workers.workerPath=y(be("esri/core/workers/RemoteClient.js")),s.workers.useDynamicImport=!1;const e=S.workers.loaderConfig,r=Le({baseUrl:e?.baseUrl,locale:F(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...e?.has},map:{...e?.map},paths:{...e?.paths},packages:e?.packages||[]});return JSON.stringify({esriConfig:s,loaderConfig:r,kernelInfo:{buildDate:re,fullVersion:te,revision:oe}})}let Ue=0;const{ABORT:Z,INVOKE:Te,OPEN:Je,OPENED:qe,RESPONSE:k}=j;class q{static async create(e){const r=await We();return new q(r,e)}constructor(e,r){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=r,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",t=>{t.preventDefault(),se.getLogger("esri.core.workers.WorkerOwner").error(t)})}terminate(){this.worker.terminate()}async open(e,r={}){const{signal:t}=r,o=le();return new Promise((a,n)=>{const d={resolve:a,reject:n,abortHandle:ge(t,()=>{this._outJobs.delete(o),this._post({type:Z,jobId:o})})};this._outJobs.set(o,d),this._post({type:Je,jobId:o,modulePath:e})})}_onMessage(e){const r=w(e);if(r)switch(r.type){case qe:this._onOpenedMessage(r);break;case k:this._onResponseMessage(r);break;case Z:this._onAbortMessage(r);break;case Te:this._onInvokeMessage(r)}}_onAbortMessage(e){const r=this._inJobs,t=e.jobId,o=r.get(t);o&&(o.controller&&o.controller.abort(),r.delete(t))}_onInvokeMessage(e){const{methodName:r,jobId:t,data:o,abortable:a}=e,n=a?new AbortController:null,d=this._inJobs,h=Be[r];let _;try{if(typeof h!="function")throw new TypeError(`${r} is not a function`);_=h.call(null,o,{signal:n?n.signal:null})}catch(p){return void this._post({type:k,jobId:t,error:R(p)})}T(_)?(d.set(t,{controller:n,promise:_}),_.then(p=>{d.has(t)&&(d.delete(t),this._post({type:k,jobId:t},p))},p=>{d.has(t)&&(d.delete(t),p||(p={message:"Error encountered at method"+r}),J(p)||this._post({type:k,jobId:t,error:R(p||{message:`Error encountered at method ${r}`})}))})):this._post({type:k,jobId:t},_)}_onOpenedMessage(e){const{jobId:r,data:t}=e,o=this._outJobs.get(r);o&&(this._outJobs.delete(r),E(o.abortHandle),o.resolve(t))}_onResponseMessage(e){const{jobId:r,error:t,data:o}=e,a=this._outJobs.get(r);a&&(this._outJobs.delete(r),E(a.abortHandle),t?a.reject(N.fromJSON(JSON.parse(t))):a.resolve(o))}_post(e,r,t){return ce(this.worker,e,r,t)}}const $=i("host-browser")?Math.min(navigator.hardwareConcurrency-1,i("workers-pool-size")??8):0;let f=i("esri-mobile")?Math.min($,3):$;f||(f=i("safari")&&i("mac")?7:2);let ee=0;const M=[];function Ke(){ue()}async function O(s,e){const r=new Oe,{registryTarget:t,...o}=e;return await r.open(s,o),t&&ke(t,r),r}async function Xe(s,e={}){if(typeof s!="string")throw new N("workers:undefined-module","modulePath is missing");let r=e.strategy||"distributed";if(i("host-webworker")&&!i("esri-workers")&&(r="local"),r==="local"){let t=await m.loadWorker(s);t||(t=await import(s)),W(e.signal);const o=e.client||t;return O([m.connect(t,e.schedule)],{...e,client:o})}if(await ue(),W(e.signal),r==="dedicated"){const t=ee++%f;return O([await M[t].open(s,e)],e)}if(e.maxNumWorkers&&e.maxNumWorkers>0){const t=Math.min(e.maxNumWorkers,f);if(t<f){const o=new Array(t);for(let a=0;a<t;++a){const n=ee++%f;o[a]=M[n].open(s,e)}return O(o,e)}}return O(M.map(t=>t.open(s,e)),e)}let B=null;async function ue(){if(B)return B;new AbortController;const s=[];for(let e=0;e<f;e++){const r=q.create(e).then(t=>(M[e]=t,t));s.push(r)}return B=Promise.all(s),B}export{Ge as F,Xe as G,Oe as M,m as _,Ke as z};
