import{k as y,l as w,m as j,r as k,n as d,o as $,p as O,q as _,W as P,s as E}from"./modeUtils-BA-mAwuS-UrytRxLw.js";const N=t=>(...n)=>{const o=w(),s=new t(...n),e=s.exports;y(o.at(-1));const r=s.component.manager;r.W(s,e),s.watchExports(r.W.bind(r,s)),j(s);const a=[s.component,...o].reverse();return k(a,c=>c===void 0?void 0:U(s,c,e),e)},U=(t,{host:n,key:o,isReactive:s},e)=>{const r=n,a=r[o]!==t.exports,c=r[o]!==e,i=e!==t.exports;if(a&&!c&&i&&(r[o]=t.exports),n===t.component){if(s){const h=t.component.manager;c&&h.W(t,r[o]),t.onUpdate(p=>{if(p.has(o)){const u=r[o];u!==t.exports&&h.W(t,u)}})}t.O=s?void 0:o}const l=t.component.constructor.elementProperties.get(o)?.readOnly;t.watchExports(()=>{r[o]!==t.exports&&(l?$(()=>{r[o]=t.exports}):r[o]=t.exports)})},W="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),z=new Set(W),g="en",C={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},S=async(t,n,o="")=>{const s=`${n}/${o}`,e=`${s}${t}.json`;return m[e]??(m[e]=b(t,s)),await m[e]},m={},b=async(t,n)=>{const o=`${n}${t}.json`;try{const s=await fetch(o);if(s.ok)return await s.json()}catch(s){return console.error(s),{}}return t===g?{}:await b(g,n)},f=t=>{const n=P(t,"lang",globalThis.navigator?.language||g);return{lang:n,t9nLocale:x(n)}},x=t=>{const[n,o]=t.split("-"),s=n.toLowerCase();let e=s;return o&&(e=`${s}-${o.toUpperCase()}`),e=C[e]??e,z.has(e)?e:o?x(s):g},q=(t,n,o,s)=>{let e;const r=()=>T(t,n(),s).then(a=>{(e?.lang!==a.lang||e.t9nLocale!==a.t9nLocale||e.t9nStrings!==a.t9nStrings)&&o(a),e=a}).catch(console.error);return queueMicrotask(r),E(t,["lang"],r)},T=async(t,n,o=t.localName.split("-").slice(1).join("-"))=>{const{lang:s,t9nLocale:e}=f(t),r=`${n}/${o}/t9n`,a=o===null?{}:await S(e,r,"messages.");return{lang:s,t9nLocale:e,t9nStrings:a}},M=t=>v(void 0,t),D=t=>n=>v(n,t);class A extends d{constructor(n,o){super(n);const s=this.exports;try{O(this.component);const e=o(this.component,this),r=this.exports!==s;if(_(e)){r||this.setProvisionalExports(e);const a=e.then(c=>{this.exports=c,super.catchUpLifecycle()}).catch(c=>{this.P.reject(c),console.error(c)});this.onLoad(async()=>await a)}else(!r||e!==void 0)&&(this.exports=e),queueMicrotask(()=>super.catchUpLifecycle())}catch(e){this.P.reject(e),console.error(e)}}catchUpLifecycle(){}}const v=N(A),F=(t,n)=>new V(t,n);class V extends d{#t;#e;#s;constructor(n,o){super(),this.#e=n,this.#s=o,this.#t=new MutationObserver(s=>{s.forEach(e=>{n.includes(e.attributeName)&&o.call(this.component,this.component.el.getAttribute(e.attributeName),e.oldValue,e.attributeName)})})}hostConnected(){this.#e.forEach(n=>{this.component.el.hasAttribute(n)&&this.#s.call(this.component,null,this.component.el.getAttribute(n),n)}),this.#t.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#e})}hostDisconnected(){this.#t.disconnect()}}const K=t=>(n={})=>M((o,s)=>{const e=f(o.el),r={_lang:e.lang,_t9nLocale:e.t9nLocale,_loading:!0},a=o;s.onLifecycle(()=>q(o.el,()=>t("./assets"),({t9nLocale:i,t9nStrings:l,lang:h})=>{const p={...l,_lang:h,_t9nLocale:i,_loading:!1};s.exports=p;const u=l.componentLabel;typeof u=="string"&&"label"in o&&o.label==null&&(o.label??=u),c(a.messageOverrides)},n.name));const c=i=>{const l=s.exports,h=l._original??l,p=L(h,i);i&&(p._original=h),s.exports=p};return"messageOverrides"in a&&s.onUpdate(i=>{i.has("messageOverrides")&&c(a.messageOverrides)}),n.blocking?(s.setProvisionalExports(r,!1),s.ready):r}),L=(t,n)=>{if(!n)return t;const o={...t};return Object.entries(n).forEach(([s,e])=>{typeof e=="object"?o[s]=L(t[s],e):o[s]=e??t[s]}),o};export{F as D,K as G,D as K};
