const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/portalLayers-DH3n_HtD.js","assets/jsonMap-Bs3hmeCU.js","assets/associatedFeatureServiceUtils-DKtIY4dD.js","assets/Point-Byf20bUE.js","assets/reader-DcGs6kKN.js","assets/index-DqD_sEjA.js","assets/index-BWTVr3y1.css","assets/collectionUtils-oMUPqMMC.js","assets/reactiveUtils-SO2Ko3sy.js","assets/Extent-KC9qx-Cg.js","assets/SimpleObservable-CvFyr0NA.js","assets/PortalItem-BBxBVCCK.js","assets/fetchService-D73amIF3.js","assets/layerUtils-CVHRa_-F.js","assets/loadUtils-DuqM4fkx.js","assets/lazyLayerLoader-D0tbEq13.js","assets/portalItemUtils-CxBaSR8q.js","assets/projectionUtils-Ca1qXe4h.js","assets/Polyline-DWJWvQfr.js","assets/Polygon-BuPlovwL.js","assets/aaBoundingRect-C2DMsiYR.js","assets/mathUtils-PIGhLnI9.js","assets/date-IqUzANpt.js","assets/arcgisLayers-CLeNCuvn.js"])))=>i.map(i=>d[i]);
import{_ as E}from"./index-DqD_sEjA.js";import{_ as n,a as m,h as L,i as A,v as P,m as a,r as w,g as U,s as g}from"./jsonMap-Bs3hmeCU.js";import{f as h,I as V,H as B}from"./Point-Byf20bUE.js";import{n as J}from"./reactiveUtils-SO2Ko3sy.js";import{g as q}from"./collectionUtils-oMUPqMMC.js";import{z as I}from"./Extent-KC9qx-Cg.js";import{e as c,I as S,O as _,D as $}from"./date-IqUzANpt.js";import{o as b}from"./reader-DcGs6kKN.js";let O=0;const x=t=>{const e=t;let r=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+O++})}};return r=n([m("esri.core.Identifiable")],r),r},X=t=>{const e=t;let r=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:O++})}};return r=n([m("esri.core.Identifiable.NumericIdentifiable")],r),r},Y=x(class{});async function z(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:r}=await E(async()=>{const{fromItem:i}=await import("./portalLayers-DH3n_HtD.js");return{fromItem:i}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]));try{return await r(e)}catch(i){const s=e?.portalItem,l=s?.id||"unset",u=s?.portal?.url||L.portalUrl;throw A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+l+"')",i),i}}const v={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function y(t,e,r,i=c){const s=new S(_(i)),l=$.fromJSDate(t,{zone:s}),u=r==="decades"||r==="centuries"?"year":N(r);return r==="decades"&&(e*=10),r==="centuries"&&(e*=100),l.plus({[u]:e}).toJSDate()}function tt(t,e,r="milliseconds"){const i=t.getTime(),s=M(e,r,"milliseconds");return new Date(i+s)}function T(t,e,r=c){const i=new S(_(r)),s=$.fromJSDate(t,{zone:i});if(e==="decades"||e==="centuries"){const u=s.startOf("year"),{year:f}=u,j=f-f%(e==="decades"?10:100);return u.set({year:j}).toJSDate()}const l=N(e);return s.startOf(l).toJSDate()}function M(t,e,r){return t===0?0:t*v[e]/v[r]}function et(t,e){return t&&e?t.intersection(e):t||e}function N(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var p;let d=class extends P{static{p=this}static get allTime(){return D}static get empty(){return R}static fromArray(t){return new p({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return e.end!=null?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(p.allTime)}get isEmpty(){return this.equals(p.empty)}readStart(t,e){return e.start!=null?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new p({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,i=t.start?.getTime()??t.start,s=t.end?.getTime()??t.end;return e===i&&r===s}expandTo(t,e=c){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=T(r,t,e));let i=this.end;if(i){const s=T(i,t,e);i=i.getTime()===s.getTime()?s:y(s,1,t,e)}return new p({start:r,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return p.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,i=t.start?.getTime()??-1/0,s=t.end?.getTime()??1/0;let l,u;return i>=e&&i<=r?l=i:e>=i&&e<=s&&(l=e),r>=i&&r<=s?u=r:s>=e&&s<=r&&(u=s),l==null||u==null||isNaN(l)||isNaN(u)?p.empty:new p({start:l===-1/0?null:new Date(l),end:u===1/0?null:new Date(u)})}offset(t,e,r=c){if(this.isEmpty||this.isAllTime)return this.clone();const i=new p,{start:s,end:l}=this;return s!=null&&(i.start=y(s,t,e,r)),l!=null&&(i.end=y(l,t,e,r)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return D.clone();const e=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new p({start:e,end:r})}};n([a({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),n([b("end")],d.prototype,"readEnd",null),n([w("end")],d.prototype,"writeEnd",null),n([a({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),n([a({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),n([a({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),n([b("start")],d.prototype,"readStart",null),n([w("start")],d.prototype,"writeStart",null),d=p=n([m("esri.time.TimeExtent")],d);const D=new d,R=new d({start:void 0,end:void 0});let k=0,o=class extends J(x(q)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new I(-180,-90,180,90,h.WGS84),this.id=Date.now().toString(16)+"-layer-"+k++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=h.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e=typeof t=="string"?{url:t}:t;return(await E(async()=>{const{fromUrl:r}=await import("./arcgisLayers-CLeNCuvn.js");return{fromUrl:r}},__vite__mapDeps([23,5,6,1,3,4,2,7,8,9,10,11,12,13,15,22]))).fromUrl(e)}static fromPortalItem(t){return z(t)}initialize(){this.when().catch(t=>{U(t)||A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const{parent:t}=this;t&&(this.parent=null,t.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:t}=this;t&&(t.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return V(this.url)}createLayerView(t,e){return Promise.reject(new g("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await B(t,{query:{f:"json"},responseType:"json"})).data;throw new g("layer:no-attribution-data","Layer does not have attribution data")}};n([a({type:String})],o.prototype,"attributionDataUrl",void 0),n([a({readOnly:!0})],o.prototype,"effectiveVisible",null),n([a({type:I})],o.prototype,"fullExtent",void 0),n([a({readOnly:!0})],o.prototype,"hasAttributionData",null),n([a({type:String,clonable:!1})],o.prototype,"id",void 0),n([a({type:Boolean,nonNullable:!0})],o.prototype,"legendEnabled",void 0),n([a({type:["show","hide","hide-children"]})],o.prototype,"listMode",void 0),n([a({type:Number,range:{min:0,max:1},nonNullable:!0})],o.prototype,"opacity",void 0),n([a({clonable:!1})],o.prototype,"parent",void 0),n([a({readOnly:!0})],o.prototype,"parsedUrl",null),n([a({type:Boolean,readOnly:!0})],o.prototype,"persistenceEnabled",void 0),n([a({type:Boolean})],o.prototype,"popupEnabled",void 0),n([a({type:Boolean})],o.prototype,"attributionVisible",void 0),n([a({type:h})],o.prototype,"spatialReference",void 0),n([a({type:String})],o.prototype,"title",void 0),n([a({readOnly:!0,json:{read:!1}})],o.prototype,"type",void 0),n([a()],o.prototype,"url",void 0),n([a({type:d})],o.prototype,"visibilityTimeExtent",void 0),n([a({type:Boolean,nonNullable:!0})],o.prototype,"visible",void 0),o=n([m("esri.layers.Layer")],o);export{M as a,o as b,X as c,tt as d,et as g,Y as i,d as m,y as o,v as r,x as s};
