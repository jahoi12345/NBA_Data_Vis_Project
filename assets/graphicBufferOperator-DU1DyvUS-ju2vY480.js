import{e as x}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{at as f}from"./Point-BfTTZoMu-BAT2Wq6O.js";import{i as d,s as y}from"./SimpleGeometryCursor-B92kdZ15-B1Z6elF7.js";import{P as G}from"./Point2D-CMz7woHH-BVbGGL7p.js";import{g}from"./ProjectionTransformation-PJc9H7Gq-Rbz84pUM.js";import{Envelope2D as b}from"./Envelope2D-mFnl8dXR-MYac-bfa.js";import{Z as v}from"./Bufferer-Dw9Qi4T1-Dx8eR7k--KrFjoyNY.js";import{fromGeometries as w,getSpatialReference as D,toGeometry as C}from"./jsonConverter-DmBmaSz7-DAl7KiR-.js";import"./index-CTl7hdrJ.js";import"./reader-DcGs6kKN-DHJfK-tm.js";import"./Transformation2D-CrydmBdC-D4jE8w-_.js";import"./OperatorDefinitions-DP7_WWTp-DP7_WWTp.js";import"./GeometryCleaner-BEJM7I4l-kZcPR3K6-DPa7d3U0.js";import"./OperatorSimplifyOGC-CoZlXG8G-6SPzQ_r2.js";import"./OperatorGeneralize-q4wLBHit-CWiERfzl.js";let I=class{getOperatorType(){return 10111}supportsCurves(){return!0}accelerateGeometry(i,e,t){return!1}canAccelerateGeometry(i){return!1}executeMany(i,e,t,m,n,o,r,a,u,s,c){if(u){const p=new h(i,e,t,m,n,o,r,a,c);return new g().executeMany(p,e,c,2)}return new h(i,e,t,m,n,o,r,a,c)}};class h extends y{constructor(e,t,m,n,o,r,a,u,s){super(),this.m_currentUnionEnvelope2D=new b,this.m_index=-1,this.m_dindex=-1,this.m_progressTracker=s,this.m_bufferer=new v(s),this.m_inputGeoms=e,this.m_spatialReference=t,this.m_distances=m,this.m_maxDeviation=a,this.m_maxVerticesInFullCircle=u,this.m_joins=n,this.m_caps=o,this.m_miterLimit=r}tock(){return!0}getRank(){return 1}next(){{let e;for(;e=this.m_inputGeoms.next();)return G(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.m_dindex+1<this.m_distances.length&&this.m_dindex++,this.buffer(e,this.m_distances[this.m_dindex]);return null}}getGeometryID(){return this.m_index}buffer(e,t){return this.m_bufferer.buffer(e,t,this.m_spatialReference,this.m_joins,this.m_caps,this.m_miterLimit,this.m_maxDeviation,this.m_maxVerticesInFullCircle)}}const M=new I;function R(i,e,t,m,n,o,r,a,u){const s=M.executeMany(new d(i),e,t,m,n,o,r,a,u,0,null);return Array.from(s)}const F={round:0,miter:1,bevel:2},j={round:0,butt:1,square:2};function $(i,e,t,m,n={}){let{miterLimit:o=10,maxDeviation:r=NaN,maxVerticesInFullCircle:a=96,union:u=!1,unit:s}=n;const[c,p]=w(i);if(s){const l=D(i);l&&(e=e.map(_=>f(_,s,l)),r&&(r=f(r,s,l)))}return R(c,p,e,F[t],j[m],o,r,a,u).map(l=>C(l,p)).filter(x)}export{$ as executeMany};
