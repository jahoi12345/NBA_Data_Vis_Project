import{u as l}from"./enum-BzLwmiID-CcyIdWlQ.js";import{F as f}from"./TimeOnly-BERR31kg-PKcKegNB.js";import{G as d,K as w,$ as o,a as m,u}from"./Dictionary-B4WY1XGX-DTk60YkO.js";import{I as p,T as S}from"./SpatialFilter-BsNcxI05-CBNYqS8Q.js";import{i as s}from"./operatorsWorkerConnection-DB7Gw949-DvB32nbb.js";import"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import"./UnknownTimeZone-B697BDFv-CBbtul7O.js";import"./date-IqUzANpt-bLKO9IDT.js";import"./reactiveUtils-SO2Ko3sy-BCLX8Jdy.js";import"./Extent-CgDMOSRD-CU1qE5Kr.js";import"./Point-BfTTZoMu-BAT2Wq6O.js";import"./index-CTl7hdrJ.js";import"./Field-Cm_ZejYW-CwJZmSru.js";import"./Color-CERqXxxY-BuYn26eI.js";import"./mathUtils-PIGhLnI9-B1tKUlUb.js";import"./fieldType-DVUzXtk_-tUuvnZJM.js";import"./Polyline-CoiTLswR-BLagWJLS.js";import"./Polygon-D6wEPb3W-CpL9Efjx.js";import"./lengthUtils-Dt1_RvOO-bleznLOi.js";import"./Feature-BVRwBUzm-DHfbEf0J.js";import"./aaBoundingBox-Cn49X7ge-DORLZxoS.js";import"./mat4f64-q_b6UJoq-Dh6sWB_w.js";import"./WhereClause-BSVqskBz-DANRwfyr.js";import"./workers-BEkgoq8Q-BNWfkyQs.js";import"./intl-DRFqUect-ClAS7BRt.js";import"./ImmutableArray-BPVd6ESQ-BGk4ZTNG.js";import"./shared-yd-CR64C-r_XSstFM.js";import"./number-D_FvV3D1-OQFavbmh.js";import"./jsonUtils-CmpazY1u-ateEpj4Q.js";import"./FieldsIndex-CimK-TqD-CrSnohIk.js";import"./timeZoneUtils-BSc7-7qA-BAv3h8mh.js";import"./reader-DcGs6kKN-DHJfK-tm.js";import"./aaBoundingRect-CjwcS2F3-D7aII9DY.js";import"./featureConversionUtils-BDA_FXJx-CUwkrHf5.js";import"./OptimizedFeature-CwRGZPwv-Ddclhn0A.js";import"./memoryEstimations-Bd726a_p-0cVCY2Jz.js";import"./OptimizedFeatureSet-BR8EEvDc-CgsRgxJh.js";import"./createFeatureId-CVwTD0fV-3fKpJDrk.js";import"./DoubleArray-DExKNiTh-CvVpHySW.js";import"./Queue-CYlrXMwB-CYJTUII-.js";import"./SimpleObservable-CvFyr0NA-DXpoMYph.js";function a(i){return async(n,r,t)=>{if(w(t,2,2,n,r),(t=d(t))[0]===null&&t[1]===null)return!1;if(u(t[0])){if(o(t[1]))return new S({parentfeatureset:t[0],relation:i,relationGeom:t[1]});if(t[1]===null)return new p({parentfeatureset:t[0]});throw new l(n,"InvalidParameter",r)}if(o(t[0])){if(o(t[1])){switch(i){case"esriSpatialRelEnvelopeIntersects":{const c=f(t[0]),e=f(t[1]);return c!=null&&e!=null&&s("intersects",[c.toJSON(),e.toJSON()])}case"esriSpatialRelIntersects":return s("intersects",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelContains":return s("contains",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelOverlaps":return s("overlaps",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelWithin":return s("within",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelTouches":return s("touches",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelCrosses":return s("crosses",[t[0].toJSON(),t[1].toJSON()])}throw new l(n,"InvalidParameter",r)}if(u(t[1]))return new S({parentfeatureset:t[1],relation:i,relationGeom:t[0]});if(t[1]===null)return!1;throw new l(n,"InvalidParameter",r)}if(t[0]===null){if(u(t[1]))return new p({parentfeatureset:t[1]});if(o(t[1])||t[1]===null)return!1}throw new l(n,"InvalidParameter",r)}}function it(i){i.mode==="async"&&(i.functions.intersects=function(n,r){return i.standardFunctionAsync(n,r,a("esriSpatialRelIntersects"))},i.functions.envelopeintersects=function(n,r){return i.standardFunctionAsync(n,r,a("esriSpatialRelEnvelopeIntersects"))},i.signatures.push({name:"envelopeintersects",min:2,max:2}),i.functions.contains=function(n,r){return i.standardFunctionAsync(n,r,a("esriSpatialRelContains"))},i.functions.overlaps=function(n,r){return i.standardFunctionAsync(n,r,a("esriSpatialRelOverlaps"))},i.functions.within=function(n,r){return i.standardFunctionAsync(n,r,a("esriSpatialRelWithin"))},i.functions.touches=function(n,r){return i.standardFunctionAsync(n,r,a("esriSpatialRelTouches"))},i.functions.crosses=function(n,r){return i.standardFunctionAsync(n,r,a("esriSpatialRelCrosses"))},i.functions.relate=function(n,r){return i.standardFunctionAsync(n,r,async(t,c,e)=>{if(e=d(e),w(e,3,3,n,r),o(e[0])&&o(e[1]))return s("relate",[e[0].toJSON(),e[1].toJSON(),m(e[2])]);if(o(e[0])&&e[1]===null||o(e[1])&&e[0]===null)return!1;if(u(e[0])&&e[1]===null)return new p({parentfeatureset:e[0]});if(u(e[1])&&e[0]===null)return new p({parentfeatureset:e[1]});if(u(e[0])&&o(e[1]))return e[0].relate(e[1],m(e[2]));if(u(e[1])&&o(e[0]))return e[1].relate(e[0],m(e[2]));if(e[0]===null&&e[1]===null)return!1;throw new l(n,"InvalidParameter",r)})})}export{it as registerFunctions};
