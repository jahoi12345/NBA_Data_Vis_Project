import{L as s,M as o,H as i}from"./Point-BfTTZoMu-BAT2Wq6O.js";import{C as n}from"./asyncUtils-w6KfWU41-HenJ0UOu.js";import{o as u,I as l,J as c}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";class _{constructor(r){this._streamDataRequester=r}async loadJSON(r,e){return this._load(0,r,e)}async loadBinary(r,e){return o(r)?(u(e),s(r)):this._load(1,r,e)}async loadImage(r,e){return this._load(2,r,e)}async _load(r,e,t){if(this._streamDataRequester==null)return(await i(e,{responseType:d[r]})).data;const a=await n(this._streamDataRequester.request(e,r,t));if(a.ok===!0)return a.value;throw c(a.error),new l("glt-loader-request-error",`Request for resource failed: ${a.error}`)}}const d={2:"image",1:"array-buffer",0:"json",3:void 0};export{_ as y};
