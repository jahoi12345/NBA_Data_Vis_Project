import{a as c,H as s}from"./Point-BfTTZoMu-DeJwQYfh.js";import"./collectionUtils-jDyktm0P-BDP2Oq99.js";import"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import"./Layer-DZvC7bne-D3VLDrab.js";const l=Symbol("BasemapInstance");function y(e){return e!=null&&typeof e=="object"&&l in e}function f(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function L(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="graphics"}function S(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="map-image"}function E(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph"&&"layers"in e}function x(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="knowledge-graph-sublayer"}function C(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function k(e){return e?.type==="subtype-sublayer"}function I(e){const t=e?.type;return t==="base-tile"||t==="tile"||t==="elevation"||t==="imagery-tile"||t==="base-elevation"||t==="open-street-map"||t==="wcs"||t==="web-tile"||t==="wmts"||t==="vector-tile"}function M(e){return e!=null&&"type"in e&&e.type==="group"}const $={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function B(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function P(e){return e.type==="integrated-mesh"||e.type==="integrated-mesh-3dtiles"}function U(e){return e?.type==="voxel"}function O(e){return e?.type==="imagery-tile"}function i(e,t){return y(e?.parent)&&e.parent[t].includes(e)}function q(e){return i(e,"baseLayers")}function D(e){return i(e,"referenceLayers")}function F(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function H(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}function p(e){return e?.type==="feature"&&e.source?.type==="feature-layer"}function N(e){return f(e)&&p(e)}function T(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const n=e.activeLayer.tileMatrixSets;if(n)return n}return null}async function V(e,t){const n=c?.findServerInfo(e);if(n?.currentVersion!=null)return n.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const u=`${e.slice(0,r)}/rest/info`,a=t!=null?t.signal:null,{data:o}=await s(u,{query:{f:"json"},responseType:"json",signal:a});return o?.owningSystemUrl||null}function g(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function A(e){return g(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function b(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function G(e){return!!b(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function J(e){return(e.type==="imagery"||e.type==="imagery-tile")&&e.renderer?.type==="flow"}function d(e,t){return null}function K(e){return null}function m(e){return!e||e.type==="Feature Service"&&!e.sourceUrl}function Q(e,t){!t||!m(e)||d(e.url)}export{P as $,T as A,$ as B,x as C,q as D,C as E,V as F,A as G,D as H,I,G as J,J as K,L,M,K as N,U as O,O as P,Q,S,F as T,B as U,H as V,d,f,g,k,l,m,N as q,E as x,y};
