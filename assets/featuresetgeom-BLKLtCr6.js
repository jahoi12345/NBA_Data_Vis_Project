import{n as l}from"./enum-BzLwmiID.js";import{n as S}from"./TimeOnly-Du0ClqSA.js";import{J as w,o as J,U as o,g as f,B as u}from"./Dictionary-hE24dHJa.js";import{s as c,a as d}from"./SpatialFilter-BRKbQepy.js";import{a as s}from"./operatorsWorkerConnection-3uaRudMU.js";import"./jsonMap-Bs3hmeCU.js";import"./UnknownTimeZone-B697BDFv.js";import"./date-IqUzANpt.js";import"./reactiveUtils-SO2Ko3sy.js";import"./Extent-Bbnm65bN.js";import"./Point-BN8RINcc.js";import"./reader-DcGs6kKN.js";import"./index-C-2WWcaK.js";import"./ImmutableArray-BPVd6ESQ.js";import"./shared-CcvWoc0W.js";import"./Field-Cm_ZejYW.js";import"./Color-CERqXxxY.js";import"./mathUtils-PIGhLnI9.js";import"./fieldType-DVUzXtk_.js";import"./number-D_FvV3D1.js";import"./Polyline-BtUG5wiC.js";import"./Polygon-BdLNJfwi.js";import"./aaBoundingRect-CrU5VtR_.js";import"./jsonUtils-UGNxUp3z.js";import"./lengthUtils-Ceo6858g.js";import"./Feature-pxcCplku.js";import"./featureConversionUtils-yVOZE0te.js";import"./aaBoundingBox-CtkshuSS.js";import"./DoubleArray-DExKNiTh.js";import"./mat4f64-q_b6UJoq.js";import"./OptimizedFeature-CwRGZPwv.js";import"./memoryEstimations-Bd726a_p.js";import"./OptimizedFeatureSet-BR8EEvDc.js";import"./createFeatureId-CVwTD0fV.js";import"./FieldsIndex-B72TFK42.js";import"./timeZoneUtils-BSc7-7qA.js";import"./WhereClause-BCLJDkvF.js";import"./workers-D8pWeOqp.js";import"./Queue-CYlrXMwB.js";import"./SimpleObservable-CvFyr0NA.js";import"./intl-BvIZ3ldN.js";function a(i){return async(e,n,t)=>{if(J(t,2,2,e,n),(t=w(t))[0]===null&&t[1]===null)return!1;if(u(t[0])){if(o(t[1]))return new d({parentfeatureset:t[0],relation:i,relationGeom:t[1]});if(t[1]===null)return new c({parentfeatureset:t[0]});throw new l(e,"InvalidParameter",n)}if(o(t[0])){if(o(t[1])){switch(i){case"esriSpatialRelEnvelopeIntersects":{const m=S(t[0]),r=S(t[1]);return m!=null&&r!=null&&s("intersects",[m.toJSON(),r.toJSON()])}case"esriSpatialRelIntersects":return s("intersects",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelContains":return s("contains",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelOverlaps":return s("overlaps",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelWithin":return s("within",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelTouches":return s("touches",[t[0].toJSON(),t[1].toJSON()]);case"esriSpatialRelCrosses":return s("crosses",[t[0].toJSON(),t[1].toJSON()])}throw new l(e,"InvalidParameter",n)}if(u(t[1]))return new d({parentfeatureset:t[1],relation:i,relationGeom:t[0]});if(t[1]===null)return!1;throw new l(e,"InvalidParameter",n)}if(t[0]===null){if(u(t[1]))return new c({parentfeatureset:t[1]});if(o(t[1])||t[1]===null)return!1}throw new l(e,"InvalidParameter",n)}}function it(i){i.mode==="async"&&(i.functions.intersects=function(e,n){return i.standardFunctionAsync(e,n,a("esriSpatialRelIntersects"))},i.functions.envelopeintersects=function(e,n){return i.standardFunctionAsync(e,n,a("esriSpatialRelEnvelopeIntersects"))},i.signatures.push({name:"envelopeintersects",min:2,max:2}),i.functions.contains=function(e,n){return i.standardFunctionAsync(e,n,a("esriSpatialRelContains"))},i.functions.overlaps=function(e,n){return i.standardFunctionAsync(e,n,a("esriSpatialRelOverlaps"))},i.functions.within=function(e,n){return i.standardFunctionAsync(e,n,a("esriSpatialRelWithin"))},i.functions.touches=function(e,n){return i.standardFunctionAsync(e,n,a("esriSpatialRelTouches"))},i.functions.crosses=function(e,n){return i.standardFunctionAsync(e,n,a("esriSpatialRelCrosses"))},i.functions.relate=function(e,n){return i.standardFunctionAsync(e,n,async(t,m,r)=>{if(r=w(r),J(r,3,3,e,n),o(r[0])&&o(r[1]))return s("relate",[r[0].toJSON(),r[1].toJSON(),f(r[2])]);if(o(r[0])&&r[1]===null||o(r[1])&&r[0]===null)return!1;if(u(r[0])&&r[1]===null)return new c({parentfeatureset:r[0]});if(u(r[1])&&r[0]===null)return new c({parentfeatureset:r[1]});if(u(r[0])&&o(r[1]))return r[0].relate(r[1],f(r[2]));if(u(r[1])&&o(r[0]))return r[1].relate(r[0],f(r[2]));if(r[0]===null&&r[1]===null)return!1;throw new l(e,"InvalidParameter",n)})})}export{it as registerFunctions};
