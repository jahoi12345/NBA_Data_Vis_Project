import{n as m,N as g,t as f}from"./collectionUtils-Dk3LoVuX.js";import{n as c}from"./mat4-n_G6OS58.js";import{e as $,r as I}from"./mat4f64-q_b6UJoq.js";import{r as x,g as h,u as P,A as L,s}from"./vec32-CNF8e3LG.js";import{z as O}from"./vec42-CkbV-zLi.js";import{n as _}from"./vec4f64-DPb6J-GU.js";import{b,v as d}from"./sphere-9lseHxo-.js";class v{get ray(){return this._ray}get distanceInRenderSpace(){return this.distance==null?null:(h(n,this.ray.direction,this.distance),x(n))}withinDistance(t){return!!o(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!o(this)&&(h(n,this.ray.direction,this.distance),P(t,this.ray.origin,n),!0)}getTransformedNormal(t){return s(e,this.normal),e[3]=0,O(e,e,this.transformation),s(t,e),L(t,t)}constructor(t){this.intersector=4,this.normal=m(),this.transformation=$(),this._ray=b(),this.init(t)}init(t){this.distance=this.target=this.drapedLayerOrder=this.renderPriority=null,this.intersector=4,d(t,this._ray)}set(t,i,a,u,p,y,l){this.intersector=t,this.distance=a,s(this.normal,u??g),c(this.transformation,p??I),this.target=i,this.drapedLayerOrder=y,this.renderPriority=l}copy(t){d(t.ray,this._ray),this.intersector=t.intersector,this.distance=t.distance,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.renderPriority=t.renderPriority,s(this.normal,t.normal),c(this.transformation,t.transformation)}}function o(r){return r?.distance!=null}const n=m(),e=_();class j{constructor(t,i,a){this.object=t,this.geometryId=i,this.primitiveIndex=a}}class T extends v{constructor(){super(...arguments),this.intersector=1}}class k extends j{constructor(t,i){super(t.object,t.geometryId,t.primitiveIndex),this.center=f(i)}}function q(r){return o(r)&&r.intersector===1&&!!r.target&&"center"in r.target}export{k as c,v as f,q as i,T as o,o as p};
