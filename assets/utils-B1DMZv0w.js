import{ap as b}from"./jsonMap-Bs3hmeCU.js";import{C as k,d as w}from"./projectionUtils-BYIvMX5W.js";function O(t=""){return`${t}${b()}`}function U(t,d,c,n,u){const g=n.spatialReference,s=k(d,g);if(s==null)return t;let i=e=>[t[e],t[e+1],t[e+2]];s!==w&&(i=e=>(s(t,e,l,0),[l[0],l[1],l[2]]));const f=t.length/3,p=c.mode;switch(c.mode){case"on-the-ground":for(let e=0;e<f;++e){const o=3*e,[r,a]=i(o);t[o+2]=n.getElevation(r,a,0,n.spatialReference,"ground")??0}break;case"relative-to-ground":case"relative-to-scene":{const e=p==="relative-to-ground"?"ground":"scene";for(let o=0;o<f;++o){const r=3*o,[a,m,h]=i(r),v=c.calculateOffsetRenderUnits(u),R=n.getElevation(a,m,0,n.spatialReference,e)??0;t[r+2]=h+v+R}}break;case"absolute-height":for(let e=0;e<f;++e){const o=3*e,r=t[o+2],a=c.calculateOffsetRenderUnits(u);t[o+2]=r+a}}return t}const l=new Float64Array(3);export{U as n,O as r};
