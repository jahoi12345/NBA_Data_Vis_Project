import{v as K,aJ as Lt,a2 as u,q as Z,bo as Nt,a7 as v,Y as e,H as o,G as l,aM as vt,K as gt,aG as Pt}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{R as Q,C as It,l as kt,M as Vt,Y as ft,w as Bt}from"./collectionUtils-jDyktm0P-ArdXNs6F.js";import{t as Jt,i as Wt}from"./reactiveUtils-SO2Ko3sy-BCLX8Jdy.js";import{F as z,B as y}from"./Color-CERqXxxY-BuYn26eI.js";import{c as j,l as _t,p as x,a as tt,b as R,t as Yt}from"./ExtrudeSymbol3DLayer-DSc1ou2x-CsVYZCeG.js";import{f as G}from"./screenUtils-BitdhK1O-L0FLPAMi.js";import{z as St}from"./aaBoundingBox-Cn49X7ge-DORLZxoS.js";import{aq as qt,m as Rt,Y as Mt,K as Ut,D as Et,au as Kt,av as Gt,j as Xt,s as Zt,M as Qt}from"./Point-BfTTZoMu-BAT2Wq6O.js";import{u as X}from"./reader-DcGs6kKN-DHJfK-tm.js";import{r as te,u as ee,b as oe}from"./lineMarkers-CDwLe3J6-CNUjJvs3.js";import{t as At,j as re,z as ie,N as se}from"./Font-BwmnW7d2-D-oIm_Md.js";import"./index-CTl7hdrJ.js";import"./Extent-CgDMOSRD-CU1qE5Kr.js";import"./SimpleObservable-CvFyr0NA-DXpoMYph.js";import"./mathUtils-PIGhLnI9-B1tKUlUb.js";import"./opacityUtils-DuFH0EC9-DWspTgn2.js";import"./aaBoundingRect-CjwcS2F3-D7aII9DY.js";import"./DoubleArray-DExKNiTh-CvVpHySW.js";import"./mat4f64-q_b6UJoq-Dh6sWB_w.js";let $=class extends v{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};e([o({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],$.prototype,"type",void 0),$=e([l("esri.symbols.patterns.LinePattern3D")],$);const le=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var ot;const ne=vt()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let D=ot=class extends ${constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new ot(t)}};e([o({type:["style"],json:{write:{isRequired:!0}}})],D.prototype,"type",void 0),e([y(ne),o({type:le,json:{write:{isRequired:!0}}})],D.prototype,"style",void 0),D=ot=e([l("esri.symbols.patterns.LineStylePattern3D")],D);let H=class extends v{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};e([o({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],H.prototype,"type",void 0),H=e([l("esri.symbols.patterns.Pattern3D")],H);const ae=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var rt;let k=rt=class extends H{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new rt({style:this.style})}};e([o({type:["style"],json:{write:{isRequired:!0}}})],k.prototype,"type",void 0),e([o({type:ae,json:{read:!0,write:{isRequired:!0}}})],k.prototype,"style",void 0),k=rt=e([l("esri.symbols.patterns.StylePattern3D")],k);const pe={types:{key:"type",base:H,typeMap:{style:k}},json:{write:!0}},Ct={types:{key:"type",base:$,typeMap:{style:D}},json:{write:!0}},F=new z("white"),ue=new z([255,255,255,0]);function ye(t){return t.r===0&&t.g===0&&t.b===0}var it;let T=it=class extends x{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new it(t)}};e([y({multiply:"multiply",replace:"replace",tint:"tint"})],T.prototype,"colorMixMode",void 0),T=it=e([l("esri.symbols.support.Symbol3DFillMaterial")],T);function Te(t,{isPrimitive:r,width:i,depth:s,height:c}){const et=r?10:1;if(i==null&&c==null&&s==null)return[et*t[0],et*t[1],et*t[2]];const V=Vt(i,s,c);let zt;for(let b=0;b<3;b++){const xt=V[b];if(xt!=null){zt=xt/t[b];break}}for(let b=0;b<3;b++)V[b]==null&&(V[b]=t[b]*zt);return V}const he=St(-.5,-.5,-.5,.5,.5,.5),ce=St(-.5,-.5,0,.5,.5,1),de=St(-.5,-.5,0,.5,.5,.5);function Ie(t){switch(t){case"sphere":case"cube":case"diamond":return he;case"cylinder":case"cone":case"inverted-cone":return ce;case"tetrahedron":return de;default:return}}const jt=["butt","square","round"],me=[...jt,"none"],$t=["miter","bevel","round"];var st;let L=st=class extends v{constructor(t){super(t),this.color=new z([0,0,0,1]),this.size=G(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new st(t)}};e([o(tt({colorRequiredOnWrite:!0}))],L.prototype,"color",void 0),e([o({...R,json:{write:{isRequired:!0}}})],L.prototype,"size",void 0),e([o(Ct)],L.prototype,"pattern",void 0),e([o({type:jt,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],L.prototype,"patternCap",void 0),L=st=e([l("esri.symbols.support.Symbol3DOutline")],L);var B;let m=class extends j{static{B=this}constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new B(t)}static fromSimpleFillSymbol(t){const r=t.outline&&t.outline.style&&t.outline.style!=="solid"?new D({style:t.outline.style}):null,i={size:t.outline?.width??0,color:(t.outline?.color??F).clone(),pattern:r};return r&&t.outline?.cap&&(i.patternCap=t.outline.cap),new B({material:new T({color:(t.color??ue).clone()}),pattern:t.style&&t.style!=="solid"?new k({style:t.style}):null,outline:i})}};e([y({Fill:"fill"},{readOnly:!0})],m.prototype,"type",void 0),e([o({type:T,json:{write:!0}})],m.prototype,"material",void 0),e([o(pe)],m.prototype,"pattern",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],m.prototype,"castShadows",void 0),e([o({type:L,json:{write:!0}})],m.prototype,"outline",void 0),e([o(Yt)],m.prototype,"edges",void 0),m=B=e([l("esri.symbols.FillSymbol3DLayer")],m);var lt;const be=vt()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let N=lt=class extends v{constructor(t){super(t)}readHref(t,r,i){return t?qt(t,i):r.dataURI}writeHref(t,r,i,s){t&&(Qt(t)?r.dataURI=t:(r.href=Rt(t,s),Mt(r.href)&&(r.href=Ut(r.href))))}clone(){return new lt({href:this.href,primitive:this.primitive})}equals(t){return t.primitive===this.primitive&&t.href===this.href}};e([o({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],N.prototype,"href",void 0),e([X("href")],N.prototype,"readHref",null),e([gt("href",{href:{type:String},dataURI:{type:String}})],N.prototype,"writeHref",null),e([y(be)],N.prototype,"primitive",void 0),N=lt=e([l("esri.symbols.support.IconSymbol3DLayerResource")],N);const Ve="circle";let J=class extends ft(v){constructor(t){super(t),this.mode="hidden"}equals(t){return this.mode===t.mode}};e([o({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],J.prototype,"mode",void 0),J=e([l("esri.symbols.support.OccludedVisibility")],J);const Ht=J;var nt;let _=nt=class extends Z{constructor(t){super(t),this.x=0,this.y=0}clone(){return new nt({x:this.x,y:this.y})}equals(t){return t.x===this.x&&t.y===this.y}};e([o({type:Number})],_.prototype,"x",void 0),e([o({type:Number})],_.prototype,"y",void 0),_=nt=e([l("esri.symbols.support.Symbol3DAnchorPosition2D")],_);var at;let M=at=class extends v{constructor(t){super(t),this.color=new z([0,0,0,1]),this.size=G(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new at(t)}equals(t){return t.size===this.size&&(this.color==null?t.color==null:this.color.equals(t.color))}};e([o(tt({colorRequiredOnWrite:!0}))],M.prototype,"color",void 0),e([o({...R,json:{write:{isRequired:!0}}})],M.prototype,"size",void 0),M=at=e([l("esri.symbols.support.Symbol3DIconOutline")],M);var P;let h=class extends j{static{P=this}constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new P({anchor:this.anchor,anchorPosition:u(this.anchorPosition),enabled:this.enabled,material:u(this.material),outline:u(this.outline),resource:u(this.resource),angle:this.angle,size:this.size,occludedVisibility:u(this.occludedVisibility)})}static fromSimpleMarkerSymbol(t){const r=t.color||F,i=Ot(t),s=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||F).clone()}:null;return new P({size:t.size,angle:t.angle,resource:{primitive:ve(()=>K.getLogger(this.prototype),t.style)},material:{color:r},outline:s,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(t){const r=!t.color||ye(t.color)?F:t.color,i=Ot(t);return new P({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:r.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(t){return new P({resource:{href:Kt({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function Ot(t){const r="width"in t?t.width:t.size,i="height"in t?t.height:t.size,s=Dt(t.xoffset),c=Dt(t.yoffset);return(s||c)&&r&&i?{x:-s/r,y:c/i}:null}function Dt(t){return isFinite(t)?t:0}e([o({type:x,json:{write:!0}})],h.prototype,"material",void 0),e([o({type:N,json:{write:!0}})],h.prototype,"resource",void 0),e([y({Icon:"icon"},{readOnly:!0})],h.prototype,"type",void 0),e([o({...R,json:{write:{isRequired:!0}}})],h.prototype,"size",void 0),e([y({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],h.prototype,"anchor",void 0),e([o({type:_,json:{type:[Number],read:{reader:t=>new _({x:t[0],y:t[1]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],h.prototype,"anchorPosition",void 0),e([o({type:M,json:{write:!0}})],h.prototype,"outline",void 0),e([o({type:Number,json:{write:!0,default:0}})],h.prototype,"angle",void 0),e([o({type:Ht})],h.prototype,"occludedVisibility",void 0),h=P=e([l("esri.symbols.IconSymbol3DLayer")],h);const we={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function ve(t,r){return we[r]||(t().warn(`${r} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}let f=class extends ft(v){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};e([o({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],f.prototype,"type",void 0),e([o({type:ee,json:{default:"begin-end",write:!0}})],f.prototype,"placement",void 0),e([o({type:oe,json:{default:"arrow",write:!0}})],f.prototype,"style",void 0),e([o({type:z,json:{type:[Pt],default:null,write:!0}})],f.prototype,"color",void 0),f=e([l("esri.symbols.LineStyleMarker3D")],f);var W;let d=class extends j{static{W=this}constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=G(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new W(t)}static fromSimpleLineSymbol(t){const r={enabled:!0,size:t.width??G(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new D({style:t.style}):null,material:new x({color:(t.color||F).clone()}),marker:t.marker?new f({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new W(r)}};e([o({type:x,json:{write:!0}})],d.prototype,"material",void 0),e([y({Line:"line"},{readOnly:!0})],d.prototype,"type",void 0),e([o({type:$t,json:{write:!0,default:"miter"}})],d.prototype,"join",void 0),e([o({type:jt,json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0),e([o({...R,json:{write:{isRequired:!0}}})],d.prototype,"size",void 0),e([o(Ct)],d.prototype,"pattern",void 0),e([o({types:{key:"type",base:f,typeMap:{style:f}},json:{write:!0}})],d.prototype,"marker",void 0),d=W=e([l("esri.symbols.LineSymbol3DLayer")],d);var pt;const ge=vt()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let U=pt=class extends v{clone(){return new pt({href:this.href,primitive:this.primitive})}};e([o({type:String,json:{read:Xt,write:Gt}})],U.prototype,"href",void 0),e([y(ge)],U.prototype,"primitive",void 0),U=pt=e([l("esri.symbols.support.ObjectSymbol3DLayerResource")],U);const Be="sphere";var ut;let O=ut=class extends Z{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new ut({x:this.x,y:this.y,z:this.z})}};e([o({type:Number})],O.prototype,"x",void 0),e([o({type:Number})],O.prototype,"y",void 0),e([o({type:Number})],O.prototype,"z",void 0),O=ut=e([l("esri.symbols.support.Symbol3DAnchorPosition3D")],O);var yt;let n=class extends j{static{yt=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new yt({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};e([o({type:x,json:{write:!0}})],n.prototype,"material",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],n.prototype,"castShadows",void 0),e([o({type:U,json:{write:!0}})],n.prototype,"resource",void 0),e([y({Object:"object"},{readOnly:!0})],n.prototype,"type",void 0),e([o({type:Number,json:{write:!0}})],n.prototype,"width",void 0),e([o({type:Number,json:{write:!0}})],n.prototype,"height",void 0),e([o({type:Number,json:{write:!0}})],n.prototype,"depth",void 0),e([y({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],n.prototype,"anchor",void 0),e([o({type:O,json:{type:[Number],read:{reader:t=>new O({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],n.prototype,"anchorPosition",void 0),e([o({type:Number,json:{write:!0}})],n.prototype,"heading",void 0),e([o({type:Number,json:{write:!0}})],n.prototype,"tilt",void 0),e([o({type:Number,json:{write:!0}})],n.prototype,"roll",void 0),e([o({readOnly:!0})],n.prototype,"isPrimitive",null),n=yt=e([l("esri.symbols.ObjectSymbol3DLayer")],n);var ht;let p=class extends j{static{ht=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,r){return t??(r.height==null&&r.size!=null?r.size:void 0)}readHeight(t,r){return t??(r.width==null&&r.size!=null?r.size:void 0)}clone(){return new ht({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};e([o({type:x,json:{write:!0}})],p.prototype,"material",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],p.prototype,"castShadows",void 0),e([y({Path:"path"},{readOnly:!0})],p.prototype,"type",void 0),e([o({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],p.prototype,"profile",void 0),e([o({type:$t,nonNullable:!0,json:{write:!0,default:"miter"}})],p.prototype,"join",void 0),e([o({type:me,nonNullable:!0,json:{write:!0,default:"butt"}})],p.prototype,"cap",void 0),e([o({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],p.prototype,"width",void 0),e([X("width",["width","size","height"])],p.prototype,"readWidth",null),e([o({type:Number,json:{write:!0}})],p.prototype,"height",void 0),e([X("height",["height","size","width"])],p.prototype,"readHeight",null),e([o({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],p.prototype,"anchor",void 0),e([o({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],p.prototype,"profileRotation",void 0),p=ht=e([l("esri.symbols.PathSymbol3DLayer")],p);var ct;let q=ct=class extends v{constructor(){super(...arguments),this.color=new z([0,0,0,1]),this.size=0}clone(){const t={color:u(this.color),size:this.size};return new ct(t)}};e([o(tt())],q.prototype,"color",void 0),e([o(R)],q.prototype,"size",void 0),q=ct=e([l("esri.symbols.support.Symbol3DHalo")],q);let I=class extends ft(v){constructor(t){super(t),this.color=null}};e([o(tt())],I.prototype,"color",void 0),I=e([l("esri.symbols.support.Symbol3DTextBackground")],I);var Y;let a=class extends j{static{Y=this}constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,r,i,s){const c={...s,textSymbol3D:!0};r.font=t.write({},c),delete r.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new Y({enabled:this.enabled,font:u(this.font),halo:u(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:u(this.background),occludedVisibility:u(this.occludedVisibility)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new Y({font:t.font!=null?t.font.clone():new At,halo:fe(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new x({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new I({color:t.backgroundColor.clone()}):null})}};function fe(t,r){return t&&r!=null&&r>0?new q({color:u(t),size:r}):null}e([o({type:At,json:{write:!0}})],a.prototype,"font",null),e([gt("font")],a.prototype,"writeFont",null),e([o({type:q,json:{write:!0}})],a.prototype,"halo",void 0),e([o({...re,json:{default:"center",write:!0}})],a.prototype,"horizontalAlignment",void 0),e([o({...ie,json:{default:1,write:!0}})],a.prototype,"lineHeight",void 0),e([o({type:x,json:{write:!0}})],a.prototype,"material",void 0),e([o({type:I,json:{write:!0}})],a.prototype,"background",void 0),e([o(R)],a.prototype,"size",null),e([o({type:String,json:{write:!0}})],a.prototype,"text",void 0),e([y({Text:"text"},{readOnly:!0})],a.prototype,"type",void 0),e([o({...se,json:{default:"baseline",write:!0}})],a.prototype,"verticalAlignment",void 0),e([o({type:Ht})],a.prototype,"occludedVisibility",void 0),a=Y=e([l("esri.symbols.TextSymbol3DLayer")],a);var dt;let g=class extends j{static{dt=this}constructor(t){super(t),this.color=mt.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new dt({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};e([o({type:z,nonNullable:!0,json:{type:[Pt],write:(t,r,i)=>r[i]=t.toArray(1),default:()=>mt.clone(),defaultEquals:t=>t.toCss(!0)===mt.toCss(!0)}})],g.prototype,"color",void 0),e([y({Water:"water"},{readOnly:!0})],g.prototype,"type",void 0),e([o({type:["small","medium","large"],json:{write:!0,default:"medium"}})],g.prototype,"waterbodySize",void 0),e([o({type:Number,json:{write:!0,default:null}})],g.prototype,"waveDirection",void 0),e([o({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],g.prototype,"waveStrength",void 0),g=dt=e([l("esri.symbols.WaterSymbol3DLayer")],g);const mt=new z([0,119,190]);var bt;let S=bt=class extends Z{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new bt({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};e([o({type:String})],S.prototype,"name",void 0),e([o({type:String})],S.prototype,"styleUrl",void 0),e([o({type:String})],S.prototype,"styleName",void 0),e([o({type:kt})],S.prototype,"portal",void 0),S=bt=e([l("esri.symbols.support.StyleOrigin")],S);var wt;let E=wt=class extends Z{constructor(){super(...arguments),this.url=""}clone(){return new wt({url:this.url})}};e([o({type:String})],E.prototype,"url",void 0),E=wt=e([l("esri.symbols.support.Thumbnail")],E);const Ft={icon:h,object:n,line:d,path:p,fill:m,extrude:_t,text:a,water:g},Se=Q.ofType({base:j,key:"type",typeMap:Ft,errorContext:"symbol-layer"});let w=class extends te{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r?.type,s=i||Q;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&K.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){It(t,this._get("symbolLayers"))}readStyleOrigin(t,r,i){if(t.styleUrl&&t.name){const s=qt(t.styleUrl,i);return new S({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new S({portal:i?.portal||kt.getDefault(),styleName:t.styleName,name:t.name});i?.messages&&i.messages.push(new Lt("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,r,i,s){if(t.styleUrl&&t.name){let c=Rt(t.styleUrl,s);Mt(c)&&(c=Ut(c)),r.styleOrigin={styleUrl:c,name:t.name}}else t.styleName&&t.name&&(t.portal&&s?.portal&&!Et(t.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new Lt("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof j||t&&Ft[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};e([o({json:{read:!1,write:!1}})],w.prototype,"color",null),e([o({type:Se,nonNullable:!0,json:{write:!0}}),Zt(Bt)],w.prototype,"symbolLayers",null),e([o({type:S})],w.prototype,"styleOrigin",void 0),e([X("styleOrigin")],w.prototype,"readStyleOrigin",null),e([gt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],w.prototype,"writeStyleOrigin",null),e([o({type:E,json:{read:!1}})],w.prototype,"thumbnail",void 0),e([o({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],w.prototype,"type",void 0),w=e([l("esri.symbols.Symbol3D")],w);var A;const Tt=Q.ofType({base:null,key:"type",typeMap:{extrude:_t,fill:m,icon:h,line:d,object:n,text:a,water:g}});let C=A=class extends w{constructor(t){super(t),this.symbolLayers=new Tt,this.type="polygon-3d"}initialize(){const t=r=>{r.type==="line"&&Nt(K.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),r.type==="text"&&Nt(K.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const r of this.symbolLayers)t(r);this.addHandles(Jt(()=>this.symbolLayers,"after-add",({item:r})=>t(r),Wt))}clone(){return new A({styleOrigin:u(this.styleOrigin),symbolLayers:u(this.symbolLayers),thumbnail:u(this.thumbnail)})}static fromJSON(t){const r=new A;if(r.read(t),r.symbolLayers.length===2&&r.symbolLayers.at(0).type==="fill"&&r.symbolLayers.at(1).type==="line"){const i=r.symbolLayers.at(0),s=r.symbolLayers.at(1);!s.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(i.outline={size:s.size,color:s.material!=null?s.material.color:null}),r.symbolLayers.removeAt(1)}return r}static fromSimpleFillSymbol(t){return new A({symbolLayers:new Q([m.fromSimpleFillSymbol(t)])})}};e([o({type:Tt,json:{write:!0}})],C.prototype,"symbolLayers",void 0),e([y({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],C.prototype,"type",void 0),C=A=e([l("esri.symbols.PolygonSymbol3D")],C);const Je=Object.freeze(Object.defineProperty({__proto__:null,get default(){return C}},Symbol.toStringTag,{value:"Module"}));export{Je as P,w as T,d as a,a as b,Ie as c,m as d,h as e,n as f,C as g,Be as h,_ as i,Ve as j,S as l,p as n,E as p,Te as t};
