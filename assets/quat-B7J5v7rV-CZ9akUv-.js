import{e as j,a as L,o as S}from"./Polygon-D6wEPb3W-D2MPjRU4.js";import{t as y}from"./quatf64-CCm9z-pX-CQ7_sSji.js";import{M as A,t as T}from"./collectionUtils-jDyktm0P-BDP2Oq99.js";import{A as V,F as $,a as v,l as O}from"./vec32-CewSdTn3-VRto2OOh.js";import{z as Y,V as k,C,g as G,S as K,G as N,p as Q,I as R,F as U,_ as W,j as X}from"./vec42-B8VM4vXb-B6OGOEI9.js";function Z(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function b(t,n,s){s*=.5;const r=Math.sin(s);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(s),t}function w(t,n){const s=2*Math.acos(n[3]),r=Math.sin(s/2);return r>j()?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),s}function x(t,n,s){const r=n[0],e=n[1],c=n[2],i=n[3],u=s[0],h=s[1],M=s[2],l=s[3];return t[0]=r*l+i*u+e*M-c*h,t[1]=e*l+i*h+c*u-r*M,t[2]=c*l+i*M+r*h-e*u,t[3]=i*l-r*u-e*h-c*M,t}function B(t,n,s){s*=.5;const r=n[0],e=n[1],c=n[2],i=n[3],u=Math.sin(s),h=Math.cos(s);return t[0]=r*h+i*u,t[1]=e*h+c*u,t[2]=c*h-e*u,t[3]=i*h-r*u,t}function D(t,n,s){s*=.5;const r=n[0],e=n[1],c=n[2],i=n[3],u=Math.sin(s),h=Math.cos(s);return t[0]=r*h-c*u,t[1]=e*h+i*u,t[2]=c*h+r*u,t[3]=i*h-e*u,t}function H(t,n,s){s*=.5;const r=n[0],e=n[1],c=n[2],i=n[3],u=Math.sin(s),h=Math.cos(s);return t[0]=r*h+e*u,t[1]=e*h-r*u,t[2]=c*h+i*u,t[3]=i*h-c*u,t}function J(t,n){const s=n[0],r=n[1],e=n[2];return t[0]=s,t[1]=r,t[2]=e,t[3]=Math.sqrt(Math.abs(1-s*s-r*r-e*e)),t}function d(t,n,s,r){const e=n[0],c=n[1],i=n[2],u=n[3];let h,M,l,o,a,m=s[0],p=s[1],q=s[2],g=s[3];return M=e*m+c*p+i*q+u*g,M<0&&(M=-M,m=-m,p=-p,q=-q,g=-g),1-M>j()?(h=Math.acos(M),l=Math.sin(h),o=Math.sin((1-r)*h)/l,a=Math.sin(r*h)/l):(o=1-r,a=r),t[0]=o*e+a*m,t[1]=o*c+a*p,t[2]=o*i+a*q,t[3]=o*u+a*g,t}function tt(t){const n=S,s=n(),r=n(),e=n(),c=Math.sqrt(1-s),i=Math.sqrt(s);return t[0]=c*Math.sin(2*Math.PI*r),t[1]=c*Math.cos(2*Math.PI*r),t[2]=i*Math.sin(2*Math.PI*e),t[3]=i*Math.cos(2*Math.PI*e),t}function nt(t,n){const s=n[0],r=n[1],e=n[2],c=n[3],i=s*s+r*r+e*e+c*c,u=i?1/i:0;return t[0]=-s*u,t[1]=-r*u,t[2]=-e*u,t[3]=c*u,t}function rt(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function z(t,n){const s=n[0]+n[4]+n[8];let r;if(s>0)r=Math.sqrt(s+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{let e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);const c=(e+1)%3,i=(e+2)%3;r=Math.sqrt(n[3*e+e]-n[3*c+c]-n[3*i+i]+1),t[e]=.5*r,r=.5/r,t[3]=(n[3*c+i]-n[3*i+c])*r,t[c]=(n[3*c+e]+n[3*e+c])*r,t[i]=(n[3*i+e]+n[3*e+i])*r}return t}function et(t,n,s,r){const e=.5*Math.PI/180;n*=e,s*=e,r*=e;const c=Math.sin(n),i=Math.cos(n),u=Math.sin(s),h=Math.cos(s),M=Math.sin(r),l=Math.cos(r);return t[0]=c*h*l-i*u*M,t[1]=i*u*l+c*h*M,t[2]=i*h*M-c*u*l,t[3]=i*h*l+c*u*M,t}function st(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const ct=W,it=Y,ut=X,ht=x,Mt=K,lt=U,ft=N,E=Q,ot=E,F=G,at=F,P=C,mt=k,pt=R;function qt(t,n,s){const r=V(n,s);return r<-.999999?($(f,gt,n),v(f)<1e-6&&$(f,dt,n),O(f,f),b(t,f,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):($(f,n,s),t[0]=f[0],t[1]=f[1],t[2]=f[2],t[3]=1+r,P(t,t))}const f=T(),gt=A(1,0,0),dt=A(0,1,0);function $t(t,n,s,r,e,c){return d(_,n,e,c),d(I,s,r,c),d(t,_,I,2*c*(1-c)),t}const _=y(),I=y();function Pt(t,n,s,r){const e=_t;return e[0]=s[0],e[3]=s[1],e[6]=s[2],e[1]=r[0],e[4]=r[1],e[7]=r[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],P(t,z(t,e))}const _t=L();Object.freeze(Object.defineProperty({__proto__:null,add:ut,calculateW:J,conjugate:rt,copy:ct,dot:lt,equals:pt,exactEquals:mt,fromEuler:et,fromMat3:z,getAxisAngle:w,identity:Z,invert:nt,len:ot,length:E,lerp:ft,mul:ht,multiply:x,normalize:P,random:tt,rotateX:B,rotateY:D,rotateZ:H,rotationTo:qt,scale:Mt,set:it,setAxes:Pt,setAxisAngle:b,slerp:d,sqlerp:$t,sqrLen:at,squaredLength:F,str:st},Symbol.toStringTag,{value:"Module"}));export{x as E,w as N,b,et as e,mt as m,nt as o,qt as p,rt as r,it as t};
