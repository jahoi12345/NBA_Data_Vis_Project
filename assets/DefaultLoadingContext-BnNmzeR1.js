import{L as s,M as o,H as n}from"./Point-62ir3Nzl.js";import{_ as i}from"./asyncUtils-w6KfWU41.js";import{d as u,s as l,f as d}from"./jsonMap-Bs3hmeCU.js";class y{constructor(r){this._streamDataRequester=r}async loadJSON(r,a){return this._load(0,r,a)}async loadBinary(r,a){return o(r)?(u(a),s(r)):this._load(1,r,a)}async loadImage(r,a){return this._load(2,r,a)}async _load(r,a,e){if(this._streamDataRequester==null)return(await n(a,{responseType:f[r]})).data;const t=await i(this._streamDataRequester.request(a,r,e));if(t.ok===!0)return t.value;throw d(t.error),new l("glt-loader-request-error",`Request for resource failed: ${t.error}`)}}const f={2:"image",1:"array-buffer",0:"json",3:void 0};export{y as l};
