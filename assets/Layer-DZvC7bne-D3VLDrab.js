const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/portalLayers-CuUf8b9P-CGHBSFCH.js","assets/jsonMap-Bs3hmeCU-Cusd0Fmz.js","assets/associatedFeatureServiceUtils-BBHOCEqH-B0C_-24D.js","assets/Point-BfTTZoMu-DeJwQYfh.js","assets/index-B0z_nLWi.js","assets/index-Cv2ko1Ob.css","assets/reader-DcGs6kKN-DHJfK-tm.js","assets/collectionUtils-jDyktm0P-BDP2Oq99.js","assets/reactiveUtils-SO2Ko3sy-BCLX8Jdy.js","assets/Extent-CgDMOSRD-Bod5LY6s.js","assets/SimpleObservable-CvFyr0NA-DXpoMYph.js","assets/PortalItem-DnxMlRVo-CI4Ns2_M.js","assets/fetchService-Bb67nyFD-BmjCOSQ9.js","assets/layerUtils-DZGhvm-W-CfyHx1TZ.js","assets/loadUtils-CsdEVatB-CJ6RroRL.js","assets/lazyLayerLoader-3N9j85rv-KxWzY4-B.js","assets/portalItemUtils-CaPNUJg6-CXDHI5LA.js","assets/projectionUtils-BGH_5_I3-DGwchVO8.js","assets/Polyline-CoiTLswR-DTxpB2Yg.js","assets/Polygon-D6wEPb3W-D2MPjRU4.js","assets/aaBoundingRect-CjwcS2F3-ri8bmh30.js","assets/mathUtils-PIGhLnI9-B1tKUlUb.js","assets/date-IqUzANpt-bLKO9IDT.js","assets/arcgisLayers-C6sH1k7h-CiQIM-ft.js"])))=>i.map(i=>d[i]);
import{H as E,_ as I}from"./index-B0z_nLWi.js";import{a7 as B,Y as i,G as m,w as C,v as S,I as v,aH as k,H as a,K as g}from"./jsonMap-Bs3hmeCU-Cusd0Fmz.js";import{f as h,I as H,H as R}from"./Point-BfTTZoMu-DeJwQYfh.js";import{w as V}from"./reactiveUtils-SO2Ko3sy-BCLX8Jdy.js";import{k as G}from"./collectionUtils-jDyktm0P-BDP2Oq99.js";import{z as U}from"./Extent-CgDMOSRD-Bod5LY6s.js";import{X as c,U as x,p as A,m as _}from"./date-IqUzANpt-bLKO9IDT.js";import{u as b}from"./reader-DcGs6kKN-DHJfK-tm.js";const f=(e,t=f,s=t.f||(t.f=["assets/portalLayers-CuUf8b9P.js","assets/jsonMap-Bs3hmeCU.js","assets/associatedFeatureServiceUtils-BBHOCEqH.js","assets/Point-BfTTZoMu.js","assets/reader-DcGs6kKN.js","assets/index-BzxsWNRw.js","assets/index-Cv2ko1Ob.css","assets/collectionUtils-jDyktm0P.js","assets/reactiveUtils-SO2Ko3sy.js","assets/Extent-CgDMOSRD.js","assets/SimpleObservable-CvFyr0NA.js","assets/PortalItem-DnxMlRVo.js","assets/fetchService-Bb67nyFD.js","assets/layerUtils-DZGhvm-W.js","assets/loadUtils-CsdEVatB.js","assets/lazyLayerLoader-3N9j85rv.js","assets/portalItemUtils-CaPNUJg6.js","assets/projectionUtils-BGH_5_I3.js","assets/Polyline-CoiTLswR.js","assets/Polygon-D6wEPb3W.js","assets/aaBoundingRect-CjwcS2F3.js","assets/mathUtils-PIGhLnI9.js","assets/date-IqUzANpt.js","assets/arcgisLayers-C6sH1k7h.js"]))=>e.map(r=>s[r]);let N=0;const O=e=>{const t=e;let s=class extends t{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+N++})}};return s=i([m("esri.core.Identifiable")],s),s},tt=e=>{const t=e;let s=class extends t{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:N++})}};return s=i([m("esri.core.Identifiable.NumericIdentifiable")],s),s},et=O(class{});async function M(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:s}=await E(async()=>{const{fromItem:r}=await I(()=>import("./portalLayers-CuUf8b9P-CGHBSFCH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]));return{fromItem:r}},f([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]));try{return await s(t)}catch(r){const n=t?.portalItem,l=n?.id||"unset",u=n?.portal?.url||k.portalUrl;throw S.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+u+"', id: '"+l+"')",r),r}}const j={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function y(e,t,s,r=c){const n=new x(A(r)),l=_.fromJSDate(e,{zone:n}),u=s==="decades"||s==="centuries"?"year":P(s);return s==="decades"&&(t*=10),s==="centuries"&&(t*=100),l.plus({[u]:t}).toJSDate()}function st(e,t,s="milliseconds"){const r=e.getTime(),n=$(t,s,"milliseconds");return new Date(r+n)}function T(e,t,s=c){const r=new x(A(s)),n=_.fromJSDate(e,{zone:r});if(t==="decades"||t==="centuries"){const u=n.startOf("year"),{year:w}=u,L=w-w%(t==="decades"?10:100);return u.set({year:L}).toJSDate()}const l=P(t);return n.startOf(l).toJSDate()}function $(e,t,s){return e===0?0:e*j[t]/j[s]}function rt(e,t){return e&&t?e.intersection(t):e||t}function P(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var p;let d=class extends B{static{p=this}static get allTime(){return D}static get empty(){return z}static fromArray(e){return new p({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(p.allTime)}get isEmpty(){return this.equals(p.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new p({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,s=this.end?.getTime()??this.end,r=e.start?.getTime()??e.start,n=e.end?.getTime()??e.end;return t===r&&s===n}expandTo(e,t=c){if(this.isEmpty||this.isAllTime)return this.clone();let s=this.start;s&&(s=T(s,e,t));let r=this.end;if(r){const n=T(r,e,t);r=r.getTime()===n.getTime()?n:y(n,1,e,t)}return new p({start:s,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return p.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,s=this.end?.getTime()??1/0,r=e.start?.getTime()??-1/0,n=e.end?.getTime()??1/0;let l,u;return r>=t&&r<=s?l=r:t>=r&&t<=n&&(l=t),s>=r&&s<=n?u=s:n>=t&&n<=s&&(u=n),l==null||u==null||isNaN(l)||isNaN(u)?p.empty:new p({start:l===-1/0?null:new Date(l),end:u===1/0?null:new Date(u)})}offset(e,t,s=c){if(this.isEmpty||this.isAllTime)return this.clone();const r=new p,{start:n,end:l}=this;return n!=null&&(r.start=y(n,e,t,s)),l!=null&&(r.end=y(l,e,t,s)),r}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return D.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,s=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new p({start:t,end:s})}};i([a({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),i([b("end")],d.prototype,"readEnd",null),i([g("end")],d.prototype,"writeEnd",null),i([a({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),i([a({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),i([a({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),i([b("start")],d.prototype,"readStart",null),i([g("start")],d.prototype,"writeStart",null),d=p=i([m("esri.time.TimeExtent")],d);const D=new d,z=new d({start:void 0,end:void 0});let F=0,o=class extends V(O(G)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new U(-180,-90,180,90,h.WGS84),this.id=Date.now().toString(16)+"-layer-"+F++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=h.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const s=typeof t=="string"?{url:t}:t;return(await E(async()=>{const{fromUrl:r}=await I(()=>import("./arcgisLayers-C6sH1k7h-CiQIM-ft.js"),__vite__mapDeps([23,4,5,1,3,6,2,7,8,9,10,11,12,13,15,22]));return{fromUrl:r}},f([23,5,6,1,3,4,2,7,8,9,10,11,12,13,15,22]))).fromUrl(s)}static fromPortalItem(t){return M(t)}initialize(){this.when().catch(t=>{C(t)||S.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const{parent:t}=this;t&&(this.parent=null,t.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:t}=this;t&&(t.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return H(this.url)}createLayerView(t,s){return Promise.reject(new v("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await R(t,{query:{f:"json"},responseType:"json"})).data;throw new v("layer:no-attribution-data","Layer does not have attribution data")}};i([a({type:String})],o.prototype,"attributionDataUrl",void 0),i([a({readOnly:!0})],o.prototype,"effectiveVisible",null),i([a({type:U})],o.prototype,"fullExtent",void 0),i([a({readOnly:!0})],o.prototype,"hasAttributionData",null),i([a({type:String,clonable:!1})],o.prototype,"id",void 0),i([a({type:Boolean,nonNullable:!0})],o.prototype,"legendEnabled",void 0),i([a({type:["show","hide","hide-children"]})],o.prototype,"listMode",void 0),i([a({type:Number,range:{min:0,max:1},nonNullable:!0})],o.prototype,"opacity",void 0),i([a({clonable:!1})],o.prototype,"parent",void 0),i([a({readOnly:!0})],o.prototype,"parsedUrl",null),i([a({type:Boolean,readOnly:!0})],o.prototype,"persistenceEnabled",void 0),i([a({type:Boolean})],o.prototype,"popupEnabled",void 0),i([a({type:Boolean})],o.prototype,"attributionVisible",void 0),i([a({type:h})],o.prototype,"spatialReference",void 0),i([a({type:String})],o.prototype,"title",void 0),i([a({readOnly:!0,json:{read:!1}})],o.prototype,"type",void 0),i([a()],o.prototype,"url",void 0),i([a({type:d})],o.prototype,"visibilityTimeExtent",void 0),i([a({type:Boolean,nonNullable:!0})],o.prototype,"visible",void 0),o=i([m("esri.layers.Layer")],o);export{$ as M,tt as X,et as Y,d,rt as e,o,st as t,j as v,O as x,y};
